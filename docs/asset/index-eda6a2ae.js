(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var $4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var x1={exports:{}},wd={},v1={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc=Symbol.for("react.element"),O5=Symbol.for("react.portal"),R5=Symbol.for("react.fragment"),B5=Symbol.for("react.strict_mode"),q5=Symbol.for("react.profiler"),U5=Symbol.for("react.provider"),$5=Symbol.for("react.context"),H5=Symbol.for("react.forward_ref"),V5=Symbol.for("react.suspense"),W5=Symbol.for("react.memo"),G5=Symbol.for("react.lazy"),I0=Symbol.iterator;function J5(e){return e===null||typeof e!="object"?null:(e=I0&&e[I0]||e["@@iterator"],typeof e=="function"?e:null)}var y1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w1=Object.assign,N1={};function Xo(e,t,n){this.props=e,this.context=t,this.refs=N1,this.updater=n||y1}Xo.prototype.isReactComponent={};Xo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function b1(){}b1.prototype=Xo.prototype;function rp(e,t,n){this.props=e,this.context=t,this.refs=N1,this.updater=n||y1}var ip=rp.prototype=new b1;ip.constructor=rp;w1(ip,Xo.prototype);ip.isPureReactComponent=!0;var F0=Array.isArray,j1=Object.prototype.hasOwnProperty,sp={current:null},S1={key:!0,ref:!0,__self:!0,__source:!0};function k1(e,t,n){var r,s={},a=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)j1.call(t,r)&&!S1.hasOwnProperty(r)&&(s[r]=t[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var d=Array(u),p=0;p<u;p++)d[p]=arguments[p+2];s.children=d}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:bc,type:e,key:a,ref:l,props:s,_owner:sp.current}}function Y5(e,t){return{$$typeof:bc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ap(e){return typeof e=="object"&&e!==null&&e.$$typeof===bc}function K5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var E0=/\/+/g;function ph(e,t){return typeof e=="object"&&e!==null&&e.key!=null?K5(""+e.key):t.toString(36)}function _u(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case bc:case O5:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+ph(l,0):r,F0(s)?(n="",e!=null&&(n=e.replace(E0,"$&/")+"/"),_u(s,t,n,"",function(p){return p})):s!=null&&(ap(s)&&(s=Y5(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(E0,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",F0(e))for(var u=0;u<e.length;u++){a=e[u];var d=r+ph(a,u);l+=_u(a,t,n,d,s)}else if(d=J5(e),typeof d=="function")for(e=d.call(e),u=0;!(a=e.next()).done;)a=a.value,d=r+ph(a,u++),l+=_u(a,t,n,d,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ou(e,t,n){if(e==null)return e;var r=[],s=0;return _u(e,r,"","",function(a){return t.call(n,a,s++)}),r}function Q5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ur={current:null},Iu={transition:null},X5={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:Iu,ReactCurrentOwner:sp};function L1(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:ou,forEach:function(e,t,n){ou(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ou(e,function(){t++}),t},toArray:function(e){return ou(e,function(t){return t})||[]},only:function(e){if(!ap(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pt.Component=Xo;Pt.Fragment=R5;Pt.Profiler=q5;Pt.PureComponent=rp;Pt.StrictMode=B5;Pt.Suspense=V5;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X5;Pt.act=L1;Pt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=w1({},e.props),s=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=sp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)j1.call(t,d)&&!S1.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var p=0;p<d;p++)u[p]=arguments[p+2];r.children=u}return{$$typeof:bc,type:e.type,key:s,ref:a,props:r,_owner:l}};Pt.createContext=function(e){return e={$$typeof:$5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:U5,_context:e},e.Consumer=e};Pt.createElement=k1;Pt.createFactory=function(e){var t=k1.bind(null,e);return t.type=e,t};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(e){return{$$typeof:H5,render:e}};Pt.isValidElement=ap;Pt.lazy=function(e){return{$$typeof:G5,_payload:{_status:-1,_result:e},_init:Q5}};Pt.memo=function(e,t){return{$$typeof:W5,type:e,compare:t===void 0?null:t}};Pt.startTransition=function(e){var t=Iu.transition;Iu.transition={};try{e()}finally{Iu.transition=t}};Pt.unstable_act=L1;Pt.useCallback=function(e,t){return ur.current.useCallback(e,t)};Pt.useContext=function(e){return ur.current.useContext(e)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(e){return ur.current.useDeferredValue(e)};Pt.useEffect=function(e,t){return ur.current.useEffect(e,t)};Pt.useId=function(){return ur.current.useId()};Pt.useImperativeHandle=function(e,t,n){return ur.current.useImperativeHandle(e,t,n)};Pt.useInsertionEffect=function(e,t){return ur.current.useInsertionEffect(e,t)};Pt.useLayoutEffect=function(e,t){return ur.current.useLayoutEffect(e,t)};Pt.useMemo=function(e,t){return ur.current.useMemo(e,t)};Pt.useReducer=function(e,t,n){return ur.current.useReducer(e,t,n)};Pt.useRef=function(e){return ur.current.useRef(e)};Pt.useState=function(e){return ur.current.useState(e)};Pt.useSyncExternalStore=function(e,t,n){return ur.current.useSyncExternalStore(e,t,n)};Pt.useTransition=function(){return ur.current.useTransition()};Pt.version="18.3.1";v1.exports=Pt;var he=v1.exports;const Eo=M5(he);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z5=he,ex=Symbol.for("react.element"),tx=Symbol.for("react.fragment"),nx=Object.prototype.hasOwnProperty,rx=Z5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ix={key:!0,ref:!0,__self:!0,__source:!0};function A1(e,t,n){var r,s={},a=null,l=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)nx.call(t,r)&&!ix.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:ex,type:e,key:a,ref:l,props:s,_owner:rx.current}}wd.Fragment=tx;wd.jsx=A1;wd.jsxs=A1;x1.exports=wd;var i=x1.exports,Kh={},C1={exports:{}},qr={},P1={exports:{}},_1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,Y){var K=M.length;M.push(Y);e:for(;0<K;){var Se=K-1>>>1,L=M[Se];if(0<s(L,Y))M[Se]=Y,M[K]=L,K=Se;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var Y=M[0],K=M.pop();if(K!==Y){M[0]=K;e:for(var Se=0,L=M.length,B=L>>>1;Se<B;){var H=2*(Se+1)-1,Z=M[H],re=H+1,fe=M[re];if(0>s(Z,K))re<L&&0>s(fe,Z)?(M[Se]=fe,M[re]=K,Se=re):(M[Se]=Z,M[H]=K,Se=H);else if(re<L&&0>s(fe,K))M[Se]=fe,M[re]=K,Se=re;else break e}}return Y}function s(M,Y){var K=M.sortIndex-Y.sortIndex;return K!==0?K:M.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],p=[],g=1,x=null,w=3,m=!1,_=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(M){for(var Y=n(p);Y!==null;){if(Y.callback===null)r(p);else if(Y.startTime<=M)r(p),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=n(p)}}function U(M){if(k=!1,A(M),!_)if(n(d)!==null)_=!0,ce(X);else{var Y=n(p);Y!==null&&me(U,Y.startTime-M)}}function X(M,Y){_=!1,k&&(k=!1,y(S),S=-1),m=!0;var K=w;try{for(A(Y),x=n(d);x!==null&&(!(x.expirationTime>Y)||M&&!C());){var Se=x.callback;if(typeof Se=="function"){x.callback=null,w=x.priorityLevel;var L=Se(x.expirationTime<=Y);Y=e.unstable_now(),typeof L=="function"?x.callback=L:x===n(d)&&r(d),A(Y)}else r(d);x=n(d)}if(x!==null)var B=!0;else{var H=n(p);H!==null&&me(U,H.startTime-Y),B=!1}return B}finally{x=null,w=K,m=!1}}var ae=!1,G=null,S=-1,z=5,$=-1;function C(){return!(e.unstable_now()-$<z)}function F(){if(G!==null){var M=e.unstable_now();$=M;var Y=!0;try{Y=G(!0,M)}finally{Y?J():(ae=!1,G=null)}}else ae=!1}var J;if(typeof N=="function")J=function(){N(F)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,oe=Q.port2;Q.port1.onmessage=F,J=function(){oe.postMessage(null)}}else J=function(){E(F,0)};function ce(M){G=M,ae||(ae=!0,J())}function me(M,Y){S=E(function(){M(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){_||m||(_=!0,ce(X))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(M){switch(w){case 1:case 2:case 3:var Y=3;break;default:Y=w}var K=w;w=Y;try{return M()}finally{w=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,Y){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=w;w=M;try{return Y()}finally{w=K}},e.unstable_scheduleCallback=function(M,Y,K){var Se=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Se+K:Se):K=Se,M){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=K+L,M={id:g++,callback:Y,priorityLevel:M,startTime:K,expirationTime:L,sortIndex:-1},K>Se?(M.sortIndex=K,t(p,M),n(d)===null&&M===n(p)&&(k?(y(S),S=-1):k=!0,me(U,K-Se))):(M.sortIndex=L,t(d,M),_||m||(_=!0,ce(X))),M},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(M){var Y=w;return function(){var K=w;w=Y;try{return M.apply(this,arguments)}finally{w=K}}}})(_1);P1.exports=_1;var sx=P1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax=he,Br=sx;function Te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I1=new Set,ic={};function qa(e,t){Ho(e,t),Ho(e+"Capture",t)}function Ho(e,t){for(ic[e]=t,e=0;e<t.length;e++)I1.add(t[e])}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qh=Object.prototype.hasOwnProperty,ox=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D0={},z0={};function lx(e){return Qh.call(z0,e)?!0:Qh.call(D0,e)?!1:ox.test(e)?z0[e]=!0:(D0[e]=!0,!1)}function cx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ux(e,t,n,r){if(t===null||typeof t>"u"||cx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dr(e,t,n,r,s,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vn[e]=new dr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vn[t]=new dr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vn[e]=new dr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vn[e]=new dr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vn[e]=new dr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vn[e]=new dr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vn[e]=new dr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vn[e]=new dr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vn[e]=new dr(e,5,!1,e.toLowerCase(),null,!1,!1)});var op=/[\-:]([a-z])/g;function lp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(op,lp);Vn[t]=new dr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(op,lp);Vn[t]=new dr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(op,lp);Vn[t]=new dr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vn[e]=new dr(e,1,!1,e.toLowerCase(),null,!1,!1)});Vn.xlinkHref=new dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vn[e]=new dr(e,1,!1,e.toLowerCase(),null,!0,!0)});function cp(e,t,n,r){var s=Vn.hasOwnProperty(t)?Vn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ux(t,n,s,r)&&(n=null),r||s===null?lx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hs=ax.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lu=Symbol.for("react.element"),wo=Symbol.for("react.portal"),No=Symbol.for("react.fragment"),up=Symbol.for("react.strict_mode"),Xh=Symbol.for("react.profiler"),F1=Symbol.for("react.provider"),E1=Symbol.for("react.context"),dp=Symbol.for("react.forward_ref"),Zh=Symbol.for("react.suspense"),ef=Symbol.for("react.suspense_list"),hp=Symbol.for("react.memo"),Bs=Symbol.for("react.lazy"),D1=Symbol.for("react.offscreen"),T0=Symbol.iterator;function Il(e){return e===null||typeof e!="object"?null:(e=T0&&e[T0]||e["@@iterator"],typeof e=="function"?e:null)}var dn=Object.assign,mh;function $l(e){if(mh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);mh=t&&t[1]||""}return`
`+mh+e}var gh=!1;function xh(e,t){if(!e||gh)return"";gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),a=r.stack.split(`
`),l=s.length-1,u=a.length-1;1<=l&&0<=u&&s[l]!==a[u];)u--;for(;1<=l&&0<=u;l--,u--)if(s[l]!==a[u]){if(l!==1||u!==1)do if(l--,u--,0>u||s[l]!==a[u]){var d=`
`+s[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=u);break}}}finally{gh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$l(e):""}function dx(e){switch(e.tag){case 5:return $l(e.type);case 16:return $l("Lazy");case 13:return $l("Suspense");case 19:return $l("SuspenseList");case 0:case 2:case 15:return e=xh(e.type,!1),e;case 11:return e=xh(e.type.render,!1),e;case 1:return e=xh(e.type,!0),e;default:return""}}function tf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case No:return"Fragment";case wo:return"Portal";case Xh:return"Profiler";case up:return"StrictMode";case Zh:return"Suspense";case ef:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case E1:return(e.displayName||"Context")+".Consumer";case F1:return(e._context.displayName||"Context")+".Provider";case dp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hp:return t=e.displayName||null,t!==null?t:tf(e.type)||"Memo";case Bs:t=e._payload,e=e._init;try{return tf(e(t))}catch{}}return null}function hx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tf(t);case 8:return t===up?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ia(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function z1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fx(e){var t=z1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cu(e){e._valueTracker||(e._valueTracker=fx(e))}function T1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=z1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Gu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nf(e,t){var n=t.checked;return dn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function M0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ia(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function M1(e,t){t=t.checked,t!=null&&cp(e,"checked",t,!1)}function rf(e,t){M1(e,t);var n=ia(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sf(e,t.type,n):t.hasOwnProperty("defaultValue")&&sf(e,t.type,ia(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function O0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function sf(e,t,n){(t!=="number"||Gu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hl=Array.isArray;function Do(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ia(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function af(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Te(91));return dn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function R0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Te(92));if(Hl(n)){if(1<n.length)throw Error(Te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ia(n)}}function O1(e,t){var n=ia(t.value),r=ia(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function B0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function R1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function of(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?R1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uu,B1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uu=uu||document.createElement("div"),uu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},px=["Webkit","ms","Moz","O"];Object.keys(Jl).forEach(function(e){px.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jl[t]=Jl[e]})});function q1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Jl.hasOwnProperty(e)&&Jl[e]?(""+t).trim():t+"px"}function U1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=q1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var mx=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lf(e,t){if(t){if(mx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Te(62))}}function cf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uf=null;function fp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var df=null,zo=null,To=null;function q0(e){if(e=kc(e)){if(typeof df!="function")throw Error(Te(280));var t=e.stateNode;t&&(t=kd(t),df(e.stateNode,e.type,t))}}function $1(e){zo?To?To.push(e):To=[e]:zo=e}function H1(){if(zo){var e=zo,t=To;if(To=zo=null,q0(e),t)for(e=0;e<t.length;e++)q0(t[e])}}function V1(e,t){return e(t)}function W1(){}var vh=!1;function G1(e,t,n){if(vh)return e(t,n);vh=!0;try{return V1(e,t,n)}finally{vh=!1,(zo!==null||To!==null)&&(W1(),H1())}}function ac(e,t){var n=e.stateNode;if(n===null)return null;var r=kd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Te(231,t,typeof n));return n}var hf=!1;if(ls)try{var Fl={};Object.defineProperty(Fl,"passive",{get:function(){hf=!0}}),window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{hf=!1}function gx(e,t,n,r,s,a,l,u,d){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(g){this.onError(g)}}var Yl=!1,Ju=null,Yu=!1,ff=null,xx={onError:function(e){Yl=!0,Ju=e}};function vx(e,t,n,r,s,a,l,u,d){Yl=!1,Ju=null,gx.apply(xx,arguments)}function yx(e,t,n,r,s,a,l,u,d){if(vx.apply(this,arguments),Yl){if(Yl){var p=Ju;Yl=!1,Ju=null}else throw Error(Te(198));Yu||(Yu=!0,ff=p)}}function Ua(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function J1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U0(e){if(Ua(e)!==e)throw Error(Te(188))}function wx(e){var t=e.alternate;if(!t){if(t=Ua(e),t===null)throw Error(Te(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return U0(s),e;if(a===r)return U0(s),t;a=a.sibling}throw Error(Te(188))}if(n.return!==r.return)n=s,r=a;else{for(var l=!1,u=s.child;u;){if(u===n){l=!0,n=s,r=a;break}if(u===r){l=!0,r=s,n=a;break}u=u.sibling}if(!l){for(u=a.child;u;){if(u===n){l=!0,n=a,r=s;break}if(u===r){l=!0,r=a,n=s;break}u=u.sibling}if(!l)throw Error(Te(189))}}if(n.alternate!==r)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?e:t}function Y1(e){return e=wx(e),e!==null?K1(e):null}function K1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=K1(e);if(t!==null)return t;e=e.sibling}return null}var Q1=Br.unstable_scheduleCallback,$0=Br.unstable_cancelCallback,Nx=Br.unstable_shouldYield,bx=Br.unstable_requestPaint,yn=Br.unstable_now,jx=Br.unstable_getCurrentPriorityLevel,pp=Br.unstable_ImmediatePriority,X1=Br.unstable_UserBlockingPriority,Ku=Br.unstable_NormalPriority,Sx=Br.unstable_LowPriority,Z1=Br.unstable_IdlePriority,Nd=null,Oi=null;function kx(e){if(Oi&&typeof Oi.onCommitFiberRoot=="function")try{Oi.onCommitFiberRoot(Nd,e,void 0,(e.current.flags&128)===128)}catch{}}var wi=Math.clz32?Math.clz32:Cx,Lx=Math.log,Ax=Math.LN2;function Cx(e){return e>>>=0,e===0?32:31-(Lx(e)/Ax|0)|0}var du=64,hu=4194304;function Vl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~s;u!==0?r=Vl(u):(a&=l,a!==0&&(r=Vl(a)))}else l=n&~s,l!==0?r=Vl(l):a!==0&&(r=Vl(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wi(t),s=1<<n,r|=e[n],t&=~s;return r}function Px(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _x(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-wi(a),u=1<<l,d=s[l];d===-1?(!(u&n)||u&r)&&(s[l]=Px(u,t)):d<=t&&(e.expiredLanes|=u),a&=~u}}function pf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function e2(){var e=du;return du<<=1,!(du&4194240)&&(du=64),e}function yh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function jc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wi(t),e[t]=n}function Ix(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wi(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function mp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wi(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ht=0;function t2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var n2,gp,r2,i2,s2,mf=!1,fu=[],Ks=null,Qs=null,Xs=null,oc=new Map,lc=new Map,Us=[],Fx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H0(e,t){switch(e){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":oc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(t.pointerId)}}function El(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=kc(t),t!==null&&gp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ex(e,t,n,r,s){switch(t){case"focusin":return Ks=El(Ks,e,t,n,r,s),!0;case"dragenter":return Qs=El(Qs,e,t,n,r,s),!0;case"mouseover":return Xs=El(Xs,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return oc.set(a,El(oc.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,lc.set(a,El(lc.get(a)||null,e,t,n,r,s)),!0}return!1}function a2(e){var t=Pa(e.target);if(t!==null){var n=Ua(t);if(n!==null){if(t=n.tag,t===13){if(t=J1(n),t!==null){e.blockedOn=t,s2(e.priority,function(){r2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);uf=r,n.target.dispatchEvent(r),uf=null}else return t=kc(n),t!==null&&gp(t),e.blockedOn=n,!1;t.shift()}return!0}function V0(e,t,n){Fu(e)&&n.delete(t)}function Dx(){mf=!1,Ks!==null&&Fu(Ks)&&(Ks=null),Qs!==null&&Fu(Qs)&&(Qs=null),Xs!==null&&Fu(Xs)&&(Xs=null),oc.forEach(V0),lc.forEach(V0)}function Dl(e,t){e.blockedOn===t&&(e.blockedOn=null,mf||(mf=!0,Br.unstable_scheduleCallback(Br.unstable_NormalPriority,Dx)))}function cc(e){function t(s){return Dl(s,e)}if(0<fu.length){Dl(fu[0],e);for(var n=1;n<fu.length;n++){var r=fu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ks!==null&&Dl(Ks,e),Qs!==null&&Dl(Qs,e),Xs!==null&&Dl(Xs,e),oc.forEach(t),lc.forEach(t),n=0;n<Us.length;n++)r=Us[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Us.length&&(n=Us[0],n.blockedOn===null);)a2(n),n.blockedOn===null&&Us.shift()}var Mo=hs.ReactCurrentBatchConfig,Xu=!0;function zx(e,t,n,r){var s=Ht,a=Mo.transition;Mo.transition=null;try{Ht=1,xp(e,t,n,r)}finally{Ht=s,Mo.transition=a}}function Tx(e,t,n,r){var s=Ht,a=Mo.transition;Mo.transition=null;try{Ht=4,xp(e,t,n,r)}finally{Ht=s,Mo.transition=a}}function xp(e,t,n,r){if(Xu){var s=gf(e,t,n,r);if(s===null)Ph(e,t,r,Zu,n),H0(e,r);else if(Ex(s,e,t,n,r))r.stopPropagation();else if(H0(e,r),t&4&&-1<Fx.indexOf(e)){for(;s!==null;){var a=kc(s);if(a!==null&&n2(a),a=gf(e,t,n,r),a===null&&Ph(e,t,r,Zu,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Ph(e,t,r,null,n)}}var Zu=null;function gf(e,t,n,r){if(Zu=null,e=fp(r),e=Pa(e),e!==null)if(t=Ua(e),t===null)e=null;else if(n=t.tag,n===13){if(e=J1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zu=e,null}function o2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jx()){case pp:return 1;case X1:return 4;case Ku:case Sx:return 16;case Z1:return 536870912;default:return 16}default:return 16}}var Vs=null,vp=null,Eu=null;function l2(){if(Eu)return Eu;var e,t=vp,n=t.length,r,s="value"in Vs?Vs.value:Vs.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[a-r];r++);return Eu=s.slice(e,1<r?1-r:void 0)}function Du(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pu(){return!0}function W0(){return!1}function Ur(e){function t(n,r,s,a,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?pu:W0,this.isPropagationStopped=W0,this}return dn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),t}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yp=Ur(Zo),Sc=dn({},Zo,{view:0,detail:0}),Mx=Ur(Sc),wh,Nh,zl,bd=dn({},Sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zl&&(zl&&e.type==="mousemove"?(wh=e.screenX-zl.screenX,Nh=e.screenY-zl.screenY):Nh=wh=0,zl=e),wh)},movementY:function(e){return"movementY"in e?e.movementY:Nh}}),G0=Ur(bd),Ox=dn({},bd,{dataTransfer:0}),Rx=Ur(Ox),Bx=dn({},Sc,{relatedTarget:0}),bh=Ur(Bx),qx=dn({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ux=Ur(qx),$x=dn({},Zo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hx=Ur($x),Vx=dn({},Zo,{data:0}),J0=Ur(Vx),Wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jx[e])?!!t[e]:!1}function wp(){return Yx}var Kx=dn({},Sc,{key:function(e){if(e.key){var t=Wx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Du(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wp,charCode:function(e){return e.type==="keypress"?Du(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Du(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qx=Ur(Kx),Xx=dn({},bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y0=Ur(Xx),Zx=dn({},Sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wp}),ev=Ur(Zx),tv=dn({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),nv=Ur(tv),rv=dn({},bd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iv=Ur(rv),sv=[9,13,27,32],Np=ls&&"CompositionEvent"in window,Kl=null;ls&&"documentMode"in document&&(Kl=document.documentMode);var av=ls&&"TextEvent"in window&&!Kl,c2=ls&&(!Np||Kl&&8<Kl&&11>=Kl),K0=String.fromCharCode(32),Q0=!1;function u2(e,t){switch(e){case"keyup":return sv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bo=!1;function ov(e,t){switch(e){case"compositionend":return d2(t);case"keypress":return t.which!==32?null:(Q0=!0,K0);case"textInput":return e=t.data,e===K0&&Q0?null:e;default:return null}}function lv(e,t){if(bo)return e==="compositionend"||!Np&&u2(e,t)?(e=l2(),Eu=vp=Vs=null,bo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return c2&&t.locale!=="ko"?null:t.data;default:return null}}var cv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cv[e.type]:t==="textarea"}function h2(e,t,n,r){$1(r),t=ed(t,"onChange"),0<t.length&&(n=new yp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ql=null,uc=null;function uv(e){j2(e,0)}function jd(e){var t=ko(e);if(T1(t))return e}function dv(e,t){if(e==="change")return t}var f2=!1;if(ls){var jh;if(ls){var Sh="oninput"in document;if(!Sh){var Z0=document.createElement("div");Z0.setAttribute("oninput","return;"),Sh=typeof Z0.oninput=="function"}jh=Sh}else jh=!1;f2=jh&&(!document.documentMode||9<document.documentMode)}function em(){Ql&&(Ql.detachEvent("onpropertychange",p2),uc=Ql=null)}function p2(e){if(e.propertyName==="value"&&jd(uc)){var t=[];h2(t,uc,e,fp(e)),G1(uv,t)}}function hv(e,t,n){e==="focusin"?(em(),Ql=t,uc=n,Ql.attachEvent("onpropertychange",p2)):e==="focusout"&&em()}function fv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jd(uc)}function pv(e,t){if(e==="click")return jd(t)}function mv(e,t){if(e==="input"||e==="change")return jd(t)}function gv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bi=typeof Object.is=="function"?Object.is:gv;function dc(e,t){if(bi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Qh.call(t,s)||!bi(e[s],t[s]))return!1}return!0}function tm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nm(e,t){var n=tm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tm(n)}}function m2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?m2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function g2(){for(var e=window,t=Gu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gu(e.document)}return t}function bp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xv(e){var t=g2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&m2(n.ownerDocument.documentElement,n)){if(r!==null&&bp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=nm(n,a);var l=nm(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vv=ls&&"documentMode"in document&&11>=document.documentMode,jo=null,xf=null,Xl=null,vf=!1;function rm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vf||jo==null||jo!==Gu(r)||(r=jo,"selectionStart"in r&&bp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xl&&dc(Xl,r)||(Xl=r,r=ed(xf,"onSelect"),0<r.length&&(t=new yp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jo)))}function mu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var So={animationend:mu("Animation","AnimationEnd"),animationiteration:mu("Animation","AnimationIteration"),animationstart:mu("Animation","AnimationStart"),transitionend:mu("Transition","TransitionEnd")},kh={},x2={};ls&&(x2=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Sd(e){if(kh[e])return kh[e];if(!So[e])return e;var t=So[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in x2)return kh[e]=t[n];return e}var v2=Sd("animationend"),y2=Sd("animationiteration"),w2=Sd("animationstart"),N2=Sd("transitionend"),b2=new Map,im="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function la(e,t){b2.set(e,t),qa(t,[e])}for(var Lh=0;Lh<im.length;Lh++){var Ah=im[Lh],yv=Ah.toLowerCase(),wv=Ah[0].toUpperCase()+Ah.slice(1);la(yv,"on"+wv)}la(v2,"onAnimationEnd");la(y2,"onAnimationIteration");la(w2,"onAnimationStart");la("dblclick","onDoubleClick");la("focusin","onFocus");la("focusout","onBlur");la(N2,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qa("onBeforeInput",["compositionend","keypress","textInput","paste"]);qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wl));function sm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,yx(r,t,void 0,e),e.currentTarget=null}function j2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],d=u.instance,p=u.currentTarget;if(u=u.listener,d!==a&&s.isPropagationStopped())break e;sm(s,u,p),a=d}else for(l=0;l<r.length;l++){if(u=r[l],d=u.instance,p=u.currentTarget,u=u.listener,d!==a&&s.isPropagationStopped())break e;sm(s,u,p),a=d}}}if(Yu)throw e=ff,Yu=!1,ff=null,e}function en(e,t){var n=t[jf];n===void 0&&(n=t[jf]=new Set);var r=e+"__bubble";n.has(r)||(S2(t,e,2,!1),n.add(r))}function Ch(e,t,n){var r=0;t&&(r|=4),S2(n,e,r,t)}var gu="_reactListening"+Math.random().toString(36).slice(2);function hc(e){if(!e[gu]){e[gu]=!0,I1.forEach(function(n){n!=="selectionchange"&&(Nv.has(n)||Ch(n,!1,e),Ch(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gu]||(t[gu]=!0,Ch("selectionchange",!1,t))}}function S2(e,t,n,r){switch(o2(t)){case 1:var s=zx;break;case 4:s=Tx;break;default:s=xp}n=s.bind(null,t,n,e),s=void 0,!hf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ph(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;l=l.return}for(;u!==null;){if(l=Pa(u),l===null)return;if(d=l.tag,d===5||d===6){r=a=l;continue e}u=u.parentNode}}r=r.return}G1(function(){var p=a,g=fp(n),x=[];e:{var w=b2.get(e);if(w!==void 0){var m=yp,_=e;switch(e){case"keypress":if(Du(n)===0)break e;case"keydown":case"keyup":m=Qx;break;case"focusin":_="focus",m=bh;break;case"focusout":_="blur",m=bh;break;case"beforeblur":case"afterblur":m=bh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=G0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Rx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ev;break;case v2:case y2:case w2:m=Ux;break;case N2:m=nv;break;case"scroll":m=Mx;break;case"wheel":m=iv;break;case"copy":case"cut":case"paste":m=Hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Y0}var k=(t&4)!==0,E=!k&&e==="scroll",y=k?w!==null?w+"Capture":null:w;k=[];for(var N=p,A;N!==null;){A=N;var U=A.stateNode;if(A.tag===5&&U!==null&&(A=U,y!==null&&(U=ac(N,y),U!=null&&k.push(fc(N,U,A)))),E)break;N=N.return}0<k.length&&(w=new m(w,_,null,n,g),x.push({event:w,listeners:k}))}}if(!(t&7)){e:{if(w=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",w&&n!==uf&&(_=n.relatedTarget||n.fromElement)&&(Pa(_)||_[cs]))break e;if((m||w)&&(w=g.window===g?g:(w=g.ownerDocument)?w.defaultView||w.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=p,_=_?Pa(_):null,_!==null&&(E=Ua(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=p),m!==_)){if(k=G0,U="onMouseLeave",y="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(k=Y0,U="onPointerLeave",y="onPointerEnter",N="pointer"),E=m==null?w:ko(m),A=_==null?w:ko(_),w=new k(U,N+"leave",m,n,g),w.target=E,w.relatedTarget=A,U=null,Pa(g)===p&&(k=new k(y,N+"enter",_,n,g),k.target=A,k.relatedTarget=E,U=k),E=U,m&&_)t:{for(k=m,y=_,N=0,A=k;A;A=mo(A))N++;for(A=0,U=y;U;U=mo(U))A++;for(;0<N-A;)k=mo(k),N--;for(;0<A-N;)y=mo(y),A--;for(;N--;){if(k===y||y!==null&&k===y.alternate)break t;k=mo(k),y=mo(y)}k=null}else k=null;m!==null&&am(x,w,m,k,!1),_!==null&&E!==null&&am(x,E,_,k,!0)}}e:{if(w=p?ko(p):window,m=w.nodeName&&w.nodeName.toLowerCase(),m==="select"||m==="input"&&w.type==="file")var X=dv;else if(X0(w))if(f2)X=mv;else{X=fv;var ae=hv}else(m=w.nodeName)&&m.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(X=pv);if(X&&(X=X(e,p))){h2(x,X,n,g);break e}ae&&ae(e,w,p),e==="focusout"&&(ae=w._wrapperState)&&ae.controlled&&w.type==="number"&&sf(w,"number",w.value)}switch(ae=p?ko(p):window,e){case"focusin":(X0(ae)||ae.contentEditable==="true")&&(jo=ae,xf=p,Xl=null);break;case"focusout":Xl=xf=jo=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,rm(x,n,g);break;case"selectionchange":if(vv)break;case"keydown":case"keyup":rm(x,n,g)}var G;if(Np)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else bo?u2(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(c2&&n.locale!=="ko"&&(bo||S!=="onCompositionStart"?S==="onCompositionEnd"&&bo&&(G=l2()):(Vs=g,vp="value"in Vs?Vs.value:Vs.textContent,bo=!0)),ae=ed(p,S),0<ae.length&&(S=new J0(S,e,null,n,g),x.push({event:S,listeners:ae}),G?S.data=G:(G=d2(n),G!==null&&(S.data=G)))),(G=av?ov(e,n):lv(e,n))&&(p=ed(p,"onBeforeInput"),0<p.length&&(g=new J0("onBeforeInput","beforeinput",null,n,g),x.push({event:g,listeners:p}),g.data=G))}j2(x,t)})}function fc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ed(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ac(e,n),a!=null&&r.unshift(fc(e,a,s)),a=ac(e,t),a!=null&&r.push(fc(e,a,s))),e=e.return}return r}function mo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function am(e,t,n,r,s){for(var a=t._reactName,l=[];n!==null&&n!==r;){var u=n,d=u.alternate,p=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&p!==null&&(u=p,s?(d=ac(n,a),d!=null&&l.unshift(fc(n,d,u))):s||(d=ac(n,a),d!=null&&l.push(fc(n,d,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var bv=/\r\n?/g,jv=/\u0000|\uFFFD/g;function om(e){return(typeof e=="string"?e:""+e).replace(bv,`
`).replace(jv,"")}function xu(e,t,n){if(t=om(t),om(e)!==t&&n)throw Error(Te(425))}function td(){}var yf=null,wf=null;function Nf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bf=typeof setTimeout=="function"?setTimeout:void 0,Sv=typeof clearTimeout=="function"?clearTimeout:void 0,lm=typeof Promise=="function"?Promise:void 0,kv=typeof queueMicrotask=="function"?queueMicrotask:typeof lm<"u"?function(e){return lm.resolve(null).then(e).catch(Lv)}:bf;function Lv(e){setTimeout(function(){throw e})}function _h(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),cc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);cc(t)}function Zs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var el=Math.random().toString(36).slice(2),Di="__reactFiber$"+el,pc="__reactProps$"+el,cs="__reactContainer$"+el,jf="__reactEvents$"+el,Av="__reactListeners$"+el,Cv="__reactHandles$"+el;function Pa(e){var t=e[Di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cs]||n[Di]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cm(e);e!==null;){if(n=e[Di])return n;e=cm(e)}return t}e=n,n=e.parentNode}return null}function kc(e){return e=e[Di]||e[cs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ko(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Te(33))}function kd(e){return e[pc]||null}var Sf=[],Lo=-1;function ca(e){return{current:e}}function nn(e){0>Lo||(e.current=Sf[Lo],Sf[Lo]=null,Lo--)}function Zt(e,t){Lo++,Sf[Lo]=e.current,e.current=t}var sa={},nr=ca(sa),jr=ca(!1),za=sa;function Vo(e,t){var n=e.type.contextTypes;if(!n)return sa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Sr(e){return e=e.childContextTypes,e!=null}function nd(){nn(jr),nn(nr)}function um(e,t,n){if(nr.current!==sa)throw Error(Te(168));Zt(nr,t),Zt(jr,n)}function k2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Te(108,hx(e)||"Unknown",s));return dn({},n,r)}function rd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sa,za=nr.current,Zt(nr,e),Zt(jr,jr.current),!0}function dm(e,t,n){var r=e.stateNode;if(!r)throw Error(Te(169));n?(e=k2(e,t,za),r.__reactInternalMemoizedMergedChildContext=e,nn(jr),nn(nr),Zt(nr,e)):nn(jr),Zt(jr,n)}var is=null,Ld=!1,Ih=!1;function L2(e){is===null?is=[e]:is.push(e)}function Pv(e){Ld=!0,L2(e)}function ua(){if(!Ih&&is!==null){Ih=!0;var e=0,t=Ht;try{var n=is;for(Ht=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}is=null,Ld=!1}catch(s){throw is!==null&&(is=is.slice(e+1)),Q1(pp,ua),s}finally{Ht=t,Ih=!1}}return null}var Ao=[],Co=0,id=null,sd=0,ni=[],ri=0,Ta=null,ss=1,as="";function Sa(e,t){Ao[Co++]=sd,Ao[Co++]=id,id=e,sd=t}function A2(e,t,n){ni[ri++]=ss,ni[ri++]=as,ni[ri++]=Ta,Ta=e;var r=ss;e=as;var s=32-wi(r)-1;r&=~(1<<s),n+=1;var a=32-wi(t)+s;if(30<a){var l=s-s%5;a=(r&(1<<l)-1).toString(32),r>>=l,s-=l,ss=1<<32-wi(t)+s|n<<s|r,as=a+e}else ss=1<<a|n<<s|r,as=e}function jp(e){e.return!==null&&(Sa(e,1),A2(e,1,0))}function Sp(e){for(;e===id;)id=Ao[--Co],Ao[Co]=null,sd=Ao[--Co],Ao[Co]=null;for(;e===Ta;)Ta=ni[--ri],ni[ri]=null,as=ni[--ri],ni[ri]=null,ss=ni[--ri],ni[ri]=null}var Rr=null,Mr=null,sn=!1,yi=null;function C2(e,t){var n=ii(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rr=e,Mr=Zs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rr=e,Mr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ta!==null?{id:ss,overflow:as}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ii(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rr=e,Mr=null,!0):!1;default:return!1}}function kf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lf(e){if(sn){var t=Mr;if(t){var n=t;if(!hm(e,t)){if(kf(e))throw Error(Te(418));t=Zs(n.nextSibling);var r=Rr;t&&hm(e,t)?C2(r,n):(e.flags=e.flags&-4097|2,sn=!1,Rr=e)}}else{if(kf(e))throw Error(Te(418));e.flags=e.flags&-4097|2,sn=!1,Rr=e}}}function fm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rr=e}function vu(e){if(e!==Rr)return!1;if(!sn)return fm(e),sn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nf(e.type,e.memoizedProps)),t&&(t=Mr)){if(kf(e))throw P2(),Error(Te(418));for(;t;)C2(e,t),t=Zs(t.nextSibling)}if(fm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Mr=Zs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Mr=null}}else Mr=Rr?Zs(e.stateNode.nextSibling):null;return!0}function P2(){for(var e=Mr;e;)e=Zs(e.nextSibling)}function Wo(){Mr=Rr=null,sn=!1}function kp(e){yi===null?yi=[e]:yi.push(e)}var _v=hs.ReactCurrentBatchConfig;function Tl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Te(309));var r=n.stateNode}if(!r)throw Error(Te(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var u=s.refs;l===null?delete u[a]:u[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(Te(284));if(!n._owner)throw Error(Te(290,e))}return e}function yu(e,t){throw e=Object.prototype.toString.call(t),Error(Te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pm(e){var t=e._init;return t(e._payload)}function _2(e){function t(y,N){if(e){var A=y.deletions;A===null?(y.deletions=[N],y.flags|=16):A.push(N)}}function n(y,N){if(!e)return null;for(;N!==null;)t(y,N),N=N.sibling;return null}function r(y,N){for(y=new Map;N!==null;)N.key!==null?y.set(N.key,N):y.set(N.index,N),N=N.sibling;return y}function s(y,N){return y=ra(y,N),y.index=0,y.sibling=null,y}function a(y,N,A){return y.index=A,e?(A=y.alternate,A!==null?(A=A.index,A<N?(y.flags|=2,N):A):(y.flags|=2,N)):(y.flags|=1048576,N)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function u(y,N,A,U){return N===null||N.tag!==6?(N=Oh(A,y.mode,U),N.return=y,N):(N=s(N,A),N.return=y,N)}function d(y,N,A,U){var X=A.type;return X===No?g(y,N,A.props.children,U,A.key):N!==null&&(N.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Bs&&pm(X)===N.type)?(U=s(N,A.props),U.ref=Tl(y,N,A),U.return=y,U):(U=qu(A.type,A.key,A.props,null,y.mode,U),U.ref=Tl(y,N,A),U.return=y,U)}function p(y,N,A,U){return N===null||N.tag!==4||N.stateNode.containerInfo!==A.containerInfo||N.stateNode.implementation!==A.implementation?(N=Rh(A,y.mode,U),N.return=y,N):(N=s(N,A.children||[]),N.return=y,N)}function g(y,N,A,U,X){return N===null||N.tag!==7?(N=Ea(A,y.mode,U,X),N.return=y,N):(N=s(N,A),N.return=y,N)}function x(y,N,A){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Oh(""+N,y.mode,A),N.return=y,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case lu:return A=qu(N.type,N.key,N.props,null,y.mode,A),A.ref=Tl(y,null,N),A.return=y,A;case wo:return N=Rh(N,y.mode,A),N.return=y,N;case Bs:var U=N._init;return x(y,U(N._payload),A)}if(Hl(N)||Il(N))return N=Ea(N,y.mode,A,null),N.return=y,N;yu(y,N)}return null}function w(y,N,A,U){var X=N!==null?N.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return X!==null?null:u(y,N,""+A,U);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case lu:return A.key===X?d(y,N,A,U):null;case wo:return A.key===X?p(y,N,A,U):null;case Bs:return X=A._init,w(y,N,X(A._payload),U)}if(Hl(A)||Il(A))return X!==null?null:g(y,N,A,U,null);yu(y,A)}return null}function m(y,N,A,U,X){if(typeof U=="string"&&U!==""||typeof U=="number")return y=y.get(A)||null,u(N,y,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case lu:return y=y.get(U.key===null?A:U.key)||null,d(N,y,U,X);case wo:return y=y.get(U.key===null?A:U.key)||null,p(N,y,U,X);case Bs:var ae=U._init;return m(y,N,A,ae(U._payload),X)}if(Hl(U)||Il(U))return y=y.get(A)||null,g(N,y,U,X,null);yu(N,U)}return null}function _(y,N,A,U){for(var X=null,ae=null,G=N,S=N=0,z=null;G!==null&&S<A.length;S++){G.index>S?(z=G,G=null):z=G.sibling;var $=w(y,G,A[S],U);if($===null){G===null&&(G=z);break}e&&G&&$.alternate===null&&t(y,G),N=a($,N,S),ae===null?X=$:ae.sibling=$,ae=$,G=z}if(S===A.length)return n(y,G),sn&&Sa(y,S),X;if(G===null){for(;S<A.length;S++)G=x(y,A[S],U),G!==null&&(N=a(G,N,S),ae===null?X=G:ae.sibling=G,ae=G);return sn&&Sa(y,S),X}for(G=r(y,G);S<A.length;S++)z=m(G,y,S,A[S],U),z!==null&&(e&&z.alternate!==null&&G.delete(z.key===null?S:z.key),N=a(z,N,S),ae===null?X=z:ae.sibling=z,ae=z);return e&&G.forEach(function(C){return t(y,C)}),sn&&Sa(y,S),X}function k(y,N,A,U){var X=Il(A);if(typeof X!="function")throw Error(Te(150));if(A=X.call(A),A==null)throw Error(Te(151));for(var ae=X=null,G=N,S=N=0,z=null,$=A.next();G!==null&&!$.done;S++,$=A.next()){G.index>S?(z=G,G=null):z=G.sibling;var C=w(y,G,$.value,U);if(C===null){G===null&&(G=z);break}e&&G&&C.alternate===null&&t(y,G),N=a(C,N,S),ae===null?X=C:ae.sibling=C,ae=C,G=z}if($.done)return n(y,G),sn&&Sa(y,S),X;if(G===null){for(;!$.done;S++,$=A.next())$=x(y,$.value,U),$!==null&&(N=a($,N,S),ae===null?X=$:ae.sibling=$,ae=$);return sn&&Sa(y,S),X}for(G=r(y,G);!$.done;S++,$=A.next())$=m(G,y,S,$.value,U),$!==null&&(e&&$.alternate!==null&&G.delete($.key===null?S:$.key),N=a($,N,S),ae===null?X=$:ae.sibling=$,ae=$);return e&&G.forEach(function(F){return t(y,F)}),sn&&Sa(y,S),X}function E(y,N,A,U){if(typeof A=="object"&&A!==null&&A.type===No&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case lu:e:{for(var X=A.key,ae=N;ae!==null;){if(ae.key===X){if(X=A.type,X===No){if(ae.tag===7){n(y,ae.sibling),N=s(ae,A.props.children),N.return=y,y=N;break e}}else if(ae.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Bs&&pm(X)===ae.type){n(y,ae.sibling),N=s(ae,A.props),N.ref=Tl(y,ae,A),N.return=y,y=N;break e}n(y,ae);break}else t(y,ae);ae=ae.sibling}A.type===No?(N=Ea(A.props.children,y.mode,U,A.key),N.return=y,y=N):(U=qu(A.type,A.key,A.props,null,y.mode,U),U.ref=Tl(y,N,A),U.return=y,y=U)}return l(y);case wo:e:{for(ae=A.key;N!==null;){if(N.key===ae)if(N.tag===4&&N.stateNode.containerInfo===A.containerInfo&&N.stateNode.implementation===A.implementation){n(y,N.sibling),N=s(N,A.children||[]),N.return=y,y=N;break e}else{n(y,N);break}else t(y,N);N=N.sibling}N=Rh(A,y.mode,U),N.return=y,y=N}return l(y);case Bs:return ae=A._init,E(y,N,ae(A._payload),U)}if(Hl(A))return _(y,N,A,U);if(Il(A))return k(y,N,A,U);yu(y,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,N!==null&&N.tag===6?(n(y,N.sibling),N=s(N,A),N.return=y,y=N):(n(y,N),N=Oh(A,y.mode,U),N.return=y,y=N),l(y)):n(y,N)}return E}var Go=_2(!0),I2=_2(!1),ad=ca(null),od=null,Po=null,Lp=null;function Ap(){Lp=Po=od=null}function Cp(e){var t=ad.current;nn(ad),e._currentValue=t}function Af(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oo(e,t){od=e,Lp=Po=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nr=!0),e.firstContext=null)}function ai(e){var t=e._currentValue;if(Lp!==e)if(e={context:e,memoizedValue:t,next:null},Po===null){if(od===null)throw Error(Te(308));Po=e,od.dependencies={lanes:0,firstContext:e}}else Po=Po.next=e;return t}var _a=null;function Pp(e){_a===null?_a=[e]:_a.push(e)}function F2(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Pp(t)):(n.next=s.next,s.next=n),t.interleaved=n,us(e,r)}function us(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qs=!1;function _p(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ea(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,zt&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,us(e,n)}return s=r.interleaved,s===null?(t.next=t,Pp(r)):(t.next=s.next,s.next=t),r.interleaved=t,us(e,n)}function zu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mp(e,n)}}function mm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ld(e,t,n,r){var s=e.updateQueue;qs=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var d=u,p=d.next;d.next=null,l===null?a=p:l.next=p,l=d;var g=e.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==l&&(u===null?g.firstBaseUpdate=p:u.next=p,g.lastBaseUpdate=d))}if(a!==null){var x=s.baseState;l=0,g=p=d=null,u=a;do{var w=u.lane,m=u.eventTime;if((r&w)===w){g!==null&&(g=g.next={eventTime:m,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var _=e,k=u;switch(w=t,m=n,k.tag){case 1:if(_=k.payload,typeof _=="function"){x=_.call(m,x,w);break e}x=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=k.payload,w=typeof _=="function"?_.call(m,x,w):_,w==null)break e;x=dn({},x,w);break e;case 2:qs=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,w=s.effects,w===null?s.effects=[u]:w.push(u))}else m={eventTime:m,lane:w,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(p=g=m,d=x):g=g.next=m,l|=w;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;w=u,u=w.next,w.next=null,s.lastBaseUpdate=w,s.shared.pending=null}}while(1);if(g===null&&(d=x),s.baseState=d,s.firstBaseUpdate=p,s.lastBaseUpdate=g,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Oa|=l,e.lanes=l,e.memoizedState=x}}function gm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Te(191,s));s.call(r)}}}var Lc={},Ri=ca(Lc),mc=ca(Lc),gc=ca(Lc);function Ia(e){if(e===Lc)throw Error(Te(174));return e}function Ip(e,t){switch(Zt(gc,t),Zt(mc,e),Zt(Ri,Lc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:of(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=of(t,e)}nn(Ri),Zt(Ri,t)}function Jo(){nn(Ri),nn(mc),nn(gc)}function D2(e){Ia(gc.current);var t=Ia(Ri.current),n=of(t,e.type);t!==n&&(Zt(mc,e),Zt(Ri,n))}function Fp(e){mc.current===e&&(nn(Ri),nn(mc))}var cn=ca(0);function cd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fh=[];function Ep(){for(var e=0;e<Fh.length;e++)Fh[e]._workInProgressVersionPrimary=null;Fh.length=0}var Tu=hs.ReactCurrentDispatcher,Eh=hs.ReactCurrentBatchConfig,Ma=0,un=null,_n=null,Tn=null,ud=!1,Zl=!1,xc=0,Iv=0;function Jn(){throw Error(Te(321))}function Dp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bi(e[n],t[n]))return!1;return!0}function zp(e,t,n,r,s,a){if(Ma=a,un=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tu.current=e===null||e.memoizedState===null?zv:Tv,e=n(r,s),Zl){a=0;do{if(Zl=!1,xc=0,25<=a)throw Error(Te(301));a+=1,Tn=_n=null,t.updateQueue=null,Tu.current=Mv,e=n(r,s)}while(Zl)}if(Tu.current=dd,t=_n!==null&&_n.next!==null,Ma=0,Tn=_n=un=null,ud=!1,t)throw Error(Te(300));return e}function Tp(){var e=xc!==0;return xc=0,e}function Ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?un.memoizedState=Tn=e:Tn=Tn.next=e,Tn}function oi(){if(_n===null){var e=un.alternate;e=e!==null?e.memoizedState:null}else e=_n.next;var t=Tn===null?un.memoizedState:Tn.next;if(t!==null)Tn=t,_n=e;else{if(e===null)throw Error(Te(310));_n=e,e={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},Tn===null?un.memoizedState=Tn=e:Tn=Tn.next=e}return Tn}function vc(e,t){return typeof t=="function"?t(e):t}function Dh(e){var t=oi(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=_n,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var l=s.next;s.next=a.next,a.next=l}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var u=l=null,d=null,p=a;do{var g=p.lane;if((Ma&g)===g)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var x={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(u=d=x,l=r):d=d.next=x,un.lanes|=g,Oa|=g}p=p.next}while(p!==null&&p!==a);d===null?l=r:d.next=u,bi(r,t.memoizedState)||(Nr=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,un.lanes|=a,Oa|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zh(e){var t=oi(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do a=e(a,l.action),l=l.next;while(l!==s);bi(a,t.memoizedState)||(Nr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function z2(){}function T2(e,t){var n=un,r=oi(),s=t(),a=!bi(r.memoizedState,s);if(a&&(r.memoizedState=s,Nr=!0),r=r.queue,Mp(R2.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Tn!==null&&Tn.memoizedState.tag&1){if(n.flags|=2048,yc(9,O2.bind(null,n,r,s,t),void 0,null),On===null)throw Error(Te(349));Ma&30||M2(n,t,s)}return s}function M2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=un.updateQueue,t===null?(t={lastEffect:null,stores:null},un.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function O2(e,t,n,r){t.value=n,t.getSnapshot=r,B2(t)&&q2(e)}function R2(e,t,n){return n(function(){B2(t)&&q2(e)})}function B2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bi(e,n)}catch{return!0}}function q2(e){var t=us(e,1);t!==null&&Ni(t,e,1,-1)}function xm(e){var t=Ei();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:e},t.queue=e,e=e.dispatch=Dv.bind(null,un,e),[t.memoizedState,e]}function yc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=un.updateQueue,t===null?(t={lastEffect:null,stores:null},un.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function U2(){return oi().memoizedState}function Mu(e,t,n,r){var s=Ei();un.flags|=e,s.memoizedState=yc(1|t,n,void 0,r===void 0?null:r)}function Ad(e,t,n,r){var s=oi();r=r===void 0?null:r;var a=void 0;if(_n!==null){var l=_n.memoizedState;if(a=l.destroy,r!==null&&Dp(r,l.deps)){s.memoizedState=yc(t,n,a,r);return}}un.flags|=e,s.memoizedState=yc(1|t,n,a,r)}function vm(e,t){return Mu(8390656,8,e,t)}function Mp(e,t){return Ad(2048,8,e,t)}function $2(e,t){return Ad(4,2,e,t)}function H2(e,t){return Ad(4,4,e,t)}function V2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function W2(e,t,n){return n=n!=null?n.concat([e]):null,Ad(4,4,V2.bind(null,t,e),n)}function Op(){}function G2(e,t){var n=oi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function J2(e,t){var n=oi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Y2(e,t,n){return Ma&21?(bi(n,t)||(n=e2(),un.lanes|=n,Oa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nr=!0),e.memoizedState=n)}function Fv(e,t){var n=Ht;Ht=n!==0&&4>n?n:4,e(!0);var r=Eh.transition;Eh.transition={};try{e(!1),t()}finally{Ht=n,Eh.transition=r}}function K2(){return oi().memoizedState}function Ev(e,t,n){var r=na(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Q2(e))X2(t,n);else if(n=F2(e,t,n,r),n!==null){var s=cr();Ni(n,e,r,s),Z2(n,t,r)}}function Dv(e,t,n){var r=na(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Q2(e))X2(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,u=a(l,n);if(s.hasEagerState=!0,s.eagerState=u,bi(u,l)){var d=t.interleaved;d===null?(s.next=s,Pp(t)):(s.next=d.next,d.next=s),t.interleaved=s;return}}catch{}finally{}n=F2(e,t,s,r),n!==null&&(s=cr(),Ni(n,e,r,s),Z2(n,t,r))}}function Q2(e){var t=e.alternate;return e===un||t!==null&&t===un}function X2(e,t){Zl=ud=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Z2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mp(e,n)}}var dd={readContext:ai,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},zv={readContext:ai,useCallback:function(e,t){return Ei().memoizedState=[e,t===void 0?null:t],e},useContext:ai,useEffect:vm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Mu(4194308,4,V2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mu(4,2,e,t)},useMemo:function(e,t){var n=Ei();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ei();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ev.bind(null,un,e),[r.memoizedState,e]},useRef:function(e){var t=Ei();return e={current:e},t.memoizedState=e},useState:xm,useDebugValue:Op,useDeferredValue:function(e){return Ei().memoizedState=e},useTransition:function(){var e=xm(!1),t=e[0];return e=Fv.bind(null,e[1]),Ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=un,s=Ei();if(sn){if(n===void 0)throw Error(Te(407));n=n()}else{if(n=t(),On===null)throw Error(Te(349));Ma&30||M2(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,vm(R2.bind(null,r,a,e),[e]),r.flags|=2048,yc(9,O2.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ei(),t=On.identifierPrefix;if(sn){var n=as,r=ss;n=(r&~(1<<32-wi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Iv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Tv={readContext:ai,useCallback:G2,useContext:ai,useEffect:Mp,useImperativeHandle:W2,useInsertionEffect:$2,useLayoutEffect:H2,useMemo:J2,useReducer:Dh,useRef:U2,useState:function(){return Dh(vc)},useDebugValue:Op,useDeferredValue:function(e){var t=oi();return Y2(t,_n.memoizedState,e)},useTransition:function(){var e=Dh(vc)[0],t=oi().memoizedState;return[e,t]},useMutableSource:z2,useSyncExternalStore:T2,useId:K2,unstable_isNewReconciler:!1},Mv={readContext:ai,useCallback:G2,useContext:ai,useEffect:Mp,useImperativeHandle:W2,useInsertionEffect:$2,useLayoutEffect:H2,useMemo:J2,useReducer:zh,useRef:U2,useState:function(){return zh(vc)},useDebugValue:Op,useDeferredValue:function(e){var t=oi();return _n===null?t.memoizedState=e:Y2(t,_n.memoizedState,e)},useTransition:function(){var e=zh(vc)[0],t=oi().memoizedState;return[e,t]},useMutableSource:z2,useSyncExternalStore:T2,useId:K2,unstable_isNewReconciler:!1};function gi(e,t){if(e&&e.defaultProps){t=dn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Cf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:dn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cd={isMounted:function(e){return(e=e._reactInternals)?Ua(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cr(),s=na(e),a=os(r,s);a.payload=t,n!=null&&(a.callback=n),t=ea(e,a,s),t!==null&&(Ni(t,e,s,r),zu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cr(),s=na(e),a=os(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ea(e,a,s),t!==null&&(Ni(t,e,s,r),zu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cr(),r=na(e),s=os(n,r);s.tag=2,t!=null&&(s.callback=t),t=ea(e,s,r),t!==null&&(Ni(t,e,r,n),zu(t,e,r))}};function ym(e,t,n,r,s,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,l):t.prototype&&t.prototype.isPureReactComponent?!dc(n,r)||!dc(s,a):!0}function eg(e,t,n){var r=!1,s=sa,a=t.contextType;return typeof a=="object"&&a!==null?a=ai(a):(s=Sr(t)?za:nr.current,r=t.contextTypes,a=(r=r!=null)?Vo(e,s):sa),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function wm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Cd.enqueueReplaceState(t,t.state,null)}function Pf(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},_p(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=ai(a):(a=Sr(t)?za:nr.current,s.context=Vo(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Cf(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Cd.enqueueReplaceState(s,s.state,null),ld(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Yo(e,t){try{var n="",r=t;do n+=dx(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Th(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _f(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ov=typeof WeakMap=="function"?WeakMap:Map;function tg(e,t,n){n=os(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fd||(fd=!0,Bf=r),_f(e,t)},n}function ng(e,t,n){n=os(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){_f(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){_f(e,t),typeof r!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Nm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ov;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Xv.bind(null,e,t,n),t.then(e,e))}function bm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=os(-1,1),t.tag=2,ea(n,t,1))),n.lanes|=1),e)}var Rv=hs.ReactCurrentOwner,Nr=!1;function lr(e,t,n,r){t.child=e===null?I2(t,null,n,r):Go(t,e.child,n,r)}function Sm(e,t,n,r,s){n=n.render;var a=t.ref;return Oo(t,s),r=zp(e,t,n,r,a,s),n=Tp(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ds(e,t,s)):(sn&&n&&jp(t),t.flags|=1,lr(e,t,r,s),t.child)}function km(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Wp(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,rg(e,t,a,r,s)):(e=qu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:dc,n(l,r)&&e.ref===t.ref)return ds(e,t,s)}return t.flags|=1,e=ra(a,r),e.ref=t.ref,e.return=t,t.child=e}function rg(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(dc(a,r)&&e.ref===t.ref)if(Nr=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Nr=!0);else return t.lanes=e.lanes,ds(e,t,s)}return If(e,t,n,r,s)}function ig(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(Io,Tr),Tr|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Zt(Io,Tr),Tr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Zt(Io,Tr),Tr|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Zt(Io,Tr),Tr|=r;return lr(e,t,s,n),t.child}function sg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function If(e,t,n,r,s){var a=Sr(n)?za:nr.current;return a=Vo(t,a),Oo(t,s),n=zp(e,t,n,r,a,s),r=Tp(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ds(e,t,s)):(sn&&r&&jp(t),t.flags|=1,lr(e,t,n,s),t.child)}function Lm(e,t,n,r,s){if(Sr(n)){var a=!0;rd(t)}else a=!1;if(Oo(t,s),t.stateNode===null)Ou(e,t),eg(t,n,r),Pf(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var d=l.context,p=n.contextType;typeof p=="object"&&p!==null?p=ai(p):(p=Sr(n)?za:nr.current,p=Vo(t,p));var g=n.getDerivedStateFromProps,x=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function";x||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||d!==p)&&wm(t,l,r,p),qs=!1;var w=t.memoizedState;l.state=w,ld(t,r,l,s),d=t.memoizedState,u!==r||w!==d||jr.current||qs?(typeof g=="function"&&(Cf(t,n,g,r),d=t.memoizedState),(u=qs||ym(t,n,u,r,w,d,p))?(x||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),l.props=r,l.state=d,l.context=p,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,E2(e,t),u=t.memoizedProps,p=t.type===t.elementType?u:gi(t.type,u),l.props=p,x=t.pendingProps,w=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=ai(d):(d=Sr(n)?za:nr.current,d=Vo(t,d));var m=n.getDerivedStateFromProps;(g=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==x||w!==d)&&wm(t,l,r,d),qs=!1,w=t.memoizedState,l.state=w,ld(t,r,l,s);var _=t.memoizedState;u!==x||w!==_||jr.current||qs?(typeof m=="function"&&(Cf(t,n,m,r),_=t.memoizedState),(p=qs||ym(t,n,p,r,w,_,d)||!1)?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,_,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,_,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),l.props=r,l.state=_,l.context=d,r=p):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),r=!1)}return Ff(e,t,n,r,a,s)}function Ff(e,t,n,r,s,a){sg(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&dm(t,n,!1),ds(e,t,a);r=t.stateNode,Rv.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Go(t,e.child,null,a),t.child=Go(t,null,u,a)):lr(e,t,u,a),t.memoizedState=r.state,s&&dm(t,n,!0),t.child}function ag(e){var t=e.stateNode;t.pendingContext?um(e,t.pendingContext,t.pendingContext!==t.context):t.context&&um(e,t.context,!1),Ip(e,t.containerInfo)}function Am(e,t,n,r,s){return Wo(),kp(s),t.flags|=256,lr(e,t,n,r),t.child}var Ef={dehydrated:null,treeContext:null,retryLane:0};function Df(e){return{baseLanes:e,cachePool:null,transitions:null}}function og(e,t,n){var r=t.pendingProps,s=cn.current,a=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(s&2)!==0),u?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Zt(cn,s&1),e===null)return Lf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Id(l,r,0,null),e=Ea(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Df(n),t.memoizedState=Ef,e):Rp(t,l));if(s=e.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return Bv(e,t,l,r,u,s,n);if(a){a=r.fallback,l=t.mode,s=e.child,u=s.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=ra(s,d),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?a=ra(u,a):(a=Ea(a,l,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=e.child.memoizedState,l=l===null?Df(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ef,r}return a=e.child,e=a.sibling,r=ra(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rp(e,t){return t=Id({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wu(e,t,n,r){return r!==null&&kp(r),Go(t,e.child,null,n),e=Rp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bv(e,t,n,r,s,a,l){if(n)return t.flags&256?(t.flags&=-257,r=Th(Error(Te(422))),wu(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Id({mode:"visible",children:r.children},s,0,null),a=Ea(a,s,l,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Go(t,e.child,null,l),t.child.memoizedState=Df(l),t.memoizedState=Ef,a);if(!(t.mode&1))return wu(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,a=Error(Te(419)),r=Th(a,r,void 0),wu(e,t,l,r)}if(u=(l&e.childLanes)!==0,Nr||u){if(r=On,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,us(e,s),Ni(r,e,s,-1))}return Vp(),r=Th(Error(Te(421))),wu(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Zv.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Mr=Zs(s.nextSibling),Rr=t,sn=!0,yi=null,e!==null&&(ni[ri++]=ss,ni[ri++]=as,ni[ri++]=Ta,ss=e.id,as=e.overflow,Ta=t),t=Rp(t,r.children),t.flags|=4096,t)}function Cm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Af(e.return,t,n)}function Mh(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function lg(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(lr(e,t,r.children,n),r=cn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cm(e,n,t);else if(e.tag===19)Cm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Zt(cn,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&cd(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Mh(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&cd(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Mh(t,!0,n,null,a);break;case"together":Mh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ou(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ds(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Oa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Te(153));if(t.child!==null){for(e=t.child,n=ra(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ra(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qv(e,t,n){switch(t.tag){case 3:ag(t),Wo();break;case 5:D2(t);break;case 1:Sr(t.type)&&rd(t);break;case 4:Ip(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Zt(ad,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Zt(cn,cn.current&1),t.flags|=128,null):n&t.child.childLanes?og(e,t,n):(Zt(cn,cn.current&1),e=ds(e,t,n),e!==null?e.sibling:null);Zt(cn,cn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return lg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Zt(cn,cn.current),r)break;return null;case 22:case 23:return t.lanes=0,ig(e,t,n)}return ds(e,t,n)}var cg,zf,ug,dg;cg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zf=function(){};ug=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ia(Ri.current);var a=null;switch(n){case"input":s=nf(e,s),r=nf(e,r),a=[];break;case"select":s=dn({},s,{value:void 0}),r=dn({},r,{value:void 0}),a=[];break;case"textarea":s=af(e,s),r=af(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=td)}lf(n,r);var l;n=null;for(p in s)if(!r.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var u=s[p];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(ic.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var d=r[p];if(u=s!=null?s[p]:void 0,r.hasOwnProperty(p)&&d!==u&&(d!=null||u!=null))if(p==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(a||(a=[]),a.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(a=a||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(ic.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&en("scroll",e),a||u===d||(a=[])):(a=a||[]).push(p,d))}n&&(a=a||[]).push("style",n);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};dg=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ml(e,t){if(!sn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Uv(e,t,n){var r=t.pendingProps;switch(Sp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(t),null;case 1:return Sr(t.type)&&nd(),Yn(t),null;case 3:return r=t.stateNode,Jo(),nn(jr),nn(nr),Ep(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yi!==null&&($f(yi),yi=null))),zf(e,t),Yn(t),null;case 5:Fp(t);var s=Ia(gc.current);if(n=t.type,e!==null&&t.stateNode!=null)ug(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Te(166));return Yn(t),null}if(e=Ia(Ri.current),vu(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Di]=t,r[pc]=a,e=(t.mode&1)!==0,n){case"dialog":en("cancel",r),en("close",r);break;case"iframe":case"object":case"embed":en("load",r);break;case"video":case"audio":for(s=0;s<Wl.length;s++)en(Wl[s],r);break;case"source":en("error",r);break;case"img":case"image":case"link":en("error",r),en("load",r);break;case"details":en("toggle",r);break;case"input":M0(r,a),en("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},en("invalid",r);break;case"textarea":R0(r,a),en("invalid",r)}lf(n,a),s=null;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];l==="children"?typeof u=="string"?r.textContent!==u&&(a.suppressHydrationWarning!==!0&&xu(r.textContent,u,e),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&xu(r.textContent,u,e),s=["children",""+u]):ic.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&en("scroll",r)}switch(n){case"input":cu(r),O0(r,a,!0);break;case"textarea":cu(r),B0(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=td)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=R1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Di]=t,e[pc]=r,cg(e,t,!1,!1),t.stateNode=e;e:{switch(l=cf(n,r),n){case"dialog":en("cancel",e),en("close",e),s=r;break;case"iframe":case"object":case"embed":en("load",e),s=r;break;case"video":case"audio":for(s=0;s<Wl.length;s++)en(Wl[s],e);s=r;break;case"source":en("error",e),s=r;break;case"img":case"image":case"link":en("error",e),en("load",e),s=r;break;case"details":en("toggle",e),s=r;break;case"input":M0(e,r),s=nf(e,r),en("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=dn({},r,{value:void 0}),en("invalid",e);break;case"textarea":R0(e,r),s=af(e,r),en("invalid",e);break;default:s=r}lf(n,s),u=s;for(a in u)if(u.hasOwnProperty(a)){var d=u[a];a==="style"?U1(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&B1(e,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&sc(e,d):typeof d=="number"&&sc(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ic.hasOwnProperty(a)?d!=null&&a==="onScroll"&&en("scroll",e):d!=null&&cp(e,a,d,l))}switch(n){case"input":cu(e),O0(e,r,!1);break;case"textarea":cu(e),B0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ia(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Do(e,!!r.multiple,a,!1):r.defaultValue!=null&&Do(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=td)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yn(t),null;case 6:if(e&&t.stateNode!=null)dg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Te(166));if(n=Ia(gc.current),Ia(Ri.current),vu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Di]=t,(a=r.nodeValue!==n)&&(e=Rr,e!==null))switch(e.tag){case 3:xu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xu(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Di]=t,t.stateNode=r}return Yn(t),null;case 13:if(nn(cn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sn&&Mr!==null&&t.mode&1&&!(t.flags&128))P2(),Wo(),t.flags|=98560,a=!1;else if(a=vu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Te(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Te(317));a[Di]=t}else Wo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yn(t),a=!1}else yi!==null&&($f(yi),yi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||cn.current&1?In===0&&(In=3):Vp())),t.updateQueue!==null&&(t.flags|=4),Yn(t),null);case 4:return Jo(),zf(e,t),e===null&&hc(t.stateNode.containerInfo),Yn(t),null;case 10:return Cp(t.type._context),Yn(t),null;case 17:return Sr(t.type)&&nd(),Yn(t),null;case 19:if(nn(cn),a=t.memoizedState,a===null)return Yn(t),null;if(r=(t.flags&128)!==0,l=a.rendering,l===null)if(r)Ml(a,!1);else{if(In!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=cd(e),l!==null){for(t.flags|=128,Ml(a,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Zt(cn,cn.current&1|2),t.child}e=e.sibling}a.tail!==null&&yn()>Ko&&(t.flags|=128,r=!0,Ml(a,!1),t.lanes=4194304)}else{if(!r)if(e=cd(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ml(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!sn)return Yn(t),null}else 2*yn()-a.renderingStartTime>Ko&&n!==1073741824&&(t.flags|=128,r=!0,Ml(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(n=a.last,n!==null?n.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=yn(),t.sibling=null,n=cn.current,Zt(cn,r?n&1|2:n&1),t):(Yn(t),null);case 22:case 23:return Hp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Tr&1073741824&&(Yn(t),t.subtreeFlags&6&&(t.flags|=8192)):Yn(t),null;case 24:return null;case 25:return null}throw Error(Te(156,t.tag))}function $v(e,t){switch(Sp(t),t.tag){case 1:return Sr(t.type)&&nd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jo(),nn(jr),nn(nr),Ep(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fp(t),null;case 13:if(nn(cn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Te(340));Wo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nn(cn),null;case 4:return Jo(),null;case 10:return Cp(t.type._context),null;case 22:case 23:return Hp(),null;case 24:return null;default:return null}}var Nu=!1,er=!1,Hv=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function _o(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mn(e,t,r)}else n.current=null}function Tf(e,t,n){try{n()}catch(r){mn(e,t,r)}}var Pm=!1;function Vv(e,t){if(yf=Xu,e=g2(),bp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,p=0,g=0,x=e,w=null;t:for(;;){for(var m;x!==n||s!==0&&x.nodeType!==3||(u=l+s),x!==a||r!==0&&x.nodeType!==3||(d=l+r),x.nodeType===3&&(l+=x.nodeValue.length),(m=x.firstChild)!==null;)w=x,x=m;for(;;){if(x===e)break t;if(w===n&&++p===s&&(u=l),w===a&&++g===r&&(d=l),(m=x.nextSibling)!==null)break;x=w,w=x.parentNode}x=m}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(wf={focusedElem:e,selectionRange:n},Xu=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var k=_.memoizedProps,E=_.memoizedState,y=t.stateNode,N=y.getSnapshotBeforeUpdate(t.elementType===t.type?k:gi(t.type,k),E);y.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(U){mn(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return _=Pm,Pm=!1,_}function ec(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Tf(t,n,a)}s=s.next}while(s!==r)}}function Pd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Mf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hg(e){var t=e.alternate;t!==null&&(e.alternate=null,hg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Di],delete t[pc],delete t[jf],delete t[Av],delete t[Cv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fg(e){return e.tag===5||e.tag===3||e.tag===4}function _m(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Of(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=td));else if(r!==4&&(e=e.child,e!==null))for(Of(e,t,n),e=e.sibling;e!==null;)Of(e,t,n),e=e.sibling}function Rf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Rf(e,t,n),e=e.sibling;e!==null;)Rf(e,t,n),e=e.sibling}var $n=null,vi=!1;function zs(e,t,n){for(n=n.child;n!==null;)pg(e,t,n),n=n.sibling}function pg(e,t,n){if(Oi&&typeof Oi.onCommitFiberUnmount=="function")try{Oi.onCommitFiberUnmount(Nd,n)}catch{}switch(n.tag){case 5:er||_o(n,t);case 6:var r=$n,s=vi;$n=null,zs(e,t,n),$n=r,vi=s,$n!==null&&(vi?(e=$n,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$n.removeChild(n.stateNode));break;case 18:$n!==null&&(vi?(e=$n,n=n.stateNode,e.nodeType===8?_h(e.parentNode,n):e.nodeType===1&&_h(e,n),cc(e)):_h($n,n.stateNode));break;case 4:r=$n,s=vi,$n=n.stateNode.containerInfo,vi=!0,zs(e,t,n),$n=r,vi=s;break;case 0:case 11:case 14:case 15:if(!er&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Tf(n,t,l),s=s.next}while(s!==r)}zs(e,t,n);break;case 1:if(!er&&(_o(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){mn(n,t,u)}zs(e,t,n);break;case 21:zs(e,t,n);break;case 22:n.mode&1?(er=(r=er)||n.memoizedState!==null,zs(e,t,n),er=r):zs(e,t,n);break;default:zs(e,t,n)}}function Im(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hv),t.forEach(function(r){var s=ey.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function hi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:$n=u.stateNode,vi=!1;break e;case 3:$n=u.stateNode.containerInfo,vi=!0;break e;case 4:$n=u.stateNode.containerInfo,vi=!0;break e}u=u.return}if($n===null)throw Error(Te(160));pg(a,l,s),$n=null,vi=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(p){mn(s,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mg(t,e),t=t.sibling}function mg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hi(t,e),_i(e),r&4){try{ec(3,e,e.return),Pd(3,e)}catch(k){mn(e,e.return,k)}try{ec(5,e,e.return)}catch(k){mn(e,e.return,k)}}break;case 1:hi(t,e),_i(e),r&512&&n!==null&&_o(n,n.return);break;case 5:if(hi(t,e),_i(e),r&512&&n!==null&&_o(n,n.return),e.flags&32){var s=e.stateNode;try{sc(s,"")}catch(k){mn(e,e.return,k)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,l=n!==null?n.memoizedProps:a,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&M1(s,a),cf(u,l);var p=cf(u,a);for(l=0;l<d.length;l+=2){var g=d[l],x=d[l+1];g==="style"?U1(s,x):g==="dangerouslySetInnerHTML"?B1(s,x):g==="children"?sc(s,x):cp(s,g,x,p)}switch(u){case"input":rf(s,a);break;case"textarea":O1(s,a);break;case"select":var w=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Do(s,!!a.multiple,m,!1):w!==!!a.multiple&&(a.defaultValue!=null?Do(s,!!a.multiple,a.defaultValue,!0):Do(s,!!a.multiple,a.multiple?[]:"",!1))}s[pc]=a}catch(k){mn(e,e.return,k)}}break;case 6:if(hi(t,e),_i(e),r&4){if(e.stateNode===null)throw Error(Te(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(k){mn(e,e.return,k)}}break;case 3:if(hi(t,e),_i(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cc(t.containerInfo)}catch(k){mn(e,e.return,k)}break;case 4:hi(t,e),_i(e);break;case 13:hi(t,e),_i(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Up=yn())),r&4&&Im(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(er=(p=er)||g,hi(t,e),er=p):hi(t,e),_i(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!g&&e.mode&1)for(Ke=e,g=e.child;g!==null;){for(x=Ke=g;Ke!==null;){switch(w=Ke,m=w.child,w.tag){case 0:case 11:case 14:case 15:ec(4,w,w.return);break;case 1:_o(w,w.return);var _=w.stateNode;if(typeof _.componentWillUnmount=="function"){r=w,n=w.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(k){mn(r,n,k)}}break;case 5:_o(w,w.return);break;case 22:if(w.memoizedState!==null){Em(x);continue}}m!==null?(m.return=w,Ke=m):Em(x)}g=g.sibling}e:for(g=null,x=e;;){if(x.tag===5){if(g===null){g=x;try{s=x.stateNode,p?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=x.stateNode,d=x.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=q1("display",l))}catch(k){mn(e,e.return,k)}}}else if(x.tag===6){if(g===null)try{x.stateNode.nodeValue=p?"":x.memoizedProps}catch(k){mn(e,e.return,k)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;g===x&&(g=null),x=x.return}g===x&&(g=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:hi(t,e),_i(e),r&4&&Im(e);break;case 21:break;default:hi(t,e),_i(e)}}function _i(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fg(n)){var r=n;break e}n=n.return}throw Error(Te(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(sc(s,""),r.flags&=-33);var a=_m(e);Rf(e,a,s);break;case 3:case 4:var l=r.stateNode.containerInfo,u=_m(e);Of(e,u,l);break;default:throw Error(Te(161))}}catch(d){mn(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wv(e,t,n){Ke=e,gg(e)}function gg(e,t,n){for(var r=(e.mode&1)!==0;Ke!==null;){var s=Ke,a=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Nu;if(!l){var u=s.alternate,d=u!==null&&u.memoizedState!==null||er;u=Nu;var p=er;if(Nu=l,(er=d)&&!p)for(Ke=s;Ke!==null;)l=Ke,d=l.child,l.tag===22&&l.memoizedState!==null?Dm(s):d!==null?(d.return=l,Ke=d):Dm(s);for(;a!==null;)Ke=a,gg(a),a=a.sibling;Ke=s,Nu=u,er=p}Fm(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Ke=a):Fm(e)}}function Fm(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:er||Pd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!er)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:gi(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&gm(t,a,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gm(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var x=g.dehydrated;x!==null&&cc(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}er||t.flags&512&&Mf(t)}catch(w){mn(t,t.return,w)}}if(t===e){Ke=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function Em(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function Dm(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pd(4,t)}catch(d){mn(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(d){mn(t,s,d)}}var a=t.return;try{Mf(t)}catch(d){mn(t,a,d)}break;case 5:var l=t.return;try{Mf(t)}catch(d){mn(t,l,d)}}}catch(d){mn(t,t.return,d)}if(t===e){Ke=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Ke=u;break}Ke=t.return}}var Gv=Math.ceil,hd=hs.ReactCurrentDispatcher,Bp=hs.ReactCurrentOwner,si=hs.ReactCurrentBatchConfig,zt=0,On=null,Ln=null,Hn=0,Tr=0,Io=ca(0),In=0,wc=null,Oa=0,_d=0,qp=0,tc=null,yr=null,Up=0,Ko=1/0,rs=null,fd=!1,Bf=null,ta=null,bu=!1,Ws=null,pd=0,nc=0,qf=null,Ru=-1,Bu=0;function cr(){return zt&6?yn():Ru!==-1?Ru:Ru=yn()}function na(e){return e.mode&1?zt&2&&Hn!==0?Hn&-Hn:_v.transition!==null?(Bu===0&&(Bu=e2()),Bu):(e=Ht,e!==0||(e=window.event,e=e===void 0?16:o2(e.type)),e):1}function Ni(e,t,n,r){if(50<nc)throw nc=0,qf=null,Error(Te(185));jc(e,n,r),(!(zt&2)||e!==On)&&(e===On&&(!(zt&2)&&(_d|=n),In===4&&$s(e,Hn)),kr(e,r),n===1&&zt===0&&!(t.mode&1)&&(Ko=yn()+500,Ld&&ua()))}function kr(e,t){var n=e.callbackNode;_x(e,t);var r=Qu(e,e===On?Hn:0);if(r===0)n!==null&&$0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$0(n),t===1)e.tag===0?Pv(zm.bind(null,e)):L2(zm.bind(null,e)),kv(function(){!(zt&6)&&ua()}),n=null;else{switch(t2(r)){case 1:n=pp;break;case 4:n=X1;break;case 16:n=Ku;break;case 536870912:n=Z1;break;default:n=Ku}n=Sg(n,xg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xg(e,t){if(Ru=-1,Bu=0,zt&6)throw Error(Te(327));var n=e.callbackNode;if(Ro()&&e.callbackNode!==n)return null;var r=Qu(e,e===On?Hn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=md(e,r);else{t=r;var s=zt;zt|=2;var a=yg();(On!==e||Hn!==t)&&(rs=null,Ko=yn()+500,Fa(e,t));do try{Kv();break}catch(u){vg(e,u)}while(1);Ap(),hd.current=a,zt=s,Ln!==null?t=0:(On=null,Hn=0,t=In)}if(t!==0){if(t===2&&(s=pf(e),s!==0&&(r=s,t=Uf(e,s))),t===1)throw n=wc,Fa(e,0),$s(e,r),kr(e,yn()),n;if(t===6)$s(e,r);else{if(s=e.current.alternate,!(r&30)&&!Jv(s)&&(t=md(e,r),t===2&&(a=pf(e),a!==0&&(r=a,t=Uf(e,a))),t===1))throw n=wc,Fa(e,0),$s(e,r),kr(e,yn()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Te(345));case 2:ka(e,yr,rs);break;case 3:if($s(e,r),(r&130023424)===r&&(t=Up+500-yn(),10<t)){if(Qu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){cr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=bf(ka.bind(null,e,yr,rs),t);break}ka(e,yr,rs);break;case 4:if($s(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-wi(r);a=1<<l,l=t[l],l>s&&(s=l),r&=~a}if(r=s,r=yn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gv(r/1960))-r,10<r){e.timeoutHandle=bf(ka.bind(null,e,yr,rs),r);break}ka(e,yr,rs);break;case 5:ka(e,yr,rs);break;default:throw Error(Te(329))}}}return kr(e,yn()),e.callbackNode===n?xg.bind(null,e):null}function Uf(e,t){var n=tc;return e.current.memoizedState.isDehydrated&&(Fa(e,t).flags|=256),e=md(e,t),e!==2&&(t=yr,yr=n,t!==null&&$f(t)),e}function $f(e){yr===null?yr=e:yr.push.apply(yr,e)}function Jv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!bi(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $s(e,t){for(t&=~qp,t&=~_d,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wi(t),r=1<<n;e[n]=-1,t&=~r}}function zm(e){if(zt&6)throw Error(Te(327));Ro();var t=Qu(e,0);if(!(t&1))return kr(e,yn()),null;var n=md(e,t);if(e.tag!==0&&n===2){var r=pf(e);r!==0&&(t=r,n=Uf(e,r))}if(n===1)throw n=wc,Fa(e,0),$s(e,t),kr(e,yn()),n;if(n===6)throw Error(Te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ka(e,yr,rs),kr(e,yn()),null}function $p(e,t){var n=zt;zt|=1;try{return e(t)}finally{zt=n,zt===0&&(Ko=yn()+500,Ld&&ua())}}function Ra(e){Ws!==null&&Ws.tag===0&&!(zt&6)&&Ro();var t=zt;zt|=1;var n=si.transition,r=Ht;try{if(si.transition=null,Ht=1,e)return e()}finally{Ht=r,si.transition=n,zt=t,!(zt&6)&&ua()}}function Hp(){Tr=Io.current,nn(Io)}function Fa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sv(n)),Ln!==null)for(n=Ln.return;n!==null;){var r=n;switch(Sp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nd();break;case 3:Jo(),nn(jr),nn(nr),Ep();break;case 5:Fp(r);break;case 4:Jo();break;case 13:nn(cn);break;case 19:nn(cn);break;case 10:Cp(r.type._context);break;case 22:case 23:Hp()}n=n.return}if(On=e,Ln=e=ra(e.current,null),Hn=Tr=t,In=0,wc=null,qp=_d=Oa=0,yr=tc=null,_a!==null){for(t=0;t<_a.length;t++)if(n=_a[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=s,r.next=l}n.pending=r}_a=null}return e}function vg(e,t){do{var n=Ln;try{if(Ap(),Tu.current=dd,ud){for(var r=un.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ud=!1}if(Ma=0,Tn=_n=un=null,Zl=!1,xc=0,Bp.current=null,n===null||n.return===null){In=1,wc=t,Ln=null;break}e:{var a=e,l=n.return,u=n,d=t;if(t=Hn,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,g=u,x=g.tag;if(!(g.mode&1)&&(x===0||x===11||x===15)){var w=g.alternate;w?(g.updateQueue=w.updateQueue,g.memoizedState=w.memoizedState,g.lanes=w.lanes):(g.updateQueue=null,g.memoizedState=null)}var m=bm(l);if(m!==null){m.flags&=-257,jm(m,l,u,a,t),m.mode&1&&Nm(a,p,t),t=m,d=p;var _=t.updateQueue;if(_===null){var k=new Set;k.add(d),t.updateQueue=k}else _.add(d);break e}else{if(!(t&1)){Nm(a,p,t),Vp();break e}d=Error(Te(426))}}else if(sn&&u.mode&1){var E=bm(l);if(E!==null){!(E.flags&65536)&&(E.flags|=256),jm(E,l,u,a,t),kp(Yo(d,u));break e}}a=d=Yo(d,u),In!==4&&(In=2),tc===null?tc=[a]:tc.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=tg(a,d,t);mm(a,y);break e;case 1:u=d;var N=a.type,A=a.stateNode;if(!(a.flags&128)&&(typeof N.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ta===null||!ta.has(A)))){a.flags|=65536,t&=-t,a.lanes|=t;var U=ng(a,u,t);mm(a,U);break e}}a=a.return}while(a!==null)}Ng(n)}catch(X){t=X,Ln===n&&n!==null&&(Ln=n=n.return);continue}break}while(1)}function yg(){var e=hd.current;return hd.current=dd,e===null?dd:e}function Vp(){(In===0||In===3||In===2)&&(In=4),On===null||!(Oa&268435455)&&!(_d&268435455)||$s(On,Hn)}function md(e,t){var n=zt;zt|=2;var r=yg();(On!==e||Hn!==t)&&(rs=null,Fa(e,t));do try{Yv();break}catch(s){vg(e,s)}while(1);if(Ap(),zt=n,hd.current=r,Ln!==null)throw Error(Te(261));return On=null,Hn=0,In}function Yv(){for(;Ln!==null;)wg(Ln)}function Kv(){for(;Ln!==null&&!Nx();)wg(Ln)}function wg(e){var t=jg(e.alternate,e,Tr);e.memoizedProps=e.pendingProps,t===null?Ng(e):Ln=t,Bp.current=null}function Ng(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$v(n,t),n!==null){n.flags&=32767,Ln=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{In=6,Ln=null;return}}else if(n=Uv(n,t,Tr),n!==null){Ln=n;return}if(t=t.sibling,t!==null){Ln=t;return}Ln=t=e}while(t!==null);In===0&&(In=5)}function ka(e,t,n){var r=Ht,s=si.transition;try{si.transition=null,Ht=1,Qv(e,t,n,r)}finally{si.transition=s,Ht=r}return null}function Qv(e,t,n,r){do Ro();while(Ws!==null);if(zt&6)throw Error(Te(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Te(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Ix(e,a),e===On&&(Ln=On=null,Hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bu||(bu=!0,Sg(Ku,function(){return Ro(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=si.transition,si.transition=null;var l=Ht;Ht=1;var u=zt;zt|=4,Bp.current=null,Vv(e,n),mg(n,e),xv(wf),Xu=!!yf,wf=yf=null,e.current=n,Wv(n),bx(),zt=u,Ht=l,si.transition=a}else e.current=n;if(bu&&(bu=!1,Ws=e,pd=s),a=e.pendingLanes,a===0&&(ta=null),kx(n.stateNode),kr(e,yn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(fd)throw fd=!1,e=Bf,Bf=null,e;return pd&1&&e.tag!==0&&Ro(),a=e.pendingLanes,a&1?e===qf?nc++:(nc=0,qf=e):nc=0,ua(),null}function Ro(){if(Ws!==null){var e=t2(pd),t=si.transition,n=Ht;try{if(si.transition=null,Ht=16>e?16:e,Ws===null)var r=!1;else{if(e=Ws,Ws=null,pd=0,zt&6)throw Error(Te(331));var s=zt;for(zt|=4,Ke=e.current;Ke!==null;){var a=Ke,l=a.child;if(Ke.flags&16){var u=a.deletions;if(u!==null){for(var d=0;d<u.length;d++){var p=u[d];for(Ke=p;Ke!==null;){var g=Ke;switch(g.tag){case 0:case 11:case 15:ec(8,g,a)}var x=g.child;if(x!==null)x.return=g,Ke=x;else for(;Ke!==null;){g=Ke;var w=g.sibling,m=g.return;if(hg(g),g===p){Ke=null;break}if(w!==null){w.return=m,Ke=w;break}Ke=m}}}var _=a.alternate;if(_!==null){var k=_.child;if(k!==null){_.child=null;do{var E=k.sibling;k.sibling=null,k=E}while(k!==null)}}Ke=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,Ke=l;else e:for(;Ke!==null;){if(a=Ke,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ec(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Ke=y;break e}Ke=a.return}}var N=e.current;for(Ke=N;Ke!==null;){l=Ke;var A=l.child;if(l.subtreeFlags&2064&&A!==null)A.return=l,Ke=A;else e:for(l=N;Ke!==null;){if(u=Ke,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Pd(9,u)}}catch(X){mn(u,u.return,X)}if(u===l){Ke=null;break e}var U=u.sibling;if(U!==null){U.return=u.return,Ke=U;break e}Ke=u.return}}if(zt=s,ua(),Oi&&typeof Oi.onPostCommitFiberRoot=="function")try{Oi.onPostCommitFiberRoot(Nd,e)}catch{}r=!0}return r}finally{Ht=n,si.transition=t}}return!1}function Tm(e,t,n){t=Yo(n,t),t=tg(e,t,1),e=ea(e,t,1),t=cr(),e!==null&&(jc(e,1,t),kr(e,t))}function mn(e,t,n){if(e.tag===3)Tm(e,e,n);else for(;t!==null;){if(t.tag===3){Tm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ta===null||!ta.has(r))){e=Yo(n,e),e=ng(t,e,1),t=ea(t,e,1),e=cr(),t!==null&&(jc(t,1,e),kr(t,e));break}}t=t.return}}function Xv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=cr(),e.pingedLanes|=e.suspendedLanes&n,On===e&&(Hn&n)===n&&(In===4||In===3&&(Hn&130023424)===Hn&&500>yn()-Up?Fa(e,0):qp|=n),kr(e,t)}function bg(e,t){t===0&&(e.mode&1?(t=hu,hu<<=1,!(hu&130023424)&&(hu=4194304)):t=1);var n=cr();e=us(e,t),e!==null&&(jc(e,t,n),kr(e,n))}function Zv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bg(e,n)}function ey(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Te(314))}r!==null&&r.delete(t),bg(e,n)}var jg;jg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jr.current)Nr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nr=!1,qv(e,t,n);Nr=!!(e.flags&131072)}else Nr=!1,sn&&t.flags&1048576&&A2(t,sd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ou(e,t),e=t.pendingProps;var s=Vo(t,nr.current);Oo(t,n),s=zp(null,t,r,e,s,n);var a=Tp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Sr(r)?(a=!0,rd(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_p(t),s.updater=Cd,t.stateNode=s,s._reactInternals=t,Pf(t,r,e,n),t=Ff(null,t,r,!0,a,n)):(t.tag=0,sn&&a&&jp(t),lr(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ou(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ny(r),e=gi(r,e),s){case 0:t=If(null,t,r,e,n);break e;case 1:t=Lm(null,t,r,e,n);break e;case 11:t=Sm(null,t,r,e,n);break e;case 14:t=km(null,t,r,gi(r.type,e),n);break e}throw Error(Te(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gi(r,s),If(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gi(r,s),Lm(e,t,r,s,n);case 3:e:{if(ag(t),e===null)throw Error(Te(387));r=t.pendingProps,a=t.memoizedState,s=a.element,E2(e,t),ld(t,r,null,n);var l=t.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Yo(Error(Te(423)),t),t=Am(e,t,r,n,s);break e}else if(r!==s){s=Yo(Error(Te(424)),t),t=Am(e,t,r,n,s);break e}else for(Mr=Zs(t.stateNode.containerInfo.firstChild),Rr=t,sn=!0,yi=null,n=I2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wo(),r===s){t=ds(e,t,n);break e}lr(e,t,r,n)}t=t.child}return t;case 5:return D2(t),e===null&&Lf(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,l=s.children,Nf(r,s)?l=null:a!==null&&Nf(r,a)&&(t.flags|=32),sg(e,t),lr(e,t,l,n),t.child;case 6:return e===null&&Lf(t),null;case 13:return og(e,t,n);case 4:return Ip(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Go(t,null,r,n):lr(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gi(r,s),Sm(e,t,r,s,n);case 7:return lr(e,t,t.pendingProps,n),t.child;case 8:return lr(e,t,t.pendingProps.children,n),t.child;case 12:return lr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,l=s.value,Zt(ad,r._currentValue),r._currentValue=l,a!==null)if(bi(a.value,l)){if(a.children===s.children&&!jr.current){t=ds(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var u=a.dependencies;if(u!==null){l=a.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=os(-1,n&-n),d.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?d.next=d:(d.next=g.next,g.next=d),p.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),Af(a.return,n,t),u.lanes|=n;break}d=d.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(Te(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Af(l,n,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}lr(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Oo(t,n),s=ai(s),r=r(s),t.flags|=1,lr(e,t,r,n),t.child;case 14:return r=t.type,s=gi(r,t.pendingProps),s=gi(r.type,s),km(e,t,r,s,n);case 15:return rg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gi(r,s),Ou(e,t),t.tag=1,Sr(r)?(e=!0,rd(t)):e=!1,Oo(t,n),eg(t,r,s),Pf(t,r,s,n),Ff(null,t,r,!0,e,n);case 19:return lg(e,t,n);case 22:return ig(e,t,n)}throw Error(Te(156,t.tag))};function Sg(e,t){return Q1(e,t)}function ty(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(e,t,n,r){return new ty(e,t,n,r)}function Wp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ny(e){if(typeof e=="function")return Wp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dp)return 11;if(e===hp)return 14}return 2}function ra(e,t){var n=e.alternate;return n===null?(n=ii(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qu(e,t,n,r,s,a){var l=2;if(r=e,typeof e=="function")Wp(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case No:return Ea(n.children,s,a,t);case up:l=8,s|=8;break;case Xh:return e=ii(12,n,t,s|2),e.elementType=Xh,e.lanes=a,e;case Zh:return e=ii(13,n,t,s),e.elementType=Zh,e.lanes=a,e;case ef:return e=ii(19,n,t,s),e.elementType=ef,e.lanes=a,e;case D1:return Id(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F1:l=10;break e;case E1:l=9;break e;case dp:l=11;break e;case hp:l=14;break e;case Bs:l=16,r=null;break e}throw Error(Te(130,e==null?e:typeof e,""))}return t=ii(l,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Ea(e,t,n,r){return e=ii(7,e,r,t),e.lanes=n,e}function Id(e,t,n,r){return e=ii(22,e,r,t),e.elementType=D1,e.lanes=n,e.stateNode={isHidden:!1},e}function Oh(e,t,n){return e=ii(6,e,null,t),e.lanes=n,e}function Rh(e,t,n){return t=ii(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ry(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yh(0),this.expirationTimes=yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gp(e,t,n,r,s,a,l,u,d){return e=new ry(e,t,n,u,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ii(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_p(a),e}function iy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function kg(e){if(!e)return sa;e=e._reactInternals;e:{if(Ua(e)!==e||e.tag!==1)throw Error(Te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Te(171))}if(e.tag===1){var n=e.type;if(Sr(n))return k2(e,n,t)}return t}function Lg(e,t,n,r,s,a,l,u,d){return e=Gp(n,r,!0,e,s,a,l,u,d),e.context=kg(null),n=e.current,r=cr(),s=na(n),a=os(r,s),a.callback=t??null,ea(n,a,s),e.current.lanes=s,jc(e,s,r),kr(e,r),e}function Fd(e,t,n,r){var s=t.current,a=cr(),l=na(s);return n=kg(n),t.context===null?t.context=n:t.pendingContext=n,t=os(a,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ea(s,t,l),e!==null&&(Ni(e,s,l,a),zu(e,s,l)),l}function gd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jp(e,t){Mm(e,t),(e=e.alternate)&&Mm(e,t)}function sy(){return null}var Ag=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yp(e){this._internalRoot=e}Ed.prototype.render=Yp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Te(409));Fd(e,t,null,null)};Ed.prototype.unmount=Yp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ra(function(){Fd(null,e,null,null)}),t[cs]=null}};function Ed(e){this._internalRoot=e}Ed.prototype.unstable_scheduleHydration=function(e){if(e){var t=i2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Us.length&&t!==0&&t<Us[n].priority;n++);Us.splice(n,0,e),n===0&&a2(e)}};function Kp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Om(){}function ay(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var p=gd(l);a.call(p)}}var l=Lg(t,r,e,0,null,!1,!1,"",Om);return e._reactRootContainer=l,e[cs]=l.current,hc(e.nodeType===8?e.parentNode:e),Ra(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var p=gd(d);u.call(p)}}var d=Gp(e,0,!1,null,null,!1,!1,"",Om);return e._reactRootContainer=d,e[cs]=d.current,hc(e.nodeType===8?e.parentNode:e),Ra(function(){Fd(t,d,n,r)}),d}function zd(e,t,n,r,s){var a=n._reactRootContainer;if(a){var l=a;if(typeof s=="function"){var u=s;s=function(){var d=gd(l);u.call(d)}}Fd(t,l,e,s)}else l=ay(n,t,e,s,r);return gd(l)}n2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vl(t.pendingLanes);n!==0&&(mp(t,n|1),kr(t,yn()),!(zt&6)&&(Ko=yn()+500,ua()))}break;case 13:Ra(function(){var r=us(e,1);if(r!==null){var s=cr();Ni(r,e,1,s)}}),Jp(e,1)}};gp=function(e){if(e.tag===13){var t=us(e,134217728);if(t!==null){var n=cr();Ni(t,e,134217728,n)}Jp(e,134217728)}};r2=function(e){if(e.tag===13){var t=na(e),n=us(e,t);if(n!==null){var r=cr();Ni(n,e,t,r)}Jp(e,t)}};i2=function(){return Ht};s2=function(e,t){var n=Ht;try{return Ht=e,t()}finally{Ht=n}};df=function(e,t,n){switch(t){case"input":if(rf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=kd(r);if(!s)throw Error(Te(90));T1(r),rf(r,s)}}}break;case"textarea":O1(e,n);break;case"select":t=n.value,t!=null&&Do(e,!!n.multiple,t,!1)}};V1=$p;W1=Ra;var oy={usingClientEntryPoint:!1,Events:[kc,ko,kd,$1,H1,$p]},Ol={findFiberByHostInstance:Pa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ly={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Y1(e),e===null?null:e.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||sy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Nd=ju.inject(ly),Oi=ju}catch{}}qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oy;qr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kp(t))throw Error(Te(200));return iy(e,t,null,n)};qr.createRoot=function(e,t){if(!Kp(e))throw Error(Te(299));var n=!1,r="",s=Ag;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Gp(e,1,!1,null,null,n,!1,r,s),e[cs]=t.current,hc(e.nodeType===8?e.parentNode:e),new Yp(t)};qr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Te(188)):(e=Object.keys(e).join(","),Error(Te(268,e)));return e=Y1(t),e=e===null?null:e.stateNode,e};qr.flushSync=function(e){return Ra(e)};qr.hydrate=function(e,t,n){if(!Dd(t))throw Error(Te(200));return zd(null,e,t,!0,n)};qr.hydrateRoot=function(e,t,n){if(!Kp(e))throw Error(Te(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",l=Ag;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Lg(t,null,e,1,n??null,s,!1,a,l),e[cs]=t.current,hc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ed(t)};qr.render=function(e,t,n){if(!Dd(t))throw Error(Te(200));return zd(null,e,t,!1,n)};qr.unmountComponentAtNode=function(e){if(!Dd(e))throw Error(Te(40));return e._reactRootContainer?(Ra(function(){zd(null,null,e,!1,function(){e._reactRootContainer=null,e[cs]=null})}),!0):!1};qr.unstable_batchedUpdates=$p;qr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Dd(n))throw Error(Te(200));if(e==null||e._reactInternals===void 0)throw Error(Te(38));return zd(e,t,n,!1,r)};qr.version="18.3.1-next-f1338f8080-20240426";function Cg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cg)}catch(e){console.error(e)}}Cg(),C1.exports=qr;var cy=C1.exports,Rm=cy;Kh.createRoot=Rm.createRoot,Kh.hydrateRoot=Rm.hydrateRoot;var uy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hy=(e,t)=>{const n=he.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,children:u,...d},p)=>he.createElement("svg",{ref:p,...uy,width:s,height:s,stroke:r,strokeWidth:l?Number(a)*24/Number(s):a,className:`lucide lucide-${dy(e)}`,...d},[...t.map(([g,x])=>he.createElement(g,x)),...(Array.isArray(u)?u:[u])||[]]));return n.displayName=`${e}`,n};var dt=hy;const Qo=dt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Bm=dt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]]),fy=dt("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),qm=dt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Gs=dt("Bot",[["rect",{width:"18",height:"10",x:"3",y:"11",rx:"2",key:"1ofdy3"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"M12 7v4",key:"xawao1"}],["line",{x1:"8",x2:"8",y1:"16",y2:"16",key:"h6x27f"}],["line",{x1:"16",x2:"16",y1:"16",y2:"16",key:"5lty7f"}]]),Qp=dt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),py=dt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Js=dt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Um=dt("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Su=dt("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),my=dt("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]),Xp=dt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ba=dt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),gy=dt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Hf=dt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),xy=dt("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),vy=dt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),$m=dt("FolderPlus",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["line",{x1:"12",x2:"12",y1:"10",y2:"16",key:"3c25pp"}],["line",{x1:"9",x2:"15",y1:"13",y2:"13",key:"10hoct"}]]),Ii=dt("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),Hm=dt("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),yy=dt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),wy=dt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Rl=dt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Ny=dt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),by=dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Bh=dt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Pg=dt("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),xd=dt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),jy=dt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Sy=dt("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]),wr=dt("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),ky=dt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Uu=dt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),zi=dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Gl=dt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Vm=dt("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),Hs=dt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),_g=dt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Ti=dt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Zp=dt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Wm=dt("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]),ku=dt("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),zr=dt("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),br=dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Gm=dt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Jm=dt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Ig=dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),La=dt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),zn=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ly=dt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Ye({className:e,...t}){return i.jsx("div",{className:`rounded-lg border bg-white text-card-foreground shadow-sm ${e}`,...t})}function kt({className:e,...t}){return i.jsx("div",{className:`flex flex-col space-y-1.5 p-6 ${e}`,...t})}function Lt({className:e,...t}){return i.jsx("h3",{className:`text-2xl font-semibold leading-none tracking-tight ${e}`,...t})}function Ze({className:e,...t}){return i.jsx("div",{className:`p-6 pt-0 ${e}`,...t})}function Ay({temperatures:e=[],cleaning:t=[],staff:n=[],products:r=[],currentUser:s}){const a=e.filter(d=>d.status==="ok").length,l=e.filter(d=>d.status==="danger").length,u=t.filter(d=>!d.completed).length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx(Ye,{children:i.jsx(Ze,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Js,{className:"h-8 w-8 text-green-600"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:a}),i.jsx("p",{className:"text-sm text-gray-600",children:"Temperature OK"})]})]})})}),i.jsx(Ye,{children:i.jsx(Ze,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Qo,{className:"h-8 w-8 text-red-600"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-2xl font-bold text-red-600",children:l}),i.jsx("p",{className:"text-sm text-gray-600",children:"Problemi Temp."})]})]})})}),i.jsx(Ye,{children:i.jsx(Ze,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(wr,{className:"h-8 w-8 text-blue-600"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:u}),i.jsx("p",{className:"text-sm text-gray-600",children:"Pulizie Pending"})]})]})})}),i.jsx(Ye,{children:i.jsx(Ze,{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Qp,{className:"h-8 w-8 text-purple-600"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:r.length}),i.jsx("p",{className:"text-sm text-gray-600",children:"Prodotti"})]})]})})})]}),i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{children:["Benvenuto, ",s==null?void 0:s.name,"!"]})}),i.jsxs(Ze,{children:[i.jsx("p",{className:"text-gray-600",children:"Dashboard Business HACCP Manager"}),i.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Ruolo: ",(s==null?void 0:s.role)==="admin"?"Amministratore":"Dipendente","  Reparto: ",s==null?void 0:s.department]})]})]})]})}const Cy={default:"bg-primary-500 text-white hover:bg-primary-600",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-gray-300 bg-white hover:bg-gray-50",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100",link:"text-primary-500 underline-offset-4 hover:underline"},Py={default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10"};function ye({className:e,variant:t="default",size:n="default",asChild:r=!1,...s}){const a=r?"span":"button";return i.jsx(a,{className:`
        inline-flex items-center justify-center rounded-md text-sm font-medium
        ring-offset-background transition-colors focus-visible:outline-none
        focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
        disabled:pointer-events-none disabled:opacity-50
        ${Cy[t]}
        ${Py[n]}
        ${e}
      `,...s})}function st({className:e,type:t,...n}){return i.jsx("input",{type:t,className:`
        flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2
        text-sm ring-offset-background file:border-0 file:bg-transparent
        file:text-sm file:font-medium placeholder:text-gray-500
        focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500
        focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50
        ${e}
      `,...n})}function Qe({className:e,...t}){return i.jsx("label",{className:`
        text-sm font-medium leading-none peer-disabled:cursor-not-allowed
        peer-disabled:opacity-70 ${e}
      `,...t})}function _y({cleaning:e,setCleaning:t,temperatures:n,setTemperatures:r,currentUser:s,refrigerators:a=[],setRefrigerators:l}){const[u,d]=he.useState({task:"",assignee:"",frequency:""}),[p,g]=he.useState({location:"",temperature:""}),[x,w]=he.useState("daily");he.useEffect(()=>{localStorage.setItem("haccp-cleaning",JSON.stringify(e))},[e]),he.useEffect(()=>{localStorage.setItem("haccp-temperatures",JSON.stringify(n))},[n]);const m=z=>z<0||z>8?"danger":z>=6&&z<=8?"warning":"ok",_=z=>{if(z.preventDefault(),!u.task.trim()||!u.assignee.trim()||!u.frequency)return;const $={id:Date.now(),task:u.task.trim(),assignee:u.assignee.trim(),frequency:u.frequency,completed:!1,date:new Date().toLocaleDateString("it-IT"),createdAt:new Date().toLocaleString("it-IT"),createdBy:(s==null?void 0:s.name)||"Unknown"};t([...e,$]),d({task:"",assignee:"",frequency:""})},k=z=>{if(z.preventDefault(),!p.location.trim()||!p.temperature.trim())return;const $=parseFloat(p.temperature);if(isNaN($))return;const C={id:Date.now(),location:p.location.trim(),temperature:$,status:m($),timestamp:new Date().toISOString(),time:new Date().toLocaleString("it-IT"),user:s==null?void 0:s.id,userName:s==null?void 0:s.name,userDepartment:s==null?void 0:s.department};r([...n,C]);const F={id:Date.now()+1,timestamp:new Date().toISOString(),user:s==null?void 0:s.id,userName:s==null?void 0:s.name,type:"temperature_check",description:`Controllo temperatura ${p.location}: ${$}C`,location:p.location,value:$,status:m($)},J=JSON.parse(localStorage.getItem("haccp-actions")||"[]");J.push(F),localStorage.setItem("haccp-actions",JSON.stringify(J)),g({location:"",temperature:""})},E=z=>{t(e.map($=>$.id===z?{...$,completed:!$.completed,completedAt:$.completed?null:new Date().toLocaleString("it-IT"),completedBy:$.completed?null:(s==null?void 0:s.name)||"Unknown"}:$))},y=z=>{confirm("Sei sicuro di voler eliminare questa attivit?")&&t(e.filter($=>$.id!==z))},N=e.filter(z=>!z.completed),A=e.filter(z=>z.completed),U=N.filter(z=>z.frequency==="daily"),X=N.filter(z=>z.frequency==="weekly"),ae=N.filter(z=>z.frequency==="monthly"),G=N.filter(z=>z.frequency==="yearly"),S=(s==null?void 0:s.role)==="admin";return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(Zp,{className:"h-5 w-5"}),"Nuove Attivit / Mansioni"]})}),i.jsx(Ze,{children:i.jsxs("form",{onSubmit:_,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"task",children:"Attivit"}),i.jsx(st,{id:"task",placeholder:"Es: Pulizia frigorifero, Sanificazione piano lavoro...",value:u.task,onChange:z=>d({...u,task:z.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"assignee",children:"Assegnato a"}),i.jsx(st,{id:"assignee",placeholder:"Nome del responsabile",value:u.assignee,onChange:z=>d({...u,assignee:z.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"frequency",children:"Frequenza"}),i.jsxs("select",{id:"frequency",value:u.frequency,onChange:z=>d({...u,frequency:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[i.jsx("option",{value:"",children:"-- Seleziona Frequenza --"}),i.jsx("option",{value:"daily",children:"Giornalmente"}),i.jsx("option",{value:"weekly",children:"Settimanalmente"}),i.jsx("option",{value:"monthly",children:"Mensilmente"}),i.jsx("option",{value:"yearly",children:"Annualmente"}),(s==null?void 0:s.role)==="admin"&&i.jsx("option",{value:"all",children:"Tutti"})]})]})]}),i.jsx(ye,{type:"submit",className:"w-full",children:"Aggiungi Attivit"})]})})]}),i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{children:["Attivit da Svolgere (",N.length,")"]})}),i.jsx(Ze,{children:N.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Js,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),i.jsx("p",{children:"Nessuna attivit da svolgere"}),i.jsx("p",{className:"text-sm",children:"Tutte le attivit sono completate!"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:()=>w("daily"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x==="daily"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Giornaliere (",U.length,")"]}),i.jsxs("button",{onClick:()=>w("weekly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x==="weekly"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Settimanali (",X.length,")"]}),i.jsxs("button",{onClick:()=>w("monthly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x==="monthly"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Mensili (",ae.length,")"]}),i.jsxs("button",{onClick:()=>w("yearly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x==="yearly"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Annuali (",G.length,")"]}),(s==null?void 0:s.role)==="admin"&&i.jsxs("button",{onClick:()=>w("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Tutti (",N.length,")"]})]}),i.jsx("div",{className:"space-y-3",children:(()=>{let z=[];switch(x){case"daily":z=U;break;case"weekly":z=X;break;case"monthly":z=ae;break;case"yearly":z=G;break;case"all":z=N;break;default:z=U}return z.map($=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-medium",children:$.task}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Assegnato a: ",$.assignee,"  ",$.date]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{size:"sm",onClick:()=>E($.id),className:"bg-green-600 hover:bg-green-700 p-2 md:p-1",children:[i.jsx(Js,{className:"h-6 w-6 md:h-4 md:w-4 mr-1"}),i.jsx("span",{className:"hidden sm:inline",children:"Completata"})]}),S&&i.jsx(ye,{size:"sm",variant:"outline",onClick:()=>y($.id),className:"text-red-600 hover:text-red-700 p-2 md:p-1",children:i.jsx(br,{className:"h-6 w-6 md:h-4 md:w-4"})})]})]},$.id))})()})]})})]}),A.length>0&&i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center justify-between",children:["Attivit Completate (",A.length,")",S&&i.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>{confirm("Sei sicuro di voler eliminare tutte le attivit completate? Questa azione non pu essere annullata.")&&t(e.filter(z=>!z.completed))},className:"text-red-600 hover:text-red-700",children:[i.jsx(br,{className:"h-4 w-4 mr-2"}),"Elimina Tutte"]})]})}),i.jsx(Ze,{children:i.jsx("div",{className:"space-y-3",children:A.map(z=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-green-50",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-medium line-through",children:z.task}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Assegnato a: ",z.assignee,"  Completata: ",z.completedAt,z.completedBy&&i.jsxs("span",{className:"ml-2 text-blue-600",children:[" Completata da: ",z.completedBy]})]})]}),S&&i.jsx(ye,{size:"sm",variant:"outline",onClick:()=>y(z.id),className:"text-red-600 hover:text-red-700 p-2 md:p-1",children:i.jsx(br,{className:"h-6 w-6 md:h-4 md:w-4"})})]},z.id))})})]}),i.jsxs(Ye,{children:[i.jsxs(kt,{children:[i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(zr,{className:"h-5 w-5"}),"Registra Temperatura Frigorifero/Freezer"]}),s&&i.jsxs("p",{className:"text-sm text-gray-600",children:["Registrando come: ",i.jsx("span",{className:"font-medium",children:s.name})," (",s.department,")"]})]}),i.jsx(Ze,{children:i.jsxs("form",{onSubmit:k,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"temp-location",children:"Frigorifero / Freezer"}),a.length===0?i.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-yellow-800",children:'Nessun frigorifero registrato. Aggiungi prima un frigorifero nella sezione "Frigoriferi e Freezer".'})}):i.jsxs("select",{id:"temp-location",value:p.location,onChange:z=>g({...p,location:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[i.jsx("option",{value:"",children:"-- Seleziona Frigorifero/Freezer --"}),a.map(z=>i.jsxs("option",{value:z.name,children:[z.name," (",z.location||"Posizione non specificata",")"]},z.id))]})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"temp-temperature",children:"Temperatura (C)"}),i.jsx(st,{id:"temp-temperature",type:"number",step:"0.1",value:p.temperature,onChange:z=>g({...p,temperature:z.target.value}),placeholder:"es. 4.2",required:!0})]})]}),i.jsxs(ye,{type:"submit",className:"w-full md:w-auto",disabled:a.length===0,children:[i.jsx(zr,{className:"mr-2 h-4 w-4"}),"Registra Temperatura"]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(Ye,{children:i.jsx(Ze,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Mansioni da Svolgere"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:N.length})]}),i.jsx(Xp,{className:"h-10 w-10 md:h-8 md:w-8 text-yellow-500"})]})})}),i.jsx(Ye,{children:i.jsx(Ze,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Mansioni Completate"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:A.length})]}),i.jsx(Js,{className:"h-10 w-10 md:h-8 md:w-8 text-green-500"})]})})}),i.jsx(Ye,{children:i.jsx(Ze,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Temperature OK"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(z=>z.status==="ok").length})]}),i.jsx(Js,{className:"h-10 w-10 md:h-8 md:w-8 text-green-500"})]})})}),i.jsx(Ye,{children:i.jsx(Ze,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Temperature da Monitorare"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.filter(z=>z.status==="danger"||z.status==="warning").length})]}),i.jsx(Qo,{className:"h-10 w-10 md:h-8 md:w-8 text-red-500"})]})})})]})]})}function Iy({temperatures:e,setTemperatures:t,currentUser:n,refrigerators:r,setRefrigerators:s}){const[a,l]=he.useState(!1),[u,d]=he.useState(!1),[p,g]=he.useState(null),[x,w]=he.useState({name:"",setTemperature:"",location:"",dedicatedTo:"",nextMaintenance:""}),[m,_]=he.useState(""),k=S=>{if(S.preventDefault(),!x.name.trim()||!x.setTemperature.trim())return;if(r.find(F=>F.name.toLowerCase()===x.name.trim().toLowerCase())){alert("Un frigorifero/freezer con questo nome esiste gi. Scegli un nome diverso.");return}const $=parseFloat(x.setTemperature);if(isNaN($))return;const C={id:Date.now(),name:x.name.trim(),setTemperature:$,location:x.location.trim(),dedicatedTo:x.dedicatedTo.trim(),nextMaintenance:x.nextMaintenance.trim(),createdAt:new Date().toISOString(),createdBy:(n==null?void 0:n.name)||"Unknown"};s([...r,C]),w({name:"",setTemperature:"",location:"",dedicatedTo:"",nextMaintenance:""}),l(!1)},E=S=>{confirm("Sei sicuro di voler eliminare questo frigorifero/freezer?")&&s(r.filter(z=>z.id!==S))},y=S=>{g(S),w({name:S.name,setTemperature:S.setTemperature.toString(),location:S.location||"",dedicatedTo:S.dedicatedTo||"",nextMaintenance:S.nextMaintenance||""}),d(!0)},N=S=>{if(S.preventDefault(),!x.name.trim()||!x.setTemperature.trim())return;if(r.find(F=>F.id!==p.id&&F.name.toLowerCase()===x.name.trim().toLowerCase())){alert("Un frigorifero/freezer con questo nome esiste gi. Scegli un nome diverso.");return}const $=parseFloat(x.setTemperature);if(isNaN($))return;const C={...p,name:x.name.trim(),setTemperature:$,location:x.location.trim(),dedicatedTo:x.dedicatedTo.trim(),nextMaintenance:x.nextMaintenance.trim(),updatedAt:new Date().toISOString(),updatedBy:(n==null?void 0:n.name)||"Unknown"};s(r.map(F=>F.id===p.id?C:F)),w({name:"",setTemperature:"",location:"",dedicatedTo:"",nextMaintenance:""}),g(null),d(!1)},A=S=>{const z=e.filter(C=>C.location.toLowerCase().includes(S.name.toLowerCase())).sort((C,F)=>new Date(F.timestamp)-new Date(C.timestamp))[0];if(!z)return"no-data";const $=Math.abs(z.temperature-S.setTemperature);return $<=1?"green":$<=1.5?"orange":$>=2?"red":"orange"},U=S=>{const z={green:"bg-green-500",orange:"bg-orange-500",red:"bg-red-500","no-data":"bg-gray-400"};return i.jsx("div",{className:`w-3 h-3 rounded-full ${z[S]}`})},X=S=>({green:"Temperatura OK",orange:"Attenzione",red:"Critica","no-data":"Nessun dato"})[S],ae=r.filter(S=>S.name.toLowerCase().includes(m.toLowerCase())||S.location.toLowerCase().includes(m.toLowerCase())),G=e.filter(S=>r.some(z=>S.location.toLowerCase().includes(z.name.toLowerCase()))).sort((S,z)=>new Date(z.timestamp)-new Date(S.timestamp));return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(zr,{className:"h-5 w-5"}),"Frigoriferi e Freezer"]}),i.jsxs(ye,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[i.jsx(zi,{className:"h-4 w-4"}),"Aggiungi Frigo / Freezer"]})]})}),i.jsx(Ze,{children:r.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(zr,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{children:"Nessun frigorifero/freezer registrato"}),i.jsx("p",{className:"text-sm",children:"Aggiungi il primo frigorifero per iniziare"})]}):i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[i.jsxs("h3",{className:"font-semibold text-blue-800 mb-3 flex items-center gap-2",children:[i.jsx(zr,{className:"h-4 w-4"}),"Frigoriferi"]}),i.jsxs("div",{className:"space-y-2",children:[ae.filter(S=>S.setTemperature>=-2.5&&S.setTemperature<=0||S.setTemperature>0&&S.setTemperature<=14).map(S=>{const z=A(S);return i.jsxs("div",{className:`p-3 border rounded-lg ${z==="green"?"bg-green-50 border-green-200":z==="orange"?"bg-orange-50 border-orange-200":z==="red"?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[U(z),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm",children:S.name}),i.jsx("p",{className:`text-xs ${z==="green"?"text-green-600":z==="orange"?"text-orange-600":z==="red"?"text-red-600":"text-gray-600"}`,children:X(z)})]})]}),i.jsxs("div",{className:"flex gap-1",children:[(n==null?void 0:n.role)==="admin"&&i.jsx(ye,{size:"sm",variant:"outline",onClick:()=>y(S),className:"h-6 w-6 p-0",children:i.jsx(Uu,{className:"h-3 w-3"})}),i.jsx(ye,{size:"sm",variant:"outline",onClick:()=>E(S.id),className:"h-6 w-6 p-0",children:i.jsx(br,{className:"h-3 w-3"})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[S.location&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Bh,{className:"h-3 w-3 text-gray-500"}),i.jsx("span",{className:"text-gray-600",children:S.location})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(zr,{className:"h-3 w-3 text-gray-500"}),i.jsxs("span",{className:"font-medium",children:[S.setTemperature,"C"]})]})]})]},S.id)}),ae.filter(S=>S.setTemperature>=-2.5&&S.setTemperature<=0||S.setTemperature>0&&S.setTemperature<=14).length===0&&i.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"Nessun frigorifero"})]})]}),i.jsxs("div",{className:"border rounded-lg p-4 bg-purple-50",children:[i.jsxs("h3",{className:"font-semibold text-purple-800 mb-3 flex items-center gap-2",children:[i.jsx(zr,{className:"h-4 w-4"}),"Freezer"]}),i.jsxs("div",{className:"space-y-2",children:[ae.filter(S=>S.setTemperature<-2.5&&S.setTemperature>=-13.5).map(S=>{const z=A(S);return i.jsxs("div",{className:`p-3 border rounded-lg ${z==="green"?"bg-green-50 border-green-200":z==="orange"?"bg-orange-50 border-orange-200":z==="red"?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[U(z),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm",children:S.name}),i.jsx("p",{className:`text-xs ${z==="green"?"text-green-600":z==="orange"?"text-orange-600":z==="red"?"text-red-600":"text-gray-600"}`,children:X(z)})]})]}),i.jsxs("div",{className:"flex gap-1",children:[(n==null?void 0:n.role)==="admin"&&i.jsx(ye,{size:"sm",variant:"outline",onClick:()=>y(S),className:"h-6 w-6 p-0",children:i.jsx(Uu,{className:"h-3 w-3"})}),i.jsx(ye,{size:"sm",variant:"outline",onClick:()=>E(S.id),className:"h-6 w-6 p-0",children:i.jsx(br,{className:"h-3 w-3"})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[S.location&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Bh,{className:"h-3 w-3 text-gray-500"}),i.jsx("span",{className:"text-gray-600",children:S.location})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(zr,{className:"h-3 w-3 text-gray-500"}),i.jsxs("span",{className:"font-medium",children:[S.setTemperature,"C"]})]})]})]},S.id)}),ae.filter(S=>S.setTemperature<-2.5&&S.setTemperature>=-13.5).length===0&&i.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"Nessun freezer"})]})]}),i.jsxs("div",{className:"border rounded-lg p-4 bg-red-50",children:[i.jsxs("h3",{className:"font-semibold text-red-800 mb-3 flex items-center gap-2",children:[i.jsx(zr,{className:"h-4 w-4"}),"Abbattitore"]}),i.jsxs("div",{className:"space-y-2",children:[ae.filter(S=>S.setTemperature<-13.5&&S.setTemperature>=-80).map(S=>{const z=A(S);return i.jsxs("div",{className:`p-3 border rounded-lg ${z==="green"?"bg-green-50 border-green-200":z==="orange"?"bg-orange-50 border-orange-200":z==="red"?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[U(z),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm",children:S.name}),i.jsx("p",{className:`text-xs ${z==="green"?"text-green-600":z==="orange"?"text-orange-600":z==="red"?"text-red-600":"text-gray-600"}`,children:X(z)})]})]}),i.jsxs("div",{className:"flex gap-1",children:[(n==null?void 0:n.role)==="admin"&&i.jsx(ye,{size:"sm",variant:"outline",onClick:()=>y(S),className:"h-6 w-6 p-0",children:i.jsx(Uu,{className:"h-3 w-3"})}),i.jsx(ye,{size:"sm",variant:"outline",onClick:()=>E(S.id),className:"h-6 w-6 p-0",children:i.jsx(br,{className:"h-3 w-3"})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[S.location&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Bh,{className:"h-3 w-3 text-gray-500"}),i.jsx("span",{className:"text-gray-600",children:S.location})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(zr,{className:"h-3 w-3 text-gray-500"}),i.jsxs("span",{className:"font-medium",children:[S.setTemperature,"C"]})]})]})]},S.id)}),ae.filter(S=>S.setTemperature<-13.5&&S.setTemperature>=-80).length===0&&i.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"Nessun abbattitore"})]})]})]})})})]}),i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(Qp,{className:"h-5 w-5"}),"Attivit Registro Temperature"]})}),i.jsx(Ze,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(st,{placeholder:"Cerca per nome frigorifero, utente, data...",value:m,onChange:S=>_(S.target.value),className:"pl-10"})]}),G.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(zr,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{children:"Nessuna attivit di registrazione temperatura"}),i.jsx("p",{className:"text-sm",children:"Le registrazioni appariranno qui dopo aver aggiunto frigoriferi"})]}):i.jsx("div",{className:"space-y-3",children:G.map(S=>{const z=r.find($=>S.location.toLowerCase().includes($.name.toLowerCase()));return i.jsx("div",{className:"p-3 border rounded-lg",children:i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h3",{className:"font-medium",children:S.location}),z&&i.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:z.name})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Temperatura rilevata:"}),i.jsxs("div",{className:"font-bold text-lg",children:[S.temperature,"C"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Data rilevamento:"}),i.jsx("div",{className:"font-medium",children:S.time})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Operatore:"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ig,{className:"h-3 w-3"}),i.jsx("span",{className:"font-medium",children:S.userName||"N/A"}),S.userDepartment&&i.jsxs("span",{className:"text-gray-500",children:["(",S.userDepartment,")"]})]})]})]})]})})},S.id)})})]})})]}),i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(Ti,{className:"h-5 w-5"}),"Stato Frigoriferi"]})}),i.jsx(Ze,{children:r.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Ti,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{children:"Nessun frigorifero registrato"}),i.jsx("p",{className:"text-sm",children:"Aggiungi frigoriferi per visualizzare lo stato"})]}):i.jsx("div",{className:"space-y-3",children:r.map(S=>{const z=A(S),$=e.filter(C=>C.location.toLowerCase().includes(S.name.toLowerCase())).sort((C,F)=>new Date(F.timestamp)-new Date(C.timestamp))[0];return i.jsx("div",{className:`p-4 border rounded-lg ${z==="green"?"bg-green-50 border-green-200":z==="orange"?"bg-orange-50 border-orange-200":z==="red"?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h3",{className:"font-semibold text-lg",children:S.name}),U(z),i.jsx("span",{className:`text-sm font-medium ${z==="green"?"text-green-700":z==="orange"?"text-orange-700":z==="red"?"text-red-700":"text-gray-600"}`,children:X(z)})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Temperatura impostata:"}),i.jsxs("div",{className:"font-medium",children:[S.setTemperature,"C"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Posizionamento:"}),i.jsx("div",{className:"font-medium",children:S.location||"Non specificato"})]})]}),$&&i.jsx("div",{className:`mt-3 p-3 rounded-lg ${z==="green"?"bg-green-100":z==="orange"?"bg-orange-100":z==="red"?"bg-red-100":"bg-gray-100"}`,children:i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Ultima registrazione:"}),i.jsxs("span",{className:"font-medium",children:[$.temperature,"C"]}),i.jsxs("span",{className:"text-gray-500",children:["il ",$.time]})]})})]})})},S.id)})})})]}),a&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Aggiungi Frigorifero/Freezer"}),i.jsxs("form",{onSubmit:k,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"name",children:"Nome Frigorifero"}),i.jsx(st,{id:"name",type:"text",value:x.name,onChange:S=>w({...x,name:S.target.value}),placeholder:"es. Frigo Carne, Freezer A...",required:!0})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"setTemperature",children:"Temperatura Impostata (C)"}),i.jsx(st,{id:"setTemperature",type:"number",step:"0.1",value:x.setTemperature,onChange:S=>w({...x,setTemperature:S.target.value}),placeholder:"es. 4.0",required:!0})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"location",children:"Posizionamento"}),i.jsx(st,{id:"location",type:"text",value:x.location,onChange:S=>w({...x,location:S.target.value}),placeholder:"es. Cucina principale, Deposito..."})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"dedicatedTo",children:"Dedicato a"}),i.jsx(st,{id:"dedicatedTo",type:"text",value:x.dedicatedTo,onChange:S=>w({...x,dedicatedTo:S.target.value}),placeholder:"es. Carne, Pesce, Verdure..."})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"nextMaintenance",children:"Prossima Manutenzione Stimata"}),i.jsx(st,{id:"nextMaintenance",type:"text",value:x.nextMaintenance,onChange:S=>w({...x,nextMaintenance:S.target.value}),placeholder:"es. 15/12/2024"})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(ye,{type:"submit",className:"flex-1",children:"Aggiungi"}),i.jsx(ye,{type:"button",variant:"outline",onClick:()=>l(!1),className:"flex-1",children:"Annulla"})]})]})]})}),u&&p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Modifica Frigorifero/Freezer"}),i.jsxs("form",{onSubmit:N,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"edit-name",children:"Nome Frigorifero"}),i.jsx(st,{id:"edit-name",type:"text",value:x.name,onChange:S=>w({...x,name:S.target.value}),placeholder:"es. Frigo Carne, Freezer A...",required:!0})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"edit-setTemperature",children:"Temperatura Impostata (C)"}),i.jsx(st,{id:"edit-setTemperature",type:"number",step:"0.1",value:x.setTemperature,onChange:S=>w({...x,setTemperature:S.target.value}),placeholder:"es. 4.0",required:!0})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"edit-location",children:"Posizionamento"}),i.jsx(st,{id:"edit-location",type:"text",value:x.location,onChange:S=>w({...x,location:S.target.value}),placeholder:"es. Cucina principale, Deposito..."})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"edit-dedicatedTo",children:"Dedicato a"}),i.jsx(st,{id:"edit-dedicatedTo",type:"text",value:x.dedicatedTo,onChange:S=>w({...x,dedicatedTo:S.target.value}),placeholder:"es. Carne, Pesce, Verdure..."})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"edit-nextMaintenance",children:"Prossima Manutenzione Stimata"}),i.jsx(st,{id:"edit-nextMaintenance",type:"text",value:x.nextMaintenance,onChange:S=>w({...x,nextMaintenance:S.target.value}),placeholder:"es. 15/12/2024"})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(ye,{type:"submit",className:"flex-1",children:"Aggiorna"}),i.jsx(ye,{type:"button",variant:"outline",onClick:()=>{d(!1),g(null),w({name:"",setTemperature:"",location:"",dedicatedTo:"",nextMaintenance:""})},className:"flex-1",children:"Annulla"})]})]})]})})]})}function Fy({staff:e,setStaff:t,users:n,setUsers:r,currentUser:s,isAdmin:a}){const[l,u]=he.useState({name:"",role:"",certification:"",notes:""}),[d,p]=he.useState([]),[g,x]=he.useState(!1),[w,m]=he.useState(null),[_,k]=he.useState({name:"",description:"",members:[],assignedTasks:[]}),[E,y]=he.useState(null),[N,A]=he.useState(!1),[U,X]=he.useState({}),[ae,G]=he.useState(!1),[S,z]=he.useState(null),[$,C]=he.useState(""),[F,J]=he.useState(!1);he.useEffect(()=>{localStorage.setItem("haccp-staff",JSON.stringify(e))},[e]),he.useEffect(()=>{const ee=localStorage.getItem("haccp-departments"),we=localStorage.getItem("haccp-departments-version"),de=[{id:"amministratori",name:"Amministratori",description:"Gestione e supervisione completa",members:[],assignedTasks:[]},{id:"responsabili",name:"Responsabili",description:"Responsabili di reparto e coordinamento",members:[],assignedTasks:[]},{id:"dipendenti",name:"Dipendenti",description:"Staff fisso e personale regolare",members:[],assignedTasks:[]},{id:"collaboratori",name:"Collaboratore Occasionale",description:"Personale temporaneo e collaborazioni esterne",members:[],assignedTasks:[]}];if(we!=="2.0"||!ee)p(de),localStorage.setItem("haccp-departments",JSON.stringify(de)),localStorage.setItem("haccp-departments-version","2.0");else{const W=JSON.parse(ee),Ve=[...de];W.forEach(Je=>{de.find(Ee=>Ee.id===Je.id)||Ve.push(Je)}),p(Ve)}},[]),he.useEffect(()=>{localStorage.setItem("haccp-departments",JSON.stringify(d))},[d]),he.useEffect(()=>{if(d.length>0&&e.length>=0){const ee=d.map(de=>({...de,members:e.filter(W=>W.role===de.name).map(W=>W.id)}));ee.some((de,W)=>{var Ve;return JSON.stringify(de.members)!==JSON.stringify(((Ve=d[W])==null?void 0:Ve.members)||[])})&&p(ee)}},[e]);const Q=ee=>{if(ee.preventDefault(),!l.name.trim()||!l.role.trim())return;const we={id:Date.now(),name:l.name.trim(),role:l.role.trim(),certification:l.certification.trim(),notes:l.notes.trim(),addedDate:new Date().toLocaleDateString("it-IT"),addedTime:new Date().toLocaleString("it-IT")};t([...e,we]),u({name:"",role:"",certification:"",notes:""})},oe=ee=>{confirm("Sei sicuro di voler rimuovere questo membro del personale?")&&t(e.filter(we=>we.id!==ee))},ce=[...new Set(e.map(ee=>ee.role))],me=e.filter(ee=>ee.certification.trim()!==""),M={Amministratori:"bg-red-100 text-red-800",Responsabili:"bg-purple-100 text-purple-800",Dipendenti:"bg-blue-100 text-blue-800","Collaboratore Occasionale":"bg-yellow-100 text-yellow-800",Cuoco:"bg-blue-100 text-blue-800","Sous Chef":"bg-purple-100 text-purple-800",Chef:"bg-red-100 text-red-800",Cameriere:"bg-green-100 text-green-800","Addetto cucina":"bg-yellow-100 text-yellow-800",Manager:"bg-gray-100 text-gray-800",default:"bg-gray-100 text-gray-800"},Y=ee=>{if(M[ee])return M[ee];const we=["bg-indigo-100 text-indigo-800","bg-pink-100 text-pink-800","bg-teal-100 text-teal-800","bg-orange-100 text-orange-800","bg-emerald-100 text-emerald-800","bg-violet-100 text-violet-800","bg-cyan-100 text-cyan-800","bg-rose-100 text-rose-800","bg-lime-100 text-lime-800","bg-amber-100 text-amber-800","bg-sky-100 text-sky-800","bg-fuchsia-100 text-fuchsia-800","bg-slate-100 text-slate-800","bg-stone-100 text-stone-800","bg-zinc-100 text-zinc-800","bg-neutral-100 text-neutral-800","bg-red-200 text-red-900","bg-blue-200 text-blue-900","bg-green-200 text-green-900","bg-purple-200 text-purple-900","bg-yellow-200 text-yellow-900","bg-indigo-200 text-indigo-900","bg-pink-200 text-pink-900","bg-teal-200 text-teal-900"],de=ee.split("").reduce((W,Ve)=>(W=(W<<5)-W+Ve.charCodeAt(0),W&W),0);return we[Math.abs(de)%we.length]},K=ee=>{const we=Y(ee);return we.includes("text-red-800")?"bg-red-50 border-red-200":we.includes("text-purple-800")?"bg-purple-50 border-purple-200":we.includes("text-blue-800")?"bg-blue-50 border-blue-200":we.includes("text-yellow-800")?"bg-yellow-50 border-yellow-200":we.includes("text-green-800")?"bg-green-50 border-green-200":we.includes("text-indigo-800")?"bg-indigo-50 border-indigo-200":we.includes("text-pink-800")?"bg-pink-50 border-pink-200":we.includes("text-teal-800")?"bg-teal-50 border-teal-200":we.includes("text-orange-800")?"bg-orange-50 border-orange-200":we.includes("text-emerald-800")?"bg-emerald-50 border-emerald-200":we.includes("text-violet-800")?"bg-violet-50 border-violet-200":we.includes("text-cyan-800")?"bg-cyan-50 border-cyan-200":we.includes("text-rose-800")?"bg-rose-50 border-rose-200":we.includes("text-lime-800")?"bg-lime-50 border-lime-200":we.includes("text-amber-800")?"bg-amber-50 border-amber-200":we.includes("text-sky-800")?"bg-sky-50 border-sky-200":we.includes("text-fuchsia-800")?"bg-fuchsia-50 border-fuchsia-200":we.includes("text-slate-800")?"bg-slate-50 border-slate-200":we.includes("text-stone-800")?"bg-stone-50 border-stone-200":we.includes("text-zinc-800")?"bg-zinc-50 border-zinc-200":we.includes("text-neutral-800")?"bg-neutral-50 border-neutral-200":we.includes("text-red-900")?"bg-red-100 border-red-300":we.includes("text-blue-900")?"bg-blue-100 border-blue-300":we.includes("text-green-900")?"bg-green-100 border-green-300":we.includes("text-purple-900")?"bg-purple-100 border-purple-300":we.includes("text-yellow-900")?"bg-yellow-100 border-yellow-300":we.includes("text-indigo-900")?"bg-indigo-100 border-indigo-300":we.includes("text-pink-900")?"bg-pink-100 border-pink-300":we.includes("text-teal-900")?"bg-teal-100 border-teal-300":"bg-gray-50 border-gray-200"},Se=ee=>{if(ee.preventDefault(),!_.name.trim())return;const we={id:Date.now(),name:_.name.trim(),description:_.description.trim(),members:[],assignedTasks:[],createdAt:new Date().toISOString()};p([...d,we]),k({name:"",description:"",members:[],assignedTasks:[]}),x(!1)},L=ee=>{m(ee),k({name:ee.name,description:ee.description,members:ee.members||[],assignedTasks:ee.assignedTasks||[]}),x(!0)},B=ee=>{if(ee.preventDefault(),!_.name.trim())return;const we=d.map(de=>de.id===w.id?{...de,name:_.name.trim(),description:_.description.trim()}:de);p(we),k({name:"",description:"",members:[],assignedTasks:[]}),m(null),x(!1)},H=ee=>{confirm("Sei sicuro di voler eliminare questa categoria?")&&p(d.filter(we=>we.id!==ee))},Z=ee=>{y(ee),u({name:ee.name,role:ee.role,certification:ee.certification||"",notes:ee.notes||""}),A(!0)},re=ee=>{if(ee.preventDefault(),!l.name.trim()||!l.role.trim())return;const we=e.map(de=>de.id===E.id?{...de,name:l.name.trim(),role:l.role.trim(),certification:l.certification.trim(),notes:l.notes.trim(),lastModified:new Date().toLocaleString("it-IT")}:de);t(we),u({name:"",role:"",certification:"",notes:""}),y(null),A(!1)},fe=()=>{y(null),A(!1),u({name:"",role:"",certification:"",notes:""})},pe=ee=>{z(ee),C(""),G(!0)},ve=()=>{if(S&&$){const ee=e.map(we=>we.id===S.id?{...we,role:$,lastModified:new Date().toLocaleString("it-IT")}:we);t(ee),G(!1),z(null),C("")}},De=()=>{J(!0)},Ie=()=>{S&&(t(e.filter(ee=>ee.id!==S.id)),G(!1),J(!1),z(null),C(""))},_e=()=>{G(!1),J(!1),z(null),C("")};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(La,{className:"h-5 w-5"}),E?"Modifica Membro del Personale":"Aggiungi Membro del Personale"]})}),i.jsxs(Ze,{children:[N&&i.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-800",children:[i.jsx("strong",{children:"Stai modificando:"})," ",E==null?void 0:E.name]})}),i.jsxs("form",{onSubmit:E?re:Q,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"name",children:"Nome Completo"}),i.jsx(st,{id:"name",placeholder:"Es: Mario Rossi",value:l.name,onChange:ee=>u({...l,name:ee.target.value}),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"role",children:"Ruolo"}),i.jsxs("select",{id:"role",value:l.role,onChange:ee=>u({...l,role:ee.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[i.jsx("option",{value:"",children:"Seleziona un ruolo..."}),d.map(ee=>i.jsx("option",{value:ee.name,children:ee.name},ee.id))]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"certification",children:"Certificazioni HACCP (opzionale)"}),i.jsx(st,{id:"certification",placeholder:"Es: Certificato HACCP livello 2, Corso sicurezza alimentare...",value:l.certification,onChange:ee=>u({...l,certification:ee.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Qe,{htmlFor:"notes",children:"Note (opzionale)"}),i.jsx(st,{id:"notes",placeholder:"Es: Turno preferito, competenze particolari...",value:l.notes,onChange:ee=>u({...l,notes:ee.target.value})})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{type:"submit",className:"flex-1",children:E?"Salva Modifiche":"Aggiungi al Team"}),E&&i.jsx(ye,{type:"button",variant:"outline",onClick:fe,className:"flex-1",children:"Annulla"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(Ye,{children:i.jsx(Ze,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Totale Personale"}),i.jsx("p",{className:"text-2xl font-bold",children:e.length})]}),i.jsx(La,{className:"h-8 w-8 text-blue-500"})]})})}),i.jsx(Ye,{children:i.jsx(Ze,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Utenti Registrati"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.filter(ee=>ee.isRegisteredUser).length})]}),i.jsx(Jm,{className:"h-8 w-8 text-green-500"})]})})}),i.jsx(Ye,{children:i.jsx(Ze,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Con Certificazioni"}),i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:me.length})]}),i.jsx(Hm,{className:"h-8 w-8 text-orange-500"})]})})}),i.jsx(Ye,{children:i.jsx(Ze,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Ruoli Diversi"}),i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:ce.length})]}),i.jsx(Jm,{className:"h-8 w-8 text-purple-500"})]})})})]}),d.length>0&&i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsx(Lt,{children:"Distribuzione Ruoli"})}),i.jsx(Ze,{children:i.jsx("div",{className:"space-y-3",children:d.slice().sort((ee,we)=>ee.name.localeCompare(we.name)).map(ee=>{const we=e.filter(Ve=>Ve.role===ee.name),de=we.length,W=U[ee.name];return i.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[i.jsx("button",{onClick:()=>X(Ve=>({...Ve,[ee.name]:!Ve[ee.name]})),className:`w-full px-4 py-3 text-left transition-colors hover:bg-gray-50 ${Y(ee.name)} border-none`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"font-medium",children:[ee.name," (",de,")"]}),i.jsx("span",{className:"text-xs",children:W?"":""})]})}),W&&i.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t",children:de===0?i.jsxs("div",{className:"text-center py-4 text-gray-500",children:[i.jsx(La,{className:"h-6 w-6 mx-auto mb-2 text-gray-400"}),i.jsx("p",{className:"text-sm",children:"Nessun dipendente in questo ruolo"}),i.jsxs("p",{className:"text-xs",children:['Aggiungi membri selezionando "',ee.name,'" nel form sopra']})]}):i.jsx("div",{className:"space-y-2",children:we.map(Ve=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:Ve.name}),Ve.certification&&i.jsxs("div",{className:"text-xs text-green-600 flex items-center gap-1",children:[i.jsx(Hm,{className:"h-3 w-3"}),Ve.certification]}),Ve.notes&&i.jsxs("div",{className:"text-xs text-blue-600 flex items-center gap-1",children:[i.jsx(Wm,{className:"h-3 w-3"}),Ve.notes]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx(ye,{onClick:()=>pe(Ve),variant:"outline",size:"sm",className:"h-8 w-8 p-0 text-orange-700 border-orange-300 hover:bg-orange-100 hover:border-orange-400 bg-white shadow-sm",title:"Rimuovi da questo ruolo o riassegna",children:i.jsx(fy,{className:"h-7.5 w-7.5 stroke-1.5"})})})]},Ve.id))})})]},ee.id)})})})]}),s&&s.role==="admin"&&i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(La,{className:"h-5 w-5"}),"Gestione Categorie Ruoli"]})}),i.jsxs(Ze,{children:[g&&i.jsxs("form",{onSubmit:w?B:Se,className:"space-y-4 mb-6 p-4 bg-blue-50 rounded-lg border",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"categoryName",children:"Nome Categoria"}),i.jsx(st,{id:"categoryName",value:_.name,onChange:ee=>k({..._,name:ee.target.value}),placeholder:"es. Cucina, Sala, Amministrazione",required:!0})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"categoryDescription",children:"Descrizione"}),i.jsx(st,{id:"categoryDescription",value:_.description,onChange:ee=>k({..._,description:ee.target.value}),placeholder:"Descrizione della categoria"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{type:"submit",size:"sm",children:w?"Aggiorna Categoria":"Aggiungi Categoria"}),i.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:()=>{x(!1),m(null),k({name:"",description:"",members:[],assignedTasks:[]})},children:"Annulla"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h4",{className:"font-medium",children:["Categorie Disponibili (",d.length,")"]}),i.jsx(ye,{onClick:()=>x(!0),size:"sm",variant:"outline",children:"Nuova Categoria"})]}),d.length===0?i.jsxs("div",{className:"text-center py-6 text-gray-500",children:[i.jsx(La,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),i.jsx("p",{children:"Nessuna categoria creata"}),i.jsx("p",{className:"text-sm",children:"Crea la prima categoria per organizzare i ruoli"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(ee=>{var we;return i.jsxs("div",{className:`p-4 border rounded-lg ${K(ee.name)}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h5",{className:"font-medium text-lg",children:ee.name}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y(ee.name)}`,children:ee.name})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(ye,{onClick:()=>L(ee),size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:""}),i.jsx(ye,{onClick:()=>H(ee.id),size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700",children:""})]})]}),ee.description&&i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:ee.description}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[i.jsxs("span",{children:[" ",e.filter(de=>de.role===ee.name).length," membri"]}),i.jsxs("span",{children:[" ",((we=ee.assignedTasks)==null?void 0:we.length)||0," compiti"]})]})]},ee.id)})})]})]})]}),i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{children:["Elenco Staff Completo (",e.length,")"]})}),i.jsx(Ze,{children:e.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(La,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 mb-2",children:"Nessun membro del personale registrato"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Aggiungi il primo membro del team per iniziare la gestione del personale HACCP"})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-12 gap-2 px-3 py-2 bg-gray-100 rounded text-xs font-medium text-gray-600",children:[i.jsx("div",{className:"col-span-3",children:"Nome"}),i.jsx("div",{className:"col-span-2",children:"Ruolo"}),i.jsx("div",{className:"col-span-3",children:"Categoria"}),i.jsx("div",{className:"col-span-2",children:"Data Registrazione"}),i.jsx("div",{className:"col-span-2",children:"Note"}),i.jsx("div",{className:"col-span-1",children:"Azioni"})]}),e.map(ee=>i.jsxs("div",{className:`grid grid-cols-12 gap-2 px-3 py-2 rounded border transition-colors text-sm ${ee.isRegisteredUser?"bg-blue-50 border-blue-200 hover:bg-blue-100":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:[i.jsx("div",{className:"col-span-3 flex items-center",children:i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium flex items-center gap-2",children:[ee.name,ee.isRegisteredUser&&i.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Utente"})]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[ee.addedDate,ee.lastModified&&"  Mod."]})]})}),i.jsx("div",{className:"col-span-2 flex items-center",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y(ee.role)}`,children:ee.role})}),i.jsx("div",{className:"col-span-3 flex items-center",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ee.department==="Non assegnato"?"bg-gray-100 text-gray-600":"bg-purple-100 text-purple-700"}`,children:ee.department})}),i.jsx("div",{className:"col-span-2 flex items-center",children:i.jsxs("div",{className:"text-xs text-gray-600",children:[ee.addedDate,ee.addedTime&&i.jsx("div",{className:"text-xs text-gray-400",children:ee.addedTime.split(" ")[1]})]})}),i.jsx("div",{className:"col-span-2 flex items-center",children:ee.notes?i.jsxs("div",{className:"flex items-center gap-1 text-blue-700",children:[i.jsx(Wm,{className:"h-3 w-3"}),i.jsx("span",{className:"truncate text-xs",children:ee.notes})]}):i.jsx("span",{className:"text-gray-400 text-xs",children:"-"})}),i.jsxs("div",{className:"col-span-1 flex items-center justify-end gap-1",children:[i.jsx(ye,{onClick:()=>Z(ee),variant:"outline",size:"sm",className:"h-8 w-8 p-0 text-blue-700 border-blue-300 hover:bg-blue-100 hover:text-blue-800 hover:border-blue-400 bg-white shadow-sm flex items-center justify-center",title:"Modifica dipendente",children:i.jsx(ky,{className:"h-7 w-7 stroke-2",style:{width:"28px",height:"28px"}})}),i.jsx(ye,{onClick:()=>oe(ee.id),variant:"outline",size:"sm",className:"h-8 w-8 p-0 text-red-700 border-red-300 hover:bg-red-100 hover:text-red-800 hover:border-red-400 bg-white shadow-sm flex items-center justify-center",title:"Elimina dipendente",children:i.jsx(br,{className:"h-7 w-7 stroke-2",style:{width:"28px",height:"28px"}})})]})]},ee.id))]})})]}),e.length===0&&i.jsxs(Ye,{className:"border-blue-200 bg-blue-50",children:[i.jsx(kt,{children:i.jsx(Lt,{className:"text-blue-800",children:"Suggerimenti Ruoli Comuni"})}),i.jsxs(Ze,{children:[i.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Ecco alcuni ruoli comuni nella ristorazione che potresti voler aggiungere:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["Chef","Sous Chef","Cuoco","Addetto cucina","Cameriere","Barista","Manager"].map(ee=>i.jsx("button",{onClick:()=>u({...l,role:ee}),className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm hover:bg-blue-200 transition-colors",children:ee},ee))})]})]}),ae&&S&&!F&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4",children:['Rimuovi "',S.name,'" da "',S.role,'"']}),i.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Scegliere ",i.jsx("strong",{children:"obbligatoriamente"})," un altro ruolo per questo dipendente, oppure rimuovi dipendente dall'applicazione."]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Nuovo ruolo per ",S.name,":"]}),i.jsxs("select",{value:$,onChange:ee=>C(ee.target.value),className:"w-full h-10 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"-- Seleziona nuovo ruolo --"}),d.filter(ee=>ee.name!==S.role).map(ee=>i.jsx("option",{value:ee.name,children:ee.name},ee.id))]})]}),$&&i.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-3",children:i.jsxs("p",{className:"text-sm text-green-800",children:[i.jsx("strong",{children:" Confermato:"})," ",S.name,' verr spostato da "',S.role,'" a "',i.jsx("strong",{children:$}),'".']})})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx(ye,{onClick:ve,className:"flex-1",disabled:!$,variant:$?"default":"outline",children:$?"Conferma":"Seleziona un ruolo"}),i.jsx(ye,{onClick:De,variant:"destructive",className:"flex-1",children:"Rimuovi Dipendente"})]}),i.jsx("div",{className:"mt-3",children:i.jsx(ye,{onClick:_e,variant:"outline",className:"w-full",size:"sm",children:"Annulla"})})]})}),F&&S&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-red-600",children:" Conferma Eliminazione"}),i.jsxs("p",{className:"text-sm text-gray-700 mb-4",children:["Sei sicuro di voler ",i.jsx("strong",{children:"eliminare definitivamente"})," il dipendente",i.jsxs("strong",{className:"text-red-600",children:[' "',S.name,'"']})," dall'applicazione?"]}),i.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-3 mb-4",children:i.jsxs("p",{className:"text-sm text-red-800",children:[i.jsx("strong",{children:" Attenzione:"})," Questa azione  ",i.jsx("strong",{children:"irreversibile"}),". Tutti i dati associati a questo dipendente verranno persi permanentemente."]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(ye,{onClick:()=>J(!1),variant:"outline",className:"flex-1",children:"Annulla"}),i.jsx(ye,{onClick:Ie,variant:"destructive",className:"flex-1",children:"Elimina Definitivamente"})]})]})})]})}const Ey="modulepreload",Dy=function(e,t){return new URL(e,t).href},Ym={},Vf=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=Dy(a,r),a in Ym)return;Ym[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(!!r)for(let g=s.length-1;g>=0;g--){const x=s[g];if(x.href===a&&(!l||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${u}`))return;const p=document.createElement("link");if(p.rel=l?"stylesheet":Ey,l||(p.as="script",p.crossOrigin=""),p.href=a,document.head.appendChild(p),l)return new Promise((g,x)=>{p.addEventListener("load",g),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a})};function $t(e){"@babel/helpers - typeof";return $t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(e)}var tr=Uint8Array,Or=Uint16Array,e0=Int32Array,Td=new tr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Md=new tr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Wf=new tr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fg=function(e,t){for(var n=new Or(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var s=new e0(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)s[a]=a-n[r]<<5|r;return{b:n,r:s}},Eg=Fg(Td,2),Dg=Eg.b,Gf=Eg.r;Dg[28]=258,Gf[258]=28;var zg=Fg(Md,0),zy=zg.b,Km=zg.r,Jf=new Or(32768);for(var tn=0;tn<32768;++tn){var Ts=(tn&43690)>>1|(tn&21845)<<1;Ts=(Ts&52428)>>2|(Ts&13107)<<2,Ts=(Ts&61680)>>4|(Ts&3855)<<4,Jf[tn]=((Ts&65280)>>8|(Ts&255)<<8)>>1}var Bi=function(e,t,n){for(var r=e.length,s=0,a=new Or(t);s<r;++s)e[s]&&++a[e[s]-1];var l=new Or(t);for(s=1;s<t;++s)l[s]=l[s-1]+a[s-1]<<1;var u;if(n){u=new Or(1<<t);var d=15-t;for(s=0;s<r;++s)if(e[s])for(var p=s<<4|e[s],g=t-e[s],x=l[e[s]-1]++<<g,w=x|(1<<g)-1;x<=w;++x)u[Jf[x]>>d]=p}else for(u=new Or(r),s=0;s<r;++s)e[s]&&(u[s]=Jf[l[e[s]-1]++]>>15-e[s]);return u},aa=new tr(288);for(var tn=0;tn<144;++tn)aa[tn]=8;for(var tn=144;tn<256;++tn)aa[tn]=9;for(var tn=256;tn<280;++tn)aa[tn]=7;for(var tn=280;tn<288;++tn)aa[tn]=8;var Nc=new tr(32);for(var tn=0;tn<32;++tn)Nc[tn]=5;var Ty=Bi(aa,9,0),My=Bi(aa,9,1),Oy=Bi(Nc,5,0),Ry=Bi(Nc,5,1),qh=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},fi=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Uh=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},t0=function(e){return(e+7)/8|0},Tg=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new tr(e.subarray(t,n))},By=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],xi=function(e,t,n){var r=new Error(t||By[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,xi),!n)throw r;return r},qy=function(e,t,n,r){var s=e.length,a=r?r.length:0;if(!s||t.f&&!t.l)return n||new tr(0);var l=!n,u=l||t.i!=2,d=t.i;l&&(n=new tr(s*3));var p=function(Ie){var _e=n.length;if(Ie>_e){var ee=new tr(Math.max(_e*2,Ie));ee.set(n),n=ee}},g=t.f||0,x=t.p||0,w=t.b||0,m=t.l,_=t.d,k=t.m,E=t.n,y=s*8;do{if(!m){g=fi(e,x,1);var N=fi(e,x+1,3);if(x+=3,N)if(N==1)m=My,_=Ry,k=9,E=5;else if(N==2){var ae=fi(e,x,31)+257,G=fi(e,x+10,15)+4,S=ae+fi(e,x+5,31)+1;x+=14;for(var z=new tr(S),$=new tr(19),C=0;C<G;++C)$[Wf[C]]=fi(e,x+C*3,7);x+=G*3;for(var F=qh($),J=(1<<F)-1,Q=Bi($,F,1),C=0;C<S;){var oe=Q[fi(e,x,J)];x+=oe&15;var A=oe>>4;if(A<16)z[C++]=A;else{var ce=0,me=0;for(A==16?(me=3+fi(e,x,3),x+=2,ce=z[C-1]):A==17?(me=3+fi(e,x,7),x+=3):A==18&&(me=11+fi(e,x,127),x+=7);me--;)z[C++]=ce}}var M=z.subarray(0,ae),Y=z.subarray(ae);k=qh(M),E=qh(Y),m=Bi(M,k,1),_=Bi(Y,E,1)}else xi(1);else{var A=t0(x)+4,U=e[A-4]|e[A-3]<<8,X=A+U;if(X>s){d&&xi(0);break}u&&p(w+U),n.set(e.subarray(A,X),w),t.b=w+=U,t.p=x=X*8,t.f=g;continue}if(x>y){d&&xi(0);break}}u&&p(w+131072);for(var K=(1<<k)-1,Se=(1<<E)-1,L=x;;L=x){var ce=m[Uh(e,x)&K],B=ce>>4;if(x+=ce&15,x>y){d&&xi(0);break}if(ce||xi(2),B<256)n[w++]=B;else if(B==256){L=x,m=null;break}else{var H=B-254;if(B>264){var C=B-257,Z=Td[C];H=fi(e,x,(1<<Z)-1)+Dg[C],x+=Z}var re=_[Uh(e,x)&Se],fe=re>>4;re||xi(3),x+=re&15;var Y=zy[fe];if(fe>3){var Z=Md[fe];Y+=Uh(e,x)&(1<<Z)-1,x+=Z}if(x>y){d&&xi(0);break}u&&p(w+131072);var pe=w+H;if(w<Y){var ve=a-Y,De=Math.min(Y,pe);for(ve+w<0&&xi(3);w<De;++w)n[w]=r[ve+w]}for(;w<pe;++w)n[w]=n[w-Y]}}t.l=m,t.p=L,t.b=w,t.f=g,m&&(g=1,t.m=k,t.d=_,t.n=E)}while(!g);return w!=n.length&&l?Tg(n,0,w):n.subarray(0,w)},ns=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Bl=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},$h=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,a=n.slice();if(!s)return{t:Og,l:0};if(s==1){var l=new tr(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(X,ae){return X.f-ae.f}),n.push({s:-1,f:25001});var u=n[0],d=n[1],p=0,g=1,x=2;for(n[0]={s:-1,f:u.f+d.f,l:u,r:d};g!=s-1;)u=n[n[p].f<n[x].f?p++:x++],d=n[p!=g&&n[p].f<n[x].f?p++:x++],n[g++]={s:-1,f:u.f+d.f,l:u,r:d};for(var w=a[0].s,r=1;r<s;++r)a[r].s>w&&(w=a[r].s);var m=new Or(w+1),_=Yf(n[g-1],m,0);if(_>t){var r=0,k=0,E=_-t,y=1<<E;for(a.sort(function(ae,G){return m[G.s]-m[ae.s]||ae.f-G.f});r<s;++r){var N=a[r].s;if(m[N]>t)k+=y-(1<<_-m[N]),m[N]=t;else break}for(k>>=E;k>0;){var A=a[r].s;m[A]<t?k-=1<<t-m[A]++-1:++r}for(;r>=0&&k;--r){var U=a[r].s;m[U]==t&&(--m[U],++k)}_=t}return{t:new tr(m),l:_}},Yf=function(e,t,n){return e.s==-1?Math.max(Yf(e.l,t,n+1),Yf(e.r,t,n+1)):t[e.s]=n},Qm=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Or(++t),r=0,s=e[0],a=1,l=function(d){n[r++]=d},u=1;u<=t;++u)if(e[u]==s&&u!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(s),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(s);a=1,s=e[u]}return{c:n.subarray(0,r),n:t}},ql=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Mg=function(e,t,n){var r=n.length,s=t0(t+2);e[s]=r&255,e[s+1]=r>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var a=0;a<r;++a)e[s+a+4]=n[a];return(s+4+r)*8},Xm=function(e,t,n,r,s,a,l,u,d,p,g){ns(t,g++,n),++s[256];for(var x=$h(s,15),w=x.t,m=x.l,_=$h(a,15),k=_.t,E=_.l,y=Qm(w),N=y.c,A=y.n,U=Qm(k),X=U.c,ae=U.n,G=new Or(19),S=0;S<N.length;++S)++G[N[S]&31];for(var S=0;S<X.length;++S)++G[X[S]&31];for(var z=$h(G,7),$=z.t,C=z.l,F=19;F>4&&!$[Wf[F-1]];--F);var J=p+5<<3,Q=ql(s,aa)+ql(a,Nc)+l,oe=ql(s,w)+ql(a,k)+l+14+3*F+ql(G,$)+2*G[16]+3*G[17]+7*G[18];if(d>=0&&J<=Q&&J<=oe)return Mg(t,g,e.subarray(d,d+p));var ce,me,M,Y;if(ns(t,g,1+(oe<Q)),g+=2,oe<Q){ce=Bi(w,m,0),me=w,M=Bi(k,E,0),Y=k;var K=Bi($,C,0);ns(t,g,A-257),ns(t,g+5,ae-1),ns(t,g+10,F-4),g+=14;for(var S=0;S<F;++S)ns(t,g+3*S,$[Wf[S]]);g+=3*F;for(var Se=[N,X],L=0;L<2;++L)for(var B=Se[L],S=0;S<B.length;++S){var H=B[S]&31;ns(t,g,K[H]),g+=$[H],H>15&&(ns(t,g,B[S]>>5&127),g+=B[S]>>12)}}else ce=Ty,me=aa,M=Oy,Y=Nc;for(var S=0;S<u;++S){var Z=r[S];if(Z>255){var H=Z>>18&31;Bl(t,g,ce[H+257]),g+=me[H+257],H>7&&(ns(t,g,Z>>23&31),g+=Td[H]);var re=Z&31;Bl(t,g,M[re]),g+=Y[re],re>3&&(Bl(t,g,Z>>5&8191),g+=Md[re])}else Bl(t,g,ce[Z]),g+=me[Z]}return Bl(t,g,ce[256]),g+me[256]},Uy=new e0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Og=new tr(0),$y=function(e,t,n,r,s,a){var l=a.z||e.length,u=new tr(r+l+5*(1+Math.ceil(l/7e3))+s),d=u.subarray(r,u.length-s),p=a.l,g=(a.r||0)&7;if(t){g&&(d[0]=a.r>>3);for(var x=Uy[t-1],w=x>>13,m=x&8191,_=(1<<n)-1,k=a.p||new Or(32768),E=a.h||new Or(_+1),y=Math.ceil(n/3),N=2*y,A=function(we){return(e[we]^e[we+1]<<y^e[we+2]<<N)&_},U=new e0(25e3),X=new Or(288),ae=new Or(32),G=0,S=0,z=a.i||0,$=0,C=a.w||0,F=0;z+2<l;++z){var J=A(z),Q=z&32767,oe=E[J];if(k[Q]=oe,E[J]=Q,C<=z){var ce=l-z;if((G>7e3||$>24576)&&(ce>423||!p)){g=Xm(e,d,0,U,X,ae,S,$,F,z-F,g),$=G=S=0,F=z;for(var me=0;me<286;++me)X[me]=0;for(var me=0;me<30;++me)ae[me]=0}var M=2,Y=0,K=m,Se=Q-oe&32767;if(ce>2&&J==A(z-Se))for(var L=Math.min(w,ce)-1,B=Math.min(32767,z),H=Math.min(258,ce);Se<=B&&--K&&Q!=oe;){if(e[z+M]==e[z+M-Se]){for(var Z=0;Z<H&&e[z+Z]==e[z+Z-Se];++Z);if(Z>M){if(M=Z,Y=Se,Z>L)break;for(var re=Math.min(Se,Z-2),fe=0,me=0;me<re;++me){var pe=z-Se+me&32767,ve=k[pe],De=pe-ve&32767;De>fe&&(fe=De,oe=pe)}}}Q=oe,oe=k[Q],Se+=Q-oe&32767}if(Y){U[$++]=268435456|Gf[M]<<18|Km[Y];var Ie=Gf[M]&31,_e=Km[Y]&31;S+=Td[Ie]+Md[_e],++X[257+Ie],++ae[_e],C=z+M,++G}else U[$++]=e[z],++X[e[z]]}}for(z=Math.max(z,C);z<l;++z)U[$++]=e[z],++X[e[z]];g=Xm(e,d,p,U,X,ae,S,$,F,z-F,g),p||(a.r=g&7|d[g/8|0]<<3,g-=7,a.h=E,a.p=k,a.i=z,a.w=C)}else{for(var z=a.w||0;z<l+p;z+=65535){var ee=z+65535;ee>=l&&(d[g/8|0]=p,ee=l),g=Mg(d,g+1,e.subarray(z,ee))}a.i=l}return Tg(u,0,r+t0(g)+s)},Rg=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,a=n.length|0,l=0;l!=a;){for(var u=Math.min(l+2655,a);l<u;++l)s+=r+=n[l];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}e=r,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Hy=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),l=new tr(a.length+e.length);l.set(a),l.set(e,a.length),e=l,s.w=a.length}return $y(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,s)},Bg=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Vy=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=Rg();s.p(t.dictionary),Bg(e,2,s.d())}},Wy=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&xi(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&xi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Kf(e,t){t||(t={});var n=Rg();n.p(e);var r=Hy(e,t,t.dictionary?6:2,4);return Vy(r,t),Bg(r,r.length-4,n.d()),r}function Gy(e,t){return qy(e.subarray(Wy(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var Jy=typeof TextDecoder<"u"&&new TextDecoder,Yy=0;try{Jy.decode(Og,{stream:!0}),Yy=1}catch{}var pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Hh(){pt.console&&typeof pt.console.log=="function"&&pt.console.log.apply(pt.console,arguments)}var Yt={log:Hh,warn:function(e){pt.console&&(typeof pt.console.warn=="function"?pt.console.warn.apply(pt.console,arguments):Hh.call(null,arguments))},error:function(e){pt.console&&(typeof pt.console.error=="function"?pt.console.error.apply(pt.console,arguments):Hh(e))}};function Vh(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Aa(r.response,t,n)},r.onerror=function(){Yt.error("could not download file")},r.send()}function Zm(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Lu(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var rc,Qf,Aa=pt.saveAs||((typeof window>"u"?"undefined":$t(window))!=="object"||window!==pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=pt.URL||pt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?Zm(s.href)?Vh(e,t,n):Lu(s,s.target="_blank"):Lu(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Lu(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(Zm(e))Vh(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Lu(r)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:$t(a)!=="object"&&(Yt.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob([String.fromCharCode(65279),s],{type:s.type}):s}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Vh(e,t,n);var s=e.type==="application/octet-stream",a=/constructor/i.test(pt.HTMLElement)||pt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&a)&&(typeof FileReader>"u"?"undefined":$t(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var g=u.result;g=l?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},u.readAsDataURL(e)}else{var d=pt.URL||pt.webkitURL,p=d.createObjectURL(e);r?r.location=p:location.href=p,r=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function qg(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,a=n[r].process,l=s.exec(e);l&&(t=a(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),p=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),p.length==1&&(p="0"+p),"#"+u+d+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Wh(e,t){var n=e[0],r=e[1],s=e[2],a=e[3];n=Kn(n,r,s,a,t[0],7,-680876936),a=Kn(a,n,r,s,t[1],12,-389564586),s=Kn(s,a,n,r,t[2],17,606105819),r=Kn(r,s,a,n,t[3],22,-1044525330),n=Kn(n,r,s,a,t[4],7,-176418897),a=Kn(a,n,r,s,t[5],12,1200080426),s=Kn(s,a,n,r,t[6],17,-1473231341),r=Kn(r,s,a,n,t[7],22,-45705983),n=Kn(n,r,s,a,t[8],7,1770035416),a=Kn(a,n,r,s,t[9],12,-1958414417),s=Kn(s,a,n,r,t[10],17,-42063),r=Kn(r,s,a,n,t[11],22,-1990404162),n=Kn(n,r,s,a,t[12],7,1804603682),a=Kn(a,n,r,s,t[13],12,-40341101),s=Kn(s,a,n,r,t[14],17,-1502002290),n=Qn(n,r=Kn(r,s,a,n,t[15],22,1236535329),s,a,t[1],5,-165796510),a=Qn(a,n,r,s,t[6],9,-1069501632),s=Qn(s,a,n,r,t[11],14,643717713),r=Qn(r,s,a,n,t[0],20,-373897302),n=Qn(n,r,s,a,t[5],5,-701558691),a=Qn(a,n,r,s,t[10],9,38016083),s=Qn(s,a,n,r,t[15],14,-660478335),r=Qn(r,s,a,n,t[4],20,-405537848),n=Qn(n,r,s,a,t[9],5,568446438),a=Qn(a,n,r,s,t[14],9,-1019803690),s=Qn(s,a,n,r,t[3],14,-187363961),r=Qn(r,s,a,n,t[8],20,1163531501),n=Qn(n,r,s,a,t[13],5,-1444681467),a=Qn(a,n,r,s,t[2],9,-51403784),s=Qn(s,a,n,r,t[7],14,1735328473),n=Xn(n,r=Qn(r,s,a,n,t[12],20,-1926607734),s,a,t[5],4,-378558),a=Xn(a,n,r,s,t[8],11,-2022574463),s=Xn(s,a,n,r,t[11],16,1839030562),r=Xn(r,s,a,n,t[14],23,-35309556),n=Xn(n,r,s,a,t[1],4,-1530992060),a=Xn(a,n,r,s,t[4],11,1272893353),s=Xn(s,a,n,r,t[7],16,-155497632),r=Xn(r,s,a,n,t[10],23,-1094730640),n=Xn(n,r,s,a,t[13],4,681279174),a=Xn(a,n,r,s,t[0],11,-358537222),s=Xn(s,a,n,r,t[3],16,-722521979),r=Xn(r,s,a,n,t[6],23,76029189),n=Xn(n,r,s,a,t[9],4,-640364487),a=Xn(a,n,r,s,t[12],11,-421815835),s=Xn(s,a,n,r,t[15],16,530742520),n=Zn(n,r=Xn(r,s,a,n,t[2],23,-995338651),s,a,t[0],6,-198630844),a=Zn(a,n,r,s,t[7],10,1126891415),s=Zn(s,a,n,r,t[14],15,-1416354905),r=Zn(r,s,a,n,t[5],21,-57434055),n=Zn(n,r,s,a,t[12],6,1700485571),a=Zn(a,n,r,s,t[3],10,-1894986606),s=Zn(s,a,n,r,t[10],15,-1051523),r=Zn(r,s,a,n,t[1],21,-2054922799),n=Zn(n,r,s,a,t[8],6,1873313359),a=Zn(a,n,r,s,t[15],10,-30611744),s=Zn(s,a,n,r,t[6],15,-1560198380),r=Zn(r,s,a,n,t[13],21,1309151649),n=Zn(n,r,s,a,t[4],6,-145523070),a=Zn(a,n,r,s,t[11],10,-1120210379),s=Zn(s,a,n,r,t[2],15,718787259),r=Zn(r,s,a,n,t[9],21,-343485551),e[0]=Ys(n,e[0]),e[1]=Ys(r,e[1]),e[2]=Ys(s,e[2]),e[3]=Ys(a,e[3])}function Od(e,t,n,r,s,a){return t=Ys(Ys(t,e),Ys(r,a)),Ys(t<<s|t>>>32-s,n)}function Kn(e,t,n,r,s,a,l){return Od(t&n|~t&r,e,t,s,a,l)}function Qn(e,t,n,r,s,a,l){return Od(t&r|n&~r,e,t,s,a,l)}function Xn(e,t,n,r,s,a,l){return Od(t^n^r,e,t,s,a,l)}function Zn(e,t,n,r,s,a,l){return Od(n^(t|~r),e,t,s,a,l)}function Ug(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Wh(r,Ky(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Wh(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,Wh(r,s),r}function Ky(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}rc=pt.atob.bind(pt),Qf=pt.btoa.bind(pt);var e1="0123456789abcdef".split("");function Qy(e){for(var t="",n=0;n<4;n++)t+=e1[e>>8*n+4&15]+e1[e>>8*n&15];return t}function Xy(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Xf(e){return Ug(e).map(Xy).join("")}var Zy=function(e){for(var t=0;t<e.length;t++)e[t]=Qy(e[t]);return e.join("")}(Ug("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ys(e,t){if(Zy){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Zf(e,t){var n,r,s,a;if(e!==n){for(var l=(s=e,a=1+(256/e.length>>0),new Array(a+1).join(s)),u=[],d=0;d<256;d++)u[d]=d;var p=0;for(d=0;d<256;d++){var g=u[d];p=(p+g+l.charCodeAt(d))%256,u[d]=u[p],u[p]=g}n=e,r=u}else u=r;var x=t.length,w=0,m=0,_="";for(d=0;d<x;d++)m=(m+(g=u[w=(w+1)%256]))%256,u[w]=u[m],u[m]=g,l=u[(u[w]+u[m])%256],_+=String.fromCharCode(t.charCodeAt(d)^l);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var t1={print:4,modify:8,copy:16,"annot-forms":32};function vo(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(u){if(t1.perm!==void 0)throw new Error("Invalid permission: "+u);s+=t1[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^s)),this.encryptionKey=Xf(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Zf(this.encryptionKey,this.padding)}function yo(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[r]}return t}function n1(e){if($t(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!s],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var a in t[n]){var l=t[n][a];try{l[0].apply(e,r)}catch(u){pt.console&&Yt.error("jsPDF PubSub Error",u.message,u)}l[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function vd(e){if(!(this instanceof vd))return new vd(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function $g(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ca(e,t,n,r,s){if(!(this instanceof Ca))return new Ca(e,t,n,r,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,$g.call(this,r,s)}function Fo(e,t,n,r,s){if(!(this instanceof Fo))return new Fo(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,$g.call(this,r,s)}function ft(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],a=arguments[3],l=[],u=1,d=16,p="S",g=null;$t(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,s=e.format||s,a=e.compress||e.compressPdf||a,(g=e.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),u=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),p=e.defaultPathOperation||"S"),l=e.filters||(a===!0?["FlateEncode"]:l),r=r||"mm",n=(""+(n||"P")).toLowerCase();var x=e.putOnlyUsedFonts||!1,w={},m={internal:{},__private__:{}};m.__private__.PubSub=n1;var _="1.3",k=m.__private__.getPdfVersion=function(){return _};m.__private__.setPdfVersion=function(h){_=h};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return E};var y=m.__private__.getPageFormat=function(h){return E[h]};s=s||"a4";var N={COMPAT:"compat",ADVANCED:"advanced"},A=N.COMPAT;function U(){this.saveGraphicsState(),W(new at(Re,0,0,-Re,0,js()*Re).toString()+" cm"),this.setFontSize(this.getFontSize()/Re),p="n",A=N.ADVANCED}function X(){this.restoreGraphicsState(),p="S",A=N.COMPAT}var ae=m.__private__.combineFontStyleAndFontWeight=function(h,j){if(h=="bold"&&j=="normal"||h=="bold"&&j==400||h=="normal"&&j=="italic"||h=="bold"&&j=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return j&&(h=j==400||j==="normal"?h==="italic"?"italic":"normal":j!=700&&j!=="bold"||h!=="normal"?(j==700?"bold":j)+""+h:"bold"),h};m.advancedAPI=function(h){var j=A===N.COMPAT;return j&&U.call(this),typeof h!="function"||(h(this),j&&X.call(this)),this},m.compatAPI=function(h){var j=A===N.ADVANCED;return j&&X.call(this),typeof h!="function"||(h(this),j&&U.call(this)),this},m.isAdvancedAPI=function(){return A===N.ADVANCED};var G,S=function(h){if(A!==N.ADVANCED)throw new Error(h+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=m.roundToPrecision=m.__private__.roundToPrecision=function(h,j){var V=t||j;if(isNaN(h)||isNaN(V))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return h.toFixed(V).replace(/0+$/,"")};G=m.hpf=m.__private__.hpf=typeof d=="number"?function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.hpf");return z(h,d)}:d==="smart"?function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.hpf");return z(h,h>-1&&h<1?16:5)}:function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.hpf");return z(h,16)};var $=m.f2=m.__private__.f2=function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.f2");return z(h,2)},C=m.__private__.f3=function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.f3");return z(h,3)},F=m.scale=m.__private__.scale=function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.scale");return A===N.COMPAT?h*Re:A===N.ADVANCED?h:void 0},J=function(h){return A===N.COMPAT?js()-h:A===N.ADVANCED?h:void 0},Q=function(h){return F(J(h))};m.__private__.setPrecision=m.setPrecision=function(h){typeof parseInt(h,10)=="number"&&(t=parseInt(h,10))};var oe,ce="00000000000000000000000000000000",me=m.__private__.getFileId=function(){return ce},M=m.__private__.setFileId=function(h){return ce=h!==void 0&&/^[a-fA-F0-9]{32}$/.test(h)?h.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(Wn=new vo(g.userPermissions,g.userPassword,g.ownerPassword,ce)),ce};m.setFileId=function(h){return M(h),this},m.getFileId=function(){return me()};var Y=m.__private__.convertDateToPDFDate=function(h){var j=h.getTimezoneOffset(),V=j<0?"+":"-",te=Math.floor(Math.abs(j/60)),ue=Math.abs(j%60),je=[V,H(te),"'",H(ue),"'"].join("");return["D:",h.getFullYear(),H(h.getMonth()+1),H(h.getDate()),H(h.getHours()),H(h.getMinutes()),H(h.getSeconds()),je].join("")},K=m.__private__.convertPDFDateToDate=function(h){var j=parseInt(h.substr(2,4),10),V=parseInt(h.substr(6,2),10)-1,te=parseInt(h.substr(8,2),10),ue=parseInt(h.substr(10,2),10),je=parseInt(h.substr(12,2),10),Fe=parseInt(h.substr(14,2),10);return new Date(j,V,te,ue,je,Fe,0)},Se=m.__private__.setCreationDate=function(h){var j;if(h===void 0&&(h=new Date),h instanceof Date)j=Y(h);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(h))throw new Error("Invalid argument passed to jsPDF.setCreationDate");j=h}return oe=j},L=m.__private__.getCreationDate=function(h){var j=oe;return h==="jsDate"&&(j=K(oe)),j};m.setCreationDate=function(h){return Se(h),this},m.getCreationDate=function(h){return L(h)};var B,H=m.__private__.padd2=function(h){return("0"+parseInt(h)).slice(-2)},Z=m.__private__.padd2Hex=function(h){return("00"+(h=h.toString())).substr(h.length)},re=0,fe=[],pe=[],ve=0,De=[],Ie=[],_e=!1,ee=pe,we=function(){re=0,ve=0,pe=[],fe=[],De=[],Vr=rn(),Pr=rn()};m.__private__.setCustomOutputDestination=function(h){_e=!0,ee=h};var de=function(h){_e||(ee=h)};m.__private__.resetCustomOutputDestination=function(){_e=!1,ee=pe};var W=m.__private__.out=function(h){return h=h.toString(),ve+=h.length+1,ee.push(h),ee},Ve=m.__private__.write=function(h){return W(arguments.length===1?h.toString():Array.prototype.join.call(arguments," "))},Je=m.__private__.getArrayBuffer=function(h){for(var j=h.length,V=new ArrayBuffer(j),te=new Uint8Array(V);j--;)te[j]=h.charCodeAt(j);return V},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ee};var Me=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(h){return Me=A===N.ADVANCED?h/Re:h,this};var Be,Oe=m.__private__.getFontSize=m.getFontSize=function(){return A===N.COMPAT?Me:Me*Re},et=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(h){return et=h,this},m.__private__.getR2L=m.getR2L=function(){return et};var nt,ct=m.__private__.setZoomMode=function(h){var j=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(h))Be=h;else if(isNaN(h)){if(j.indexOf(h)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+h+'" is not recognized.');Be=h}else Be=parseInt(h,10)};m.__private__.getZoomMode=function(){return Be};var ut,St=m.__private__.setPageMode=function(h){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(h)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+h+'" is not recognized.');nt=h};m.__private__.getPageMode=function(){return nt};var Tt=m.__private__.setLayoutMode=function(h){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(h)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+h+'" is not recognized.');ut=h};m.__private__.getLayoutMode=function(){return ut},m.__private__.setDisplayMode=m.setDisplayMode=function(h,j,V){return ct(h),Tt(j),St(V),this};var rt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(h){if(Object.keys(rt).indexOf(h)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rt[h]},m.__private__.getDocumentProperties=function(){return rt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(h){for(var j in rt)rt.hasOwnProperty(j)&&h[j]&&(rt[j]=h[j]);return this},m.__private__.setDocumentProperty=function(h,j){if(Object.keys(rt).indexOf(h)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rt[h]=j};var ht,Re,Mt,vt,Wt,R={},Ce={},He=[],tt={},It={},At={},Gt={},Ot=null,Bt=0,qe=[],gt=new n1(m),Ui=e.hotfixes||[],Kt={},$r={},Ar=[],at=function h(j,V,te,ue,je,Fe){if(!(this instanceof h))return new h(j,V,te,ue,je,Fe);isNaN(j)&&(j=1),isNaN(V)&&(V=0),isNaN(te)&&(te=0),isNaN(ue)&&(ue=1),isNaN(je)&&(je=0),isNaN(Fe)&&(Fe=0),this._matrix=[j,V,te,ue,je,Fe]};Object.defineProperty(at.prototype,"sx",{get:function(){return this._matrix[0]},set:function(h){this._matrix[0]=h}}),Object.defineProperty(at.prototype,"shy",{get:function(){return this._matrix[1]},set:function(h){this._matrix[1]=h}}),Object.defineProperty(at.prototype,"shx",{get:function(){return this._matrix[2]},set:function(h){this._matrix[2]=h}}),Object.defineProperty(at.prototype,"sy",{get:function(){return this._matrix[3]},set:function(h){this._matrix[3]=h}}),Object.defineProperty(at.prototype,"tx",{get:function(){return this._matrix[4]},set:function(h){this._matrix[4]=h}}),Object.defineProperty(at.prototype,"ty",{get:function(){return this._matrix[5]},set:function(h){this._matrix[5]=h}}),Object.defineProperty(at.prototype,"a",{get:function(){return this._matrix[0]},set:function(h){this._matrix[0]=h}}),Object.defineProperty(at.prototype,"b",{get:function(){return this._matrix[1]},set:function(h){this._matrix[1]=h}}),Object.defineProperty(at.prototype,"c",{get:function(){return this._matrix[2]},set:function(h){this._matrix[2]=h}}),Object.defineProperty(at.prototype,"d",{get:function(){return this._matrix[3]},set:function(h){this._matrix[3]=h}}),Object.defineProperty(at.prototype,"e",{get:function(){return this._matrix[4]},set:function(h){this._matrix[4]=h}}),Object.defineProperty(at.prototype,"f",{get:function(){return this._matrix[5]},set:function(h){this._matrix[5]=h}}),Object.defineProperty(at.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(at.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(at.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(at.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),at.prototype.join=function(h){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(G).join(h)},at.prototype.multiply=function(h){var j=h.sx*this.sx+h.shy*this.shx,V=h.sx*this.shy+h.shy*this.sy,te=h.shx*this.sx+h.sy*this.shx,ue=h.shx*this.shy+h.sy*this.sy,je=h.tx*this.sx+h.ty*this.shx+this.tx,Fe=h.tx*this.shy+h.ty*this.sy+this.ty;return new at(j,V,te,ue,je,Fe)},at.prototype.decompose=function(){var h=this.sx,j=this.shy,V=this.shx,te=this.sy,ue=this.tx,je=this.ty,Fe=Math.sqrt(h*h+j*j),We=(h/=Fe)*V+(j/=Fe)*te;V-=h*We,te-=j*We;var it=Math.sqrt(V*V+te*te);return We/=it,h*(te/=it)<j*(V/=it)&&(h=-h,j=-j,We=-We,Fe=-Fe),{scale:new at(Fe,0,0,it,0,0),translate:new at(1,0,0,1,ue,je),rotate:new at(h,j,-j,h,0,0),skew:new at(1,0,We,1,0,0)}},at.prototype.toString=function(h){return this.join(" ")},at.prototype.inversed=function(){var h=this.sx,j=this.shy,V=this.shx,te=this.sy,ue=this.tx,je=this.ty,Fe=1/(h*te-j*V),We=te*Fe,it=-j*Fe,bt=-V*Fe,wt=h*Fe;return new at(We,it,bt,wt,-We*ue-bt*je,-it*ue-wt*je)},at.prototype.applyToPoint=function(h){var j=h.x*this.sx+h.y*this.shx+this.tx,V=h.x*this.shy+h.y*this.sy+this.ty;return new Xa(j,V)},at.prototype.applyToRectangle=function(h){var j=this.applyToPoint(h),V=this.applyToPoint(new Xa(h.x+h.w,h.y+h.h));return new dl(j.x,j.y,V.x-j.x,V.y-j.y)},at.prototype.clone=function(){var h=this.sx,j=this.shy,V=this.shx,te=this.sy,ue=this.tx,je=this.ty;return new at(h,j,V,te,ue,je)},m.Matrix=at;var Cr=m.matrixMult=function(h,j){return j.multiply(h)},Hr=new at(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Hr;var Rn=function(h,j){if(!It[h]){var V=(j instanceof Ca?"Sh":"P")+(Object.keys(tt).length+1).toString(10);j.id=V,It[h]=V,tt[V]=j,gt.publish("addPattern",j)}};m.ShadingPattern=Ca,m.TilingPattern=Fo,m.addShadingPattern=function(h,j){return S("addShadingPattern()"),Rn(h,j),this},m.beginTilingPattern=function(h){S("beginTilingPattern()"),zc(h.boundingBox[0],h.boundingBox[1],h.boundingBox[2]-h.boundingBox[0],h.boundingBox[3]-h.boundingBox[1],h.matrix)},m.endTilingPattern=function(h,j){S("endTilingPattern()"),j.stream=Ie[B].join(`
`),Rn(h,j),gt.publish("endTilingPattern",j),Ar.pop().restore()};var gn=m.__private__.newObject=function(){var h=rn();return rr(h,!0),h},rn=m.__private__.newObjectDeferred=function(){return re++,fe[re]=function(){return ve},re},rr=function(h,j){return j=typeof j=="boolean"&&j,fe[h]=ve,j&&W(h+" 0 obj"),h},fs=m.__private__.newAdditionalObject=function(){var h={objId:rn(),content:""};return De.push(h),h},Vr=rn(),Pr=rn(),_r=m.__private__.decodeColorString=function(h){var j=h.split(" ");if(j.length!==2||j[1]!=="g"&&j[1]!=="G")j.length===5&&(j[4]==="k"||j[4]==="K")&&(j=[(1-j[0])*(1-j[3]),(1-j[1])*(1-j[3]),(1-j[2])*(1-j[3]),"r"]);else{var V=parseFloat(j[0]);j=[V,V,V,"r"]}for(var te="#",ue=0;ue<3;ue++)te+=("0"+Math.floor(255*parseFloat(j[ue])).toString(16)).slice(-2);return te},hr=m.__private__.encodeColorString=function(h){var j;typeof h=="string"&&(h={ch1:h});var V=h.ch1,te=h.ch2,ue=h.ch3,je=h.ch4,Fe=h.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof V=="string"&&V.charAt(0)!=="#"){var We=new qg(V);if(We.ok)V=We.toHex();else if(!/^\d*\.?\d*$/.test(V))throw new Error('Invalid color "'+V+'" passed to jsPDF.encodeColorString.')}if(typeof V=="string"&&/^#[0-9A-Fa-f]{3}$/.test(V)&&(V="#"+V[1]+V[1]+V[2]+V[2]+V[3]+V[3]),typeof V=="string"&&/^#[0-9A-Fa-f]{6}$/.test(V)){var it=parseInt(V.substr(1),16);V=it>>16&255,te=it>>8&255,ue=255&it}if(te===void 0||je===void 0&&V===te&&te===ue)if(typeof V=="string")j=V+" "+Fe[0];else switch(h.precision){case 2:j=$(V/255)+" "+Fe[0];break;case 3:default:j=C(V/255)+" "+Fe[0]}else if(je===void 0||$t(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return j=["1.","1.","1.",Fe[1]].join(" ");if(typeof V=="string")j=[V,te,ue,Fe[1]].join(" ");else switch(h.precision){case 2:j=[$(V/255),$(te/255),$(ue/255),Fe[1]].join(" ");break;default:case 3:j=[C(V/255),C(te/255),C(ue/255),Fe[1]].join(" ")}}else if(typeof V=="string")j=[V,te,ue,je,Fe[2]].join(" ");else switch(h.precision){case 2:j=[$(V),$(te),$(ue),$(je),Fe[2]].join(" ");break;case 3:default:j=[C(V),C(te),C(ue),C(je),Fe[2]].join(" ")}return j},Wr=m.__private__.getFilters=function(){return l},fr=m.__private__.putStream=function(h){var j=(h=h||{}).data||"",V=h.filters||Wr(),te=h.alreadyAppliedFilters||[],ue=h.addLength1||!1,je=j.length,Fe=h.objectId,We=function(Gn){return Gn};if(g!==null&&Fe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(We=Wn.encryptor(Fe,0));var it={};V===!0&&(V=["FlateEncode"]);var bt=h.additionalKeyValues||[],wt=(it=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(j,V):{data:j,reverseChain:[]}).reverseChain+(Array.isArray(te)?te.join(" "):te.toString());if(it.data.length!==0&&(bt.push({key:"Length",value:it.data.length}),ue===!0&&bt.push({key:"Length1",value:je})),wt.length!=0)if(wt.split("/").length-1==1)bt.push({key:"Filter",value:wt});else{bt.push({key:"Filter",value:"["+wt+"]"});for(var Ft=0;Ft<bt.length;Ft+=1)if(bt[Ft].key==="DecodeParms"){for(var ln=[],hn=0;hn<it.reverseChain.split("/").length-1;hn+=1)ln.push("null");ln.push(bt[Ft].value),bt[Ft].value="["+ln.join(" ")+"]"}}W("<<");for(var jn=0;jn<bt.length;jn++)W("/"+bt[jn].key+" "+bt[jn].value);W(">>"),it.data.length!==0&&(W("stream"),W(We(it.data)),W("endstream"))},An=m.__private__.putPage=function(h){var j=h.number,V=h.data,te=h.objId,ue=h.contentsObjId;rr(te,!0),W("<</Type /Page"),W("/Parent "+h.rootDictionaryObjId+" 0 R"),W("/Resources "+h.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(G(h.mediaBox.bottomLeftX))+" "+parseFloat(G(h.mediaBox.bottomLeftY))+" "+G(h.mediaBox.topRightX)+" "+G(h.mediaBox.topRightY)+"]"),h.cropBox!==null&&W("/CropBox ["+G(h.cropBox.bottomLeftX)+" "+G(h.cropBox.bottomLeftY)+" "+G(h.cropBox.topRightX)+" "+G(h.cropBox.topRightY)+"]"),h.bleedBox!==null&&W("/BleedBox ["+G(h.bleedBox.bottomLeftX)+" "+G(h.bleedBox.bottomLeftY)+" "+G(h.bleedBox.topRightX)+" "+G(h.bleedBox.topRightY)+"]"),h.trimBox!==null&&W("/TrimBox ["+G(h.trimBox.bottomLeftX)+" "+G(h.trimBox.bottomLeftY)+" "+G(h.trimBox.topRightX)+" "+G(h.trimBox.topRightY)+"]"),h.artBox!==null&&W("/ArtBox ["+G(h.artBox.bottomLeftX)+" "+G(h.artBox.bottomLeftY)+" "+G(h.artBox.topRightX)+" "+G(h.artBox.topRightY)+"]"),typeof h.userUnit=="number"&&h.userUnit!==1&&W("/UserUnit "+h.userUnit),gt.publish("putPage",{objId:te,pageContext:qe[j],pageNumber:j,page:V}),W("/Contents "+ue+" 0 R"),W(">>"),W("endobj");var je=V.join(`
`);return A===N.ADVANCED&&(je+=`
Q`),rr(ue,!0),fr({data:je,filters:Wr(),objectId:ue}),W("endobj"),te},$i=m.__private__.putPages=function(){var h,j,V=[];for(h=1;h<=Bt;h++)qe[h].objId=rn(),qe[h].contentsObjId=rn();for(h=1;h<=Bt;h++)V.push(An({number:h,data:Ie[h],objId:qe[h].objId,contentsObjId:qe[h].contentsObjId,mediaBox:qe[h].mediaBox,cropBox:qe[h].cropBox,bleedBox:qe[h].bleedBox,trimBox:qe[h].trimBox,artBox:qe[h].artBox,userUnit:qe[h].userUnit,rootDictionaryObjId:Vr,resourceDictionaryObjId:Pr}));rr(Vr,!0),W("<</Type /Pages");var te="/Kids [";for(j=0;j<Bt;j++)te+=V[j]+" 0 R ";W(te+"]"),W("/Count "+Bt),W(">>"),W("endobj"),gt.publish("postPutPages")},ps=function(h){gt.publish("putFont",{font:h,out:W,newObject:gn,putStream:fr}),h.isAlreadyPutted!==!0&&(h.objectNumber=gn(),W("<<"),W("/Type /Font"),W("/BaseFont /"+yo(h.postScriptName)),W("/Subtype /Type1"),typeof h.encoding=="string"&&W("/Encoding /"+h.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},Hi=function(){for(var h in R)R.hasOwnProperty(h)&&(x===!1||x===!0&&w.hasOwnProperty(h))&&ps(R[h])},ms=function(h){h.objectNumber=gn();var j=[];j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Form"}),j.push({key:"BBox",value:"["+[G(h.x),G(h.y),G(h.x+h.width),G(h.y+h.height)].join(" ")+"]"}),j.push({key:"Matrix",value:"["+h.matrix.toString()+"]"});var V=h.pages[1].join(`
`);fr({data:V,additionalKeyValues:j,objectId:h.objectNumber}),W("endobj")},gs=function(){for(var h in Kt)Kt.hasOwnProperty(h)&&ms(Kt[h])},Ha=function(h,j){var V,te=[],ue=1/(j-1);for(V=0;V<1;V+=ue)te.push(V);if(te.push(1),h[0].offset!=0){var je={offset:0,color:h[0].color};h.unshift(je)}if(h[h.length-1].offset!=1){var Fe={offset:1,color:h[h.length-1].color};h.push(Fe)}for(var We="",it=0,bt=0;bt<te.length;bt++){for(V=te[bt];V>h[it+1].offset;)it++;var wt=h[it].offset,Ft=(V-wt)/(h[it+1].offset-wt),ln=h[it].color,hn=h[it+1].color;We+=Z(Math.round((1-Ft)*ln[0]+Ft*hn[0]).toString(16))+Z(Math.round((1-Ft)*ln[1]+Ft*hn[1]).toString(16))+Z(Math.round((1-Ft)*ln[2]+Ft*hn[2]).toString(16))}return We.trim()},tl=function(h,j){j||(j=21);var V=gn(),te=Ha(h.colors,j),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+j+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fr({data:te,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:V}),W("endobj"),h.objectNumber=gn(),W("<< /ShadingType "+h.type),W("/ColorSpace /DeviceRGB");var je="/Coords ["+G(parseFloat(h.coords[0]))+" "+G(parseFloat(h.coords[1]))+" ";h.type===2?je+=G(parseFloat(h.coords[2]))+" "+G(parseFloat(h.coords[3])):je+=G(parseFloat(h.coords[2]))+" "+G(parseFloat(h.coords[3]))+" "+G(parseFloat(h.coords[4]))+" "+G(parseFloat(h.coords[5])),W(je+="]"),h.matrix&&W("/Matrix ["+h.matrix.toString()+"]"),W("/Function "+V+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},nl=function(h,j){var V=rn(),te=gn();j.push({resourcesOid:V,objectOid:te}),h.objectNumber=te;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+h.boundingBox.map(G).join(" ")+"]"}),ue.push({key:"XStep",value:G(h.xStep)}),ue.push({key:"YStep",value:G(h.yStep)}),ue.push({key:"Resources",value:V+" 0 R"}),h.matrix&&ue.push({key:"Matrix",value:"["+h.matrix.toString()+"]"}),fr({data:h.stream,additionalKeyValues:ue,objectId:h.objectNumber}),W("endobj")},xs=function(h){var j;for(j in tt)tt.hasOwnProperty(j)&&(tt[j]instanceof Ca?tl(tt[j]):tt[j]instanceof Fo&&nl(tt[j],h))},Va=function(h){for(var j in h.objectNumber=gn(),W("<<"),h)switch(j){case"opacity":W("/ca "+$(h[j]));break;case"stroke-opacity":W("/CA "+$(h[j]))}W(">>"),W("endobj")},rl=function(){var h;for(h in At)At.hasOwnProperty(h)&&Va(At[h])},da=function(){for(var h in W("/XObject <<"),Kt)Kt.hasOwnProperty(h)&&Kt[h].objectNumber>=0&&W("/"+h+" "+Kt[h].objectNumber+" 0 R");gt.publish("putXobjectDict"),W(">>")},Vi=function(){Wn.oid=gn(),W("<<"),W("/Filter /Standard"),W("/V "+Wn.v),W("/R "+Wn.r),W("/U <"+Wn.toHexString(Wn.U)+">"),W("/O <"+Wn.toHexString(Wn.O)+">"),W("/P "+Wn.P),W(">>"),W("endobj")},Gr=function(){for(var h in W("/Font <<"),R)R.hasOwnProperty(h)&&(x===!1||x===!0&&w.hasOwnProperty(h))&&W("/"+h+" "+R[h].objectNumber+" 0 R");W(">>")},Cn=function(){if(Object.keys(tt).length>0){for(var h in W("/Shading <<"),tt)tt.hasOwnProperty(h)&&tt[h]instanceof Ca&&tt[h].objectNumber>=0&&W("/"+h+" "+tt[h].objectNumber+" 0 R");gt.publish("putShadingPatternDict"),W(">>")}},Jr=function(h){if(Object.keys(tt).length>0){for(var j in W("/Pattern <<"),tt)tt.hasOwnProperty(j)&&tt[j]instanceof m.TilingPattern&&tt[j].objectNumber>=0&&tt[j].objectNumber<h&&W("/"+j+" "+tt[j].objectNumber+" 0 R");gt.publish("putTilingPatternDict"),W(">>")}},il=function(){if(Object.keys(At).length>0){var h;for(h in W("/ExtGState <<"),At)At.hasOwnProperty(h)&&At[h].objectNumber>=0&&W("/"+h+" "+At[h].objectNumber+" 0 R");gt.publish("putGStateDict"),W(">>")}},an=function(h){rr(h.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Gr(),Cn(),Jr(h.objectOid),il(),da(),W(">>"),W("endobj")},Wa=function(){var h=[];Hi(),rl(),gs(),xs(h),gt.publish("putResources"),h.forEach(an),an({resourcesOid:Pr,objectOid:Number.MAX_SAFE_INTEGER}),gt.publish("postPutResources")},Wi=function(){gt.publish("putAdditionalObjects");for(var h=0;h<De.length;h++){var j=De[h];rr(j.objId,!0),W(j.content),W("endobj")}gt.publish("postPutAdditionalObjects")},ha=function(h){Ce[h.fontName]=Ce[h.fontName]||{},Ce[h.fontName][h.fontStyle]=h.id},vs=function(h,j,V,te,ue){var je={id:"F"+(Object.keys(R).length+1).toString(10),postScriptName:h,fontName:j,fontStyle:V,encoding:te,isStandardFont:ue||!1,metadata:{}};return gt.publish("addFont",{font:je,instance:this}),R[je.id]=je,ha(je),je.id},Ga=function(h){for(var j=0,V=Ee.length;j<V;j++){var te=vs.call(this,h[j][0],h[j][1],h[j][2],Ee[j][3],!0);x===!1&&(w[te]=!0);var ue=h[j][0].split("-");ha({id:te,fontName:ue[0],fontStyle:ue[1]||""})}gt.publish("addFonts",{fonts:R,dictionary:Ce})},pr=function(h){return h.foo=function(){try{return h.apply(this,arguments)}catch(te){var j=te.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var V="Error in function "+j.split(`
`)[0].split("<")[0]+": "+te.message;if(!pt.console)throw new Error(V);pt.console.error(V,te),pt.alert&&alert(V)}},h.foo.bar=h,h.foo},Gi=function(h,j){var V,te,ue,je,Fe,We,it,bt,wt;if(ue=(j=j||{}).sourceEncoding||"Unicode",Fe=j.outputEncoding,(j.autoencode||Fe)&&R[ht].metadata&&R[ht].metadata[ue]&&R[ht].metadata[ue].encoding&&(je=R[ht].metadata[ue].encoding,!Fe&&R[ht].encoding&&(Fe=R[ht].encoding),!Fe&&je.codePages&&(Fe=je.codePages[0]),typeof Fe=="string"&&(Fe=je[Fe]),Fe)){for(it=!1,We=[],V=0,te=h.length;V<te;V++)(bt=Fe[h.charCodeAt(V)])?We.push(String.fromCharCode(bt)):We.push(h[V]),We[V].charCodeAt(0)>>8&&(it=!0);h=We.join("")}for(V=h.length;it===void 0&&V!==0;)h.charCodeAt(V-1)>>8&&(it=!0),V--;if(!it)return h;for(We=j.noBOM?[]:[254,255],V=0,te=h.length;V<te;V++){if((wt=(bt=h.charCodeAt(V))>>8)>>8)throw new Error("Character at position "+V+" of string '"+h+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");We.push(wt),We.push(bt-(wt<<8))}return String.fromCharCode.apply(void 0,We)},Bn=m.__private__.pdfEscape=m.pdfEscape=function(h,j){return Gi(h,j).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ys=m.__private__.beginPage=function(h){Ie[++Bt]=[],qe[Bt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(h[0]),topRightY:Number(h[1])}},Ne(Bt),de(Ie[B])},fa=function(h,j){var V,te,ue;switch(n=j||n,typeof h=="string"&&(V=y(h.toLowerCase()),Array.isArray(V)&&(te=V[0],ue=V[1])),Array.isArray(h)&&(te=h[0]*Re,ue=h[1]*Re),isNaN(te)&&(te=s[0],ue=s[1]),(te>14400||ue>14400)&&(Yt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),te=Math.min(14400,te),ue=Math.min(14400,ue)),s=[te,ue],n.substr(0,1)){case"l":ue>te&&(s=[ue,te]);break;case"p":te>ue&&(s=[ue,te])}ys(s),_c(ol),W(li),cl!==0&&W(cl+" J"),ul!==0&&W(ul+" j"),gt.publish("addPage",{pageNumber:Bt})},O=function(h){h>0&&h<=Bt&&(Ie.splice(h,1),qe.splice(h,1),Bt--,B>Bt&&(B=Bt),this.setPage(B))},Ne=function(h){h>0&&h<=Bt&&(B=h)},ze=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ie.length-1},yt=function(h,j,V){var te,ue=void 0;return V=V||{},h=h!==void 0?h:R[ht].fontName,j=j!==void 0?j:R[ht].fontStyle,te=h.toLowerCase(),Ce[te]!==void 0&&Ce[te][j]!==void 0?ue=Ce[te][j]:Ce[h]!==void 0&&Ce[h][j]!==void 0?ue=Ce[h][j]:V.disableWarning===!1&&Yt.warn("Unable to look up font label for font '"+h+"', '"+j+"'. Refer to getFontList() for available fonts."),ue||V.noFallback||(ue=Ce.times[j])==null&&(ue=Ce.times.normal),ue},ot=m.__private__.putInfo=function(){var h=gn(),j=function(te){return te};for(var V in g!==null&&(j=Wn.encryptor(h,0)),W("<<"),W("/Producer ("+Bn(j("jsPDF "+ft.version))+")"),rt)rt.hasOwnProperty(V)&&rt[V]&&W("/"+V.substr(0,1).toUpperCase()+V.substr(1)+" ("+Bn(j(rt[V]))+")");W("/CreationDate ("+Bn(j(oe))+")"),W(">>"),W("endobj")},mt=m.__private__.putCatalog=function(h){var j=(h=h||{}).rootDictionaryObjId||Vr;switch(gn(),W("<<"),W("/Type /Catalog"),W("/Pages "+j+" 0 R"),Be||(Be="fullwidth"),Be){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var V=""+Be;V.substr(V.length-1)==="%"&&(Be=parseInt(Be)/100),typeof Be=="number"&&W("/OpenAction [3 0 R /XYZ null null "+$(Be)+"]")}switch(ut||(ut="continuous"),ut){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}nt&&W("/PageMode /"+nt),gt.publish("putCatalog"),W(">>"),W("endobj")},Ct=m.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(re+1)),W("/Root "+re+" 0 R"),W("/Info "+(re-1)+" 0 R"),g!==null&&W("/Encrypt "+Wn.oid+" 0 R"),W("/ID [ <"+ce+"> <"+ce+"> ]"),W(">>")},on=m.__private__.putHeader=function(){W("%PDF-"+_),W("%")},ki=m.__private__.putXRef=function(){var h="0000000000";W("xref"),W("0 "+(re+1)),W("0000000000 65535 f ");for(var j=1;j<=re;j++)typeof fe[j]=="function"?W((h+fe[j]()).slice(-10)+" 00000 n "):fe[j]!==void 0?W((h+fe[j]).slice(-10)+" 00000 n "):W("0000000000 00000 n ")},Et=m.__private__.buildDocument=function(){we(),de(pe),gt.publish("buildDocument"),on(),$i(),Wi(),Wa(),g!==null&&Vi(),ot(),mt();var h=ve;return ki(),Ct(),W("startxref"),W(""+h),W("%%EOF"),de(Ie[B]),pe.join(`
`)},ir=m.__private__.getBlob=function(h){return new Blob([Je(h)],{type:"application/pdf"})},ws=m.output=m.__private__.output=pr(function(h,j){switch(typeof(j=j||{})=="string"?j={filename:j}:j.filename=j.filename||"generated.pdf",h){case void 0:return Et();case"save":m.save(j.filename);break;case"arraybuffer":return Je(Et());case"blob":return ir(Et());case"bloburi":case"bloburl":if(pt.URL!==void 0&&typeof pt.URL.createObjectURL=="function")return pt.URL&&pt.URL.createObjectURL(ir(Et()))||void 0;Yt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var V="",te=Et();try{V=Qf(te)}catch{V=Qf(unescape(encodeURIComponent(te)))}return"data:application/pdf;filename="+j.filename+";base64,"+V;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';j.pdfObjectUrl&&(ue=j.pdfObjectUrl,je="");var Fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(j)+");<\/script></body></html>",We=pt.open();return We!==null&&We.document.write(Fe),We}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(j.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+j.filename+'" width="500px" height="400px" /></body></html>',bt=pt.open();if(bt!==null){bt.document.write(it);var wt=this;bt.document.documentElement.querySelector("#pdfViewer").onload=function(){bt.document.title=j.filename,bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wt.output("bloburl"))}}return bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",j)+'"></iframe></body></html>',ln=pt.open();if(ln!==null&&(ln.document.write(Ft),ln.document.title=j.filename),ln||typeof safari>"u")return ln;break;case"datauri":case"dataurl":return pt.document.location.href=this.output("datauristring",j);default:return null}}),Ja=function(h){return Array.isArray(Ui)===!0&&Ui.indexOf(h)>-1};switch(r){case"pt":Re=1;break;case"mm":Re=72/25.4;break;case"cm":Re=72/2.54;break;case"in":Re=72;break;case"px":Re=Ja("px_scaling")==1?.75:96/72;break;case"pc":case"em":Re=12;break;case"ex":Re=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Re=r}var Wn=null;Se(),M();var Rd=function(h){return g!==null?Wn.encryptor(h,0):function(j){return j}},Ac=m.__private__.getPageInfo=m.getPageInfo=function(h){if(isNaN(h)||h%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:qe[h].objId,pageNumber:h,pageContext:qe[h]}},xt=m.__private__.getPageInfoByObjId=function(h){if(isNaN(h)||h%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var j in qe)if(qe[j].objId===h)break;return Ac(j)},Bd=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:qe[B].objId,pageNumber:B,pageContext:qe[B]}};m.addPage=function(){return fa.apply(this,arguments),this},m.setPage=function(){return Ne.apply(this,arguments),de.call(this,Ie[B]),this},m.insertPage=function(h){return this.addPage(),this.movePage(B,h),this},m.movePage=function(h,j){var V,te;if(h>j){V=Ie[h],te=qe[h];for(var ue=h;ue>j;ue--)Ie[ue]=Ie[ue-1],qe[ue]=qe[ue-1];Ie[j]=V,qe[j]=te,this.setPage(j)}else if(h<j){V=Ie[h],te=qe[h];for(var je=h;je<j;je++)Ie[je]=Ie[je+1],qe[je]=qe[je+1];Ie[j]=V,qe[j]=te,this.setPage(j)}return this},m.deletePage=function(){return O.apply(this,arguments),this},m.__private__.text=m.text=function(h,j,V,te,ue){var je,Fe,We,it,bt,wt,Ft,ln,hn,jn=(te=te||{}).scope||this;if(typeof h=="number"&&typeof j=="number"&&(typeof V=="string"||Array.isArray(V))){var Gn=V;V=j,j=h,h=Gn}if(arguments[3]instanceof at?(S("The transform parameter of text() with a Matrix value"),hn=ue):(We=arguments[4],it=arguments[5],$t(Ft=arguments[3])==="object"&&Ft!==null||(typeof We=="string"&&(it=We,We=null),typeof Ft=="string"&&(it=Ft,Ft=null),typeof Ft=="number"&&(We=Ft,Ft=null),te={flags:Ft,angle:We,align:it})),isNaN(j)||isNaN(V)||h==null)throw new Error("Invalid arguments passed to jsPDF.text");if(h.length===0)return jn;var Fn="",ci=!1,Ir=typeof te.lineHeightFactor=="number"?te.lineHeightFactor:ma,Ci=jn.internal.scaleFactor;function Tc(Qt){return Qt=Qt.split("	").join(Array(te.TabLen||9).join(" ")),Bn(Qt,Ft)}function ml(Qt){for(var Xt,vn=Qt.concat(),Pn=[],Xi=vn.length;Xi--;)typeof(Xt=vn.shift())=="string"?Pn.push(Xt):Array.isArray(Qt)&&(Xt.length===1||Xt[1]===void 0&&Xt[2]===void 0)?Pn.push(Xt[0]):Pn.push([Xt[0],Xt[1],Xt[2]]);return Pn}function gl(Qt,Xt){var vn;if(typeof Qt=="string")vn=Xt(Qt)[0];else if(Array.isArray(Qt)){for(var Pn,Xi,Sl=Qt.concat(),co=[],qc=Sl.length;qc--;)typeof(Pn=Sl.shift())=="string"?co.push(Xt(Pn)[0]):Array.isArray(Pn)&&typeof Pn[0]=="string"&&(Xi=Xt(Pn[0],Pn[1],Pn[2]),co.push([Xi[0],Xi[1],Xi[2]]));vn=co}return vn}var eo=!1,xl=!0;if(typeof h=="string")eo=!0;else if(Array.isArray(h)){var vl=h.concat();Fe=[];for(var to,qn=vl.length;qn--;)(typeof(to=vl.shift())!="string"||Array.isArray(to)&&typeof to[0]!="string")&&(xl=!1);eo=xl}if(eo===!1)throw new Error('Type of text must be string or Array. "'+h+'" is not recognized.');typeof h=="string"&&(h=h.match(/[\r?\n]/)?h.split(/\r\n|\r|\n/g):[h]);var no=Me/jn.internal.scaleFactor,ro=no*(Ir-1);switch(te.baseline){case"bottom":V-=ro;break;case"top":V+=no-ro;break;case"hanging":V+=no-2*ro;break;case"middle":V+=no/2-ro}if((wt=te.maxWidth||0)>0&&(typeof h=="string"?h=jn.splitTextToSize(h,wt):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(Qt,Xt){return Qt.concat(jn.splitTextToSize(Xt,wt))},[]))),je={text:h,x:j,y:V,options:te,mutex:{pdfEscape:Bn,activeFontKey:ht,fonts:R,activeFontSize:Me}},gt.publish("preProcessText",je),h=je.text,We=(te=je.options).angle,!(hn instanceof at)&&We&&typeof We=="number"){We*=Math.PI/180,te.rotationDirection===0&&(We=-We),A===N.ADVANCED&&(We=-We);var io=Math.cos(We),yl=Math.sin(We);hn=new at(io,yl,-yl,io,0,0)}else We&&We instanceof at&&(hn=We);A!==N.ADVANCED||hn||(hn=Hr),(bt=te.charSpace||Qa)!==void 0&&(Fn+=G(F(bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ln=te.horizontalScale)!==void 0&&(Fn+=G(100*ln)+` Tz
`),te.lang;var mr=-1,Kd=te.renderingMode!==void 0?te.renderingMode:te.stroke,wl=jn.internal.getCurrentPageInfo().pageContext;switch(Kd){case 0:case!1:case"fill":mr=0;break;case 1:case!0:case"stroke":mr=1;break;case 2:case"fillThenStroke":mr=2;break;case 3:case"invisible":mr=3;break;case 4:case"fillAndAddForClipping":mr=4;break;case 5:case"strokeAndAddPathForClipping":mr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mr=6;break;case 7:case"addToPathForClipping":mr=7}var Mc=wl.usedRenderingMode!==void 0?wl.usedRenderingMode:-1;mr!==-1?Fn+=mr+` Tr
`:Mc!==-1&&(Fn+=`0 Tr
`),mr!==-1&&(wl.usedRenderingMode=mr),it=te.align||"left";var Yr,so=Me*Ir,Oc=jn.internal.pageSize.getWidth(),Rc=R[ht];bt=te.charSpace||Qa,wt=te.maxWidth||0,Ft=Object.assign({autoencode:!0,noBOM:!0},te.flags);var Ss=[],va=function(Qt){return jn.getStringUnitWidth(Qt,{font:Rc,charSpace:bt,fontSize:Me,doKerning:!1})*Me/Ci};if(Object.prototype.toString.call(h)==="[object Array]"){var gr;Fe=ml(h),it!=="left"&&(Yr=Fe.map(va));var sr,ks=0;if(it==="right"){j-=Yr[0],h=[],qn=Fe.length;for(var Yi=0;Yi<qn;Yi++)Yi===0?(sr=Ai(j),gr=Ji(V)):(sr=F(ks-Yr[Yi]),gr=-so),h.push([Fe[Yi],sr,gr]),ks=Yr[Yi]}else if(it==="center"){j-=Yr[0]/2,h=[],qn=Fe.length;for(var Ki=0;Ki<qn;Ki++)Ki===0?(sr=Ai(j),gr=Ji(V)):(sr=F((ks-Yr[Ki])/2),gr=-so),h.push([Fe[Ki],sr,gr]),ks=Yr[Ki]}else if(it==="left"){h=[],qn=Fe.length;for(var ao=0;ao<qn;ao++)h.push(Fe[ao])}else if(it==="justify"&&Rc.encoding==="Identity-H"){h=[],qn=Fe.length,wt=wt!==0?wt:Oc;for(var Qi=0,xn=0;xn<qn;xn++)if(gr=xn===0?Ji(V):-so,sr=xn===0?Ai(j):Qi,xn<qn-1){var Nl=F((wt-Yr[xn])/(Fe[xn].split(" ").length-1)),ar=Fe[xn].split(" ");h.push([ar[0]+" ",sr,gr]),Qi=0;for(var Kr=1;Kr<ar.length;Kr++){var oo=(va(ar[Kr-1]+" "+ar[Kr])-va(ar[Kr]))*Ci+Nl;Kr==ar.length-1?h.push([ar[Kr],oo,0]):h.push([ar[Kr]+" ",oo,0]),Qi-=oo}}else h.push([Fe[xn],sr,gr]);h.push(["",Qi,0])}else{if(it!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(h=[],qn=Fe.length,wt=wt!==0?wt:Oc,xn=0;xn<qn;xn++)gr=xn===0?Ji(V):-so,sr=xn===0?Ai(j):0,xn<qn-1?Ss.push(G(F((wt-Yr[xn])/(Fe[xn].split(" ").length-1)))):Ss.push(0),h.push([Fe[xn],sr,gr])}}var Bc=typeof te.R2L=="boolean"?te.R2L:et;Bc===!0&&(h=gl(h,function(Qt,Xt,vn){return[Qt.split("").reverse().join(""),Xt,vn]})),je={text:h,x:j,y:V,options:te,mutex:{pdfEscape:Bn,activeFontKey:ht,fonts:R,activeFontSize:Me}},gt.publish("postProcessText",je),h=je.text,ci=je.mutex.isHex||!1;var bl=R[ht].encoding;bl!=="WinAnsiEncoding"&&bl!=="StandardEncoding"||(h=gl(h,function(Qt,Xt,vn){return[Tc(Qt),Xt,vn]})),Fe=ml(h),h=[];for(var ya,wa,Ls,Na=0,lo=1,ba=Array.isArray(Fe[0])?lo:Na,As="",jl=function(Qt,Xt,vn){var Pn="";return vn instanceof at?(vn=typeof te.angle=="number"?Cr(vn,new at(1,0,0,1,Qt,Xt)):Cr(new at(1,0,0,1,Qt,Xt),vn),A===N.ADVANCED&&(vn=Cr(new at(1,0,0,-1,0,0),vn)),Pn=vn.join(" ")+` Tm
`):Pn=G(Qt)+" "+G(Xt)+` Td
`,Pn},Qr=0;Qr<Fe.length;Qr++){switch(As="",ba){case lo:Ls=(ci?"<":"(")+Fe[Qr][0]+(ci?">":")"),ya=parseFloat(Fe[Qr][1]),wa=parseFloat(Fe[Qr][2]);break;case Na:Ls=(ci?"<":"(")+Fe[Qr]+(ci?">":")"),ya=Ai(j),wa=Ji(V)}Ss!==void 0&&Ss[Qr]!==void 0&&(As=Ss[Qr]+` Tw
`),Qr===0?h.push(As+jl(ya,wa,hn)+Ls):ba===Na?h.push(As+Ls):ba===lo&&h.push(As+jl(ya,wa,hn)+Ls)}h=ba===Na?h.join(` Tj
T* `):h.join(` Tj
`),h+=` Tj
`;var Xr=`BT
/`;return Xr+=ht+" "+Me+` Tf
`,Xr+=G(Me*Ir)+` TL
`,Xr+=ga+`
`,Xr+=Fn,Xr+=h,W(Xr+="ET"),w[ht]=!0,jn};var qd=m.__private__.clip=m.clip=function(h){return W(h==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return qd("evenodd")},m.__private__.discardPath=m.discardPath=function(){return W("n"),this};var Li=m.__private__.isValidStyle=function(h){var j=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(h)!==-1&&(j=!0),j};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(h){return Li(h)&&(p=h),this};var Cc=m.__private__.getStyle=m.getStyle=function(h){var j=p;switch(h){case"D":case"S":j="S";break;case"F":j="f";break;case"FD":case"DF":j="B";break;case"f":case"f*":case"B":case"B*":j=h}return j},Pc=m.close=function(){return W("h"),this};m.stroke=function(){return W("S"),this},m.fill=function(h){return Ya("f",h),this},m.fillEvenOdd=function(h){return Ya("f*",h),this},m.fillStroke=function(h){return Ya("B",h),this},m.fillStrokeEvenOdd=function(h){return Ya("B*",h),this};var Ya=function(h,j){$t(j)==="object"?$d(j,h):W(h)},sl=function(h){h===null||A===N.ADVANCED&&h===void 0||(h=Cc(h),W(h))};function Ud(h,j,V,te,ue){var je=new Fo(j||this.boundingBox,V||this.xStep,te||this.yStep,this.gState,ue||this.matrix);je.stream=this.stream;var Fe=h+"$$"+this.cloneIndex+++"$$";return Rn(Fe,je),je}var $d=function(h,j){var V=It[h.key],te=tt[V];if(te instanceof Ca)W("q"),W(Hd(j)),te.gState&&m.setGState(te.gState),W(h.matrix.toString()+" cm"),W("/"+V+" sh"),W("Q");else if(te instanceof Fo){var ue=new at(1,0,0,-1,0,js());h.matrix&&(ue=ue.multiply(h.matrix||Hr),V=Ud.call(te,h.key,h.boundingBox,h.xStep,h.yStep,ue).id),W("q"),W("/Pattern cs"),W("/"+V+" scn"),te.gState&&m.setGState(te.gState),W(j),W("Q")}},Hd=function(h){switch(h){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},al=m.moveTo=function(h,j){return W(G(F(h))+" "+G(Q(j))+" m"),this},pa=m.lineTo=function(h,j){return W(G(F(h))+" "+G(Q(j))+" l"),this},Ns=m.curveTo=function(h,j,V,te,ue,je){return W([G(F(h)),G(Q(j)),G(F(V)),G(Q(te)),G(F(ue)),G(Q(je)),"c"].join(" ")),this};m.__private__.line=m.line=function(h,j,V,te,ue){if(isNaN(h)||isNaN(j)||isNaN(V)||isNaN(te)||!Li(ue))throw new Error("Invalid arguments passed to jsPDF.line");return A===N.COMPAT?this.lines([[V-h,te-j]],h,j,[1,1],ue||"S"):this.lines([[V-h,te-j]],h,j,[1,1]).stroke()},m.__private__.lines=m.lines=function(h,j,V,te,ue,je){var Fe,We,it,bt,wt,Ft,ln,hn,jn,Gn,Fn,ci;if(typeof h=="number"&&(ci=V,V=j,j=h,h=ci),te=te||[1,1],je=je||!1,isNaN(j)||isNaN(V)||!Array.isArray(h)||!Array.isArray(te)||!Li(ue)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(al(j,V),Fe=te[0],We=te[1],bt=h.length,Gn=j,Fn=V,it=0;it<bt;it++)(wt=h[it]).length===2?(Gn=wt[0]*Fe+Gn,Fn=wt[1]*We+Fn,pa(Gn,Fn)):(Ft=wt[0]*Fe+Gn,ln=wt[1]*We+Fn,hn=wt[2]*Fe+Gn,jn=wt[3]*We+Fn,Gn=wt[4]*Fe+Gn,Fn=wt[5]*We+Fn,Ns(Ft,ln,hn,jn,Gn,Fn));return je&&Pc(),sl(ue),this},m.path=function(h){for(var j=0;j<h.length;j++){var V=h[j],te=V.c;switch(V.op){case"m":al(te[0],te[1]);break;case"l":pa(te[0],te[1]);break;case"c":Ns.apply(this,te);break;case"h":Pc()}}return this},m.__private__.rect=m.rect=function(h,j,V,te,ue){if(isNaN(h)||isNaN(j)||isNaN(V)||isNaN(te)||!Li(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return A===N.COMPAT&&(te=-te),W([G(F(h)),G(Q(j)),G(F(V)),G(F(te)),"re"].join(" ")),sl(ue),this},m.__private__.triangle=m.triangle=function(h,j,V,te,ue,je,Fe){if(isNaN(h)||isNaN(j)||isNaN(V)||isNaN(te)||isNaN(ue)||isNaN(je)||!Li(Fe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[V-h,te-j],[ue-V,je-te],[h-ue,j-je]],h,j,[1,1],Fe,!0),this},m.__private__.roundedRect=m.roundedRect=function(h,j,V,te,ue,je,Fe){if(isNaN(h)||isNaN(j)||isNaN(V)||isNaN(te)||isNaN(ue)||isNaN(je)||!Li(Fe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var We=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*V),je=Math.min(je,.5*te),this.lines([[V-2*ue,0],[ue*We,0,ue,je-je*We,ue,je],[0,te-2*je],[0,je*We,-ue*We,je,-ue,je],[2*ue-V,0],[-ue*We,0,-ue,-je*We,-ue,-je],[0,2*je-te],[0,-je*We,ue*We,-je,ue,-je]],h+ue,j,[1,1],Fe,!0),this},m.__private__.ellipse=m.ellipse=function(h,j,V,te,ue){if(isNaN(h)||isNaN(j)||isNaN(V)||isNaN(te)||!Li(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*V,Fe=4/3*(Math.SQRT2-1)*te;return al(h+V,j),Ns(h+V,j-Fe,h+je,j-te,h,j-te),Ns(h-je,j-te,h-V,j-Fe,h-V,j),Ns(h-V,j+Fe,h-je,j+te,h,j+te),Ns(h+je,j+te,h+V,j+Fe,h+V,j),sl(ue),this},m.__private__.circle=m.circle=function(h,j,V,te){if(isNaN(h)||isNaN(j)||isNaN(V)||!Li(te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(h,j,V,V,te)},m.setFont=function(h,j,V){return V&&(j=ae(j,V)),ht=yt(h,j,{disableWarning:!1}),this};var Vd=m.__private__.getFont=m.getFont=function(){return R[yt.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var h,j,V={};for(h in Ce)if(Ce.hasOwnProperty(h))for(j in V[h]=[],Ce[h])Ce[h].hasOwnProperty(j)&&V[h].push(j);return V},m.addFont=function(h,j,V,te,ue){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(V=ae(V,te)),ue=ue||"Identity-H",vs.call(this,h,j,V,ue)};var ma,ol=e.lineWidth||.200025,Ka=m.__private__.getLineWidth=m.getLineWidth=function(){return ol},_c=m.__private__.setLineWidth=m.setLineWidth=function(h){return ol=h,W(G(F(h))+" w"),this};m.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(h,j){if(h=h||[],j=j||0,isNaN(j)||!Array.isArray(h))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return h=h.map(function(V){return G(F(V))}).join(" "),j=G(F(j)),W("["+h+"] "+j+" d"),this};var Ic=m.__private__.getLineHeight=m.getLineHeight=function(){return Me*ma};m.__private__.getLineHeight=m.getLineHeight=function(){return Me*ma};var Fc=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(h){return typeof(h=h||1.15)=="number"&&(ma=h),this},Ec=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return ma};Fc(e.lineHeight);var Ai=m.__private__.getHorizontalCoordinate=function(h){return F(h)},Ji=m.__private__.getVerticalCoordinate=function(h){return A===N.ADVANCED?h:qe[B].mediaBox.topRightY-qe[B].mediaBox.bottomLeftY-F(h)},Wd=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(h){return G(Ai(h))},bs=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(h){return G(Ji(h))},li=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return _r(li)},m.__private__.setStrokeColor=m.setDrawColor=function(h,j,V,te){return li=hr({ch1:h,ch2:j,ch3:V,ch4:te,pdfColorType:"draw",precision:2}),W(li),this};var ll=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return _r(ll)},m.__private__.setFillColor=m.setFillColor=function(h,j,V,te){return ll=hr({ch1:h,ch2:j,ch3:V,ch4:te,pdfColorType:"fill",precision:2}),W(ll),this};var ga=e.textColor||"0 g",Gd=m.__private__.getTextColor=m.getTextColor=function(){return _r(ga)};m.__private__.setTextColor=m.setTextColor=function(h,j,V,te){return ga=hr({ch1:h,ch2:j,ch3:V,ch4:te,pdfColorType:"text",precision:3}),this};var Qa=e.charSpace,Jd=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Qa||0)};m.__private__.setCharSpace=m.setCharSpace=function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qa=h,this};var cl=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(h){var j=m.CapJoinStyles[h];if(j===void 0)throw new Error("Line cap style of '"+h+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cl=j,W(j+" J"),this};var ul=0;m.__private__.setLineJoin=m.setLineJoin=function(h){var j=m.CapJoinStyles[h];if(j===void 0)throw new Error("Line join style of '"+h+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ul=j,W(j+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(h){if(h=h||0,isNaN(h))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(G(F(h))+" M"),this},m.GState=vd,m.setGState=function(h){(h=typeof h=="string"?At[Gt[h]]:Dc(null,h)).equals(Ot)||(W("/"+h.id+" gs"),Ot=h)};var Dc=function(h,j){if(!h||!Gt[h]){var V=!1;for(var te in At)if(At.hasOwnProperty(te)&&At[te].equals(j)){V=!0;break}if(V)j=At[te];else{var ue="GS"+(Object.keys(At).length+1).toString(10);At[ue]=j,j.id=ue}return h&&(Gt[h]=j.id),gt.publish("addGState",j),j}};m.addGState=function(h,j){return Dc(h,j),this},m.saveGraphicsState=function(){return W("q"),He.push({key:ht,size:Me,color:ga}),this},m.restoreGraphicsState=function(){W("Q");var h=He.pop();return ht=h.key,Me=h.size,ga=h.color,Ot=null,this},m.setCurrentTransformationMatrix=function(h){return W(h.toString()+" cm"),this},m.comment=function(h){return W("#"+h),this};var Xa=function(h,j){var V=h||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return V},set:function(je){isNaN(je)||(V=parseFloat(je))}});var te=j||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return te},set:function(je){isNaN(je)||(te=parseFloat(je))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(je){ue=je.toString()}}),this},dl=function(h,j,V,te){Xa.call(this,h,j),this.type="rect";var ue=V||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Fe){isNaN(Fe)||(ue=parseFloat(Fe))}});var je=te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(Fe){isNaN(Fe)||(je=parseFloat(Fe))}}),this},hl=function(){this.page=Bt,this.currentPage=B,this.pages=Ie.slice(0),this.pagesContext=qe.slice(0),this.x=Mt,this.y=vt,this.matrix=Wt,this.width=xa(B),this.height=js(B),this.outputDestination=ee,this.id="",this.objectNumber=-1};hl.prototype.restore=function(){Bt=this.page,B=this.currentPage,qe=this.pagesContext,Ie=this.pages,Mt=this.x,vt=this.y,Wt=this.matrix,fl(B,this.width),pl(B,this.height),ee=this.outputDestination};var zc=function(h,j,V,te,ue){Ar.push(new hl),Bt=B=0,Ie=[],Mt=h,vt=j,Wt=ue,ys([V,te])},Yd=function(h){if($r[h])Ar.pop().restore();else{var j=new hl,V="Xo"+(Object.keys(Kt).length+1).toString(10);j.id=V,$r[h]=V,Kt[V]=j,gt.publish("addFormObject",j),Ar.pop().restore()}};for(var Za in m.beginFormObject=function(h,j,V,te,ue){return zc(h,j,V,te,ue),this},m.endFormObject=function(h){return Yd(h),this},m.doFormObject=function(h,j){var V=Kt[$r[h]];return W("q"),W(j.toString()+" cm"),W("/"+V.id+" Do"),W("Q"),this},m.getFormObject=function(h){var j=Kt[$r[h]];return{x:j.x,y:j.y,width:j.width,height:j.height,matrix:j.matrix}},m.save=function(h,j){return h=h||"generated.pdf",(j=j||{}).returnPromise=j.returnPromise||!1,j.returnPromise===!1?(Aa(ir(Et()),h),typeof Aa.unload=="function"&&pt.setTimeout&&setTimeout(Aa.unload,911),this):new Promise(function(V,te){try{var ue=Aa(ir(Et()),h);typeof Aa.unload=="function"&&pt.setTimeout&&setTimeout(Aa.unload,911),V(ue)}catch(je){te(je.message)}})},ft.API)ft.API.hasOwnProperty(Za)&&(Za==="events"&&ft.API.events.length?function(h,j){var V,te,ue;for(ue=j.length-1;ue!==-1;ue--)V=j[ue][0],te=j[ue][1],h.subscribe.apply(h,[V].concat(typeof te=="function"?[te]:te))}(gt,ft.API.events):m[Za]=ft.API[Za]);var xa=m.getPageWidth=function(h){return(qe[h=h||B].mediaBox.topRightX-qe[h].mediaBox.bottomLeftX)/Re},fl=m.setPageWidth=function(h,j){qe[h].mediaBox.topRightX=j*Re+qe[h].mediaBox.bottomLeftX},js=m.getPageHeight=function(h){return(qe[h=h||B].mediaBox.topRightY-qe[h].mediaBox.bottomLeftY)/Re},pl=m.setPageHeight=function(h,j){qe[h].mediaBox.topRightY=j*Re+qe[h].mediaBox.bottomLeftY};return m.internal={pdfEscape:Bn,getStyle:Cc,getFont:Vd,getFontSize:Oe,getCharSpace:Jd,getTextColor:Gd,getLineHeight:Ic,getLineHeightFactor:Ec,getLineWidth:Ka,write:Ve,getHorizontalCoordinate:Ai,getVerticalCoordinate:Ji,getCoordinateString:Wd,getVerticalCoordinateString:bs,collections:{},newObject:gn,newAdditionalObject:fs,newObjectDeferred:rn,newObjectDeferredBegin:rr,getFilters:Wr,putStream:fr,events:gt,scaleFactor:Re,pageSize:{getWidth:function(){return xa(B)},setWidth:function(h){fl(B,h)},getHeight:function(){return js(B)},setHeight:function(h){pl(B,h)}},encryptionOptions:g,encryption:Wn,getEncryptor:Rd,output:ws,getNumberOfPages:ze,pages:Ie,out:W,f2:$,f3:C,getPageInfo:Ac,getPageInfoByObjId:xt,getCurrentPageInfo:Bd,getPDFVersion:k,Point:Xa,Rectangle:dl,Matrix:at,hasHotfix:Ja},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return xa(B)},set:function(h){fl(B,h)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return js(B)},set:function(h){pl(B,h)},enumerable:!0,configurable:!0}),Ga.call(m,Ee),ht="F1",fa(s,n),gt.publish("initialized"),m}vo.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},vo.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vo.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},vo.prototype.processOwnerPassword=function(e,t){return Zf(Xf(t).substr(0,5),e)},vo.prototype.encryptor=function(e,t){var n=Xf(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Zf(n,r)}},vd.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||$t(e)!==$t(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},ft.API={events:[]},ft.version="3.0.1";var pn=ft.API,n0=1,$a=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},go=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nt=function(e){return e.toFixed(2)},Ms=function(e){return e.toFixed(5)};pn.__acroform__={};var Lr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},r1=function(e){return e*n0},Fi=function(e){var t=new Vg,n=Xe.internal.getHeight(e)||0,r=Xe.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Nt(r)),Number(Nt(n))],t},e4=pn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},t4=pn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},n4=pn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},wn=pn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return n4(e,t-1)},Nn=pn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return e4(e,t-1)},bn=pn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return t4(e,t-1)},r4=pn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],a=e[1],l=e[2],u=e[3],d={};return d.lowerLeft_X=n(s)||0,d.lowerLeft_Y=r(a+u)||0,d.upperRight_X=n(s+l)||0,d.upperRight_Y=r(a)||0,[Number(Nt(d.lowerLeft_X)),Number(Nt(d.lowerLeft_Y)),Number(Nt(d.upperRight_X)),Number(Nt(d.upperRight_Y))]},i4=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=ep(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Nt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Fi(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},ep=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(C){return C.split(`
`)}):s.map(function(C){return[C]});var a=n,l=Xe.internal.getHeight(e)||0;l=l<0?-l:l;var u=Xe.internal.getWidth(e)||0;u=u<0?-u:u;var d=function(C,F,J){if(C+1<s.length){var Q=F+" "+s[C+1][0];return Au(Q,e,J).width<=u-4}return!1};a++;e:for(;a>0;){t="",a--;var p,g,x=Au("3",e,a).height,w=e.multiline?l-a:(l-x)/2,m=w+=2,_=0,k=0,E=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Au(t,e,a=12).width+", FieldWidth:"+u+`
`;break}for(var y="",N=0,A=0;A<s.length;A++)if(s.hasOwnProperty(A)){var U=!1;if(s[A].length!==1&&E!==s[A].length-1){if((x+2)*(N+2)+2>l)continue e;y+=s[A][E],U=!0,k=A,A--}else{y=(y+=s[A][E]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var X=parseInt(A),ae=d(X,y,a),G=A>=s.length-1;if(ae&&!G){y+=" ",E=0;continue}if(ae||G){if(G)k=X;else if(e.multiline&&(x+2)*(N+2)+2>l)continue e}else{if(!e.multiline||(x+2)*(N+2)+2>l)continue e;k=X}}for(var S="",z=_;z<=k;z++){var $=s[z];if(e.multiline){if(z===k){S+=$[E]+" ",E=(E+1)%$.length;continue}if(z===_){S+=$[$.length-1]+" ";continue}}S+=$[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,g=Au(S,e,a).width,e.textAlign){case"right":p=u-g-2;break;case"center":p=(u-g)/2;break;case"left":default:p=2}t+=Nt(p)+" "+Nt(m)+` Td
`,t+="("+$a(S)+`) Tj
`,t+=-Nt(p)+` 0 Td
`,m=-(a+2),g=0,_=U?k:k+1,N++,y=""}break}return r.text=t,r.fontSize=a,r},Au=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},s4={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},a4=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},o4=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),$t(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[r]}},l4=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ji.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(s4)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");n0=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Wg,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var a=r[s];a.objId=void 0,a.hasAnnotation&&a4(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,s){var a=!r;for(var l in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var u=r[l],d=[],p=u.Rect;if(u.Rect&&(u.Rect=r4(u.Rect,s)),s.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Xe.createDefaultAppearanceStream(u),$t(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=p,u.hasAppearanceStream&&!u.appearanceStreamContent){var g=i4(u);d.push({key:"AP",value:"<</N "+g+">>"}),s.internal.acroformPlugin.xForms.push(g)}if(u.appearanceStreamContent){var x="";for(var w in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(w)){var m=u.appearanceStreamContent[w];if(x+="/"+w+" ",x+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var l in m)if(m.hasOwnProperty(l)){var _=m[l];typeof _=="function"&&(_=_.call(s,u)),x+="/"+l+" "+_+" ",s.internal.acroformPlugin.xForms.indexOf(_)>=0||s.internal.acroformPlugin.xForms.push(_)}}else typeof(_=m)=="function"&&(_=_.call(s,u)),x+="/"+l+" "+_,s.internal.acroformPlugin.xForms.indexOf(_)>=0||s.internal.acroformPlugin.xForms.push(_);x+=">>"}d.push({key:"AP",value:`<<
`+x+">>"})}s.internal.putStream({additionalKeyValues:d,objectId:u.objId}),s.internal.out("endobj")}a&&o4(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Hg=pn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(l){return l};if(Array.isArray(e)){for(var s="[",a=0;a<e.length;a++)switch(a!==0&&(s+=" "),$t(e[a])){case"boolean":case"number":case"object":s+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),s+="("+$a(r(e[a].toString()))+")"):s+=e[a].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Gh=function(e,t,n){var r=function(s){return s};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+$a(r(e))+")"},Mi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Mi.prototype.toString=function(){return this.objId+" 0 R"},Mi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Mi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:Hg(s,this.objId,this.scope)}):s instanceof Mi?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:r,value:s}))}return e};var Vg=function(){Mi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Lr(Vg,Mi);var Wg=function(){Mi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+$a(n(e))+")"}},set:function(n){e=n}})};Lr(Wg,Mi);var ji=function e(){Mi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!wn(t,3)},set:function(y){y?this.F=Nn(t,3):this.F=bn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof yd)return;a="FieldObject"+e.FieldNum++}var y=function(N){return N};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+$a(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/n0:p},set:function(y){p=y}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){g=y}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof yd||this instanceof Da))return Gh(x,this.objId,this.scope)},set:function(y){y=y.toString(),x=y}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Mn?w:Gh(w,this.objId,this.scope)},set:function(y){y=y.toString(),w=this instanceof Mn?y:y.substr(0,1)==="("?go(y.substr(1,y.length-2)):go(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mn?go(w.substr(1,w.length-1)):w},set:function(y){y=y.toString(),w=this instanceof Mn?"/"+y:y}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Mn?m:Gh(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=this instanceof Mn?y:y.substr(0,1)==="("?go(y.substr(1,y.length-2)):go(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mn?go(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof Mn?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(y){y=!!y,k=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(y){_=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,1)},set:function(y){y?this.Ff=Nn(this.Ff,1):this.Ff=bn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,2)},set:function(y){y?this.Ff=Nn(this.Ff,2):this.Ff=bn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,3)},set:function(y){y?this.Ff=Nn(this.Ff,3):this.Ff=bn(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');E=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(E){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:E=2;break;case"center":case 1:E=1;break;case"left":case 0:default:E=0}}})};Lr(ji,Mi);var Bo=function(){ji.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Hg(t,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(a,l,u){u||(u=1);for(var d,p=[];d=l.exec(a);)p.push(d[u]);return p}(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,18)},set:function(n){n?this.Ff=Nn(this.Ff,18):this.Ff=bn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Nn(this.Ff,19):this.Ff=bn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,20)},set:function(n){n?(this.Ff=Nn(this.Ff,20),t.sort()):this.Ff=bn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,22)},set:function(n){n?this.Ff=Nn(this.Ff,22):this.Ff=bn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,23)},set:function(n){n?this.Ff=Nn(this.Ff,23):this.Ff=bn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,27)},set:function(n){n?this.Ff=Nn(this.Ff,27):this.Ff=bn(this.Ff,27)}}),this.hasAppearanceStream=!1};Lr(Bo,ji);var qo=function(){Bo.call(this),this.fontName="helvetica",this.combo=!1};Lr(qo,Bo);var Uo=function(){qo.call(this),this.combo=!0};Lr(Uo,qo);var $u=function(){Uo.call(this),this.edit=!0};Lr($u,Uo);var Mn=function(){ji.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,15)},set:function(n){n?this.Ff=Nn(this.Ff,15):this.Ff=bn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,16)},set:function(n){n?this.Ff=Nn(this.Ff,16):this.Ff=bn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,17)},set:function(n){n?this.Ff=Nn(this.Ff,17):this.Ff=bn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,26)},set:function(n){n?this.Ff=Nn(this.Ff,26):this.Ff=bn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+$a(n(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){$t(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Lr(Mn,ji);var Hu=function(){Mn.call(this),this.pushButton=!0};Lr(Hu,Mn);var $o=function(){Mn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Lr($o,Mn);var yd=function(){var e,t;ji.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(u){return u};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),r)l.push("/"+a+" ("+$a(s(r[a]))+")");return l.push(">>"),l.join(`
`)},set:function(s){$t(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Lr(yd,ji),$o.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},$o.prototype.createOption=function(e){var t=new yd;return t.Parent=this,t.optionName=e,this.Kids.push(t),c4.call(this.scope,t),t};var Vu=function(){Mn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xe.CheckBox.createAppearanceStream()};Lr(Vu,Mn);var Da=function(){ji.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,13)},set:function(t){t?this.Ff=Nn(this.Ff,13):this.Ff=bn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,21)},set:function(t){t?this.Ff=Nn(this.Ff,21):this.Ff=bn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,23)},set:function(t){t?this.Ff=Nn(this.Ff,23):this.Ff=bn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,24)},set:function(t){t?this.Ff=Nn(this.Ff,24):this.Ff=bn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,25)},set:function(t){t?this.Ff=Nn(this.Ff,25):this.Ff=bn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,26)},set:function(t){t?this.Ff=Nn(this.Ff,26):this.Ff=bn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Lr(Da,ji);var Wu=function(){Da.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,14)},set:function(e){e?this.Ff=Nn(this.Ff,14):this.Ff=bn(this.Ff,14)}}),this.password=!0};Lr(Wu,Da);var Xe={CheckBox:{createAppearanceStream:function(){return{N:{On:Xe.CheckBox.YesNormal},D:{On:Xe.CheckBox.YesPushDown,Off:Xe.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Fi(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=ep(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Nt(Xe.internal.getWidth(e))+" "+Nt(Xe.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Nt(a.fontSize)+" Tf "+s),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Fi(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],a=Xe.internal.getHeight(e),l=Xe.internal.getWidth(e),u=ep(e,e.caption);return s.push("1 g"),s.push("0 0 "+Nt(l)+" "+Nt(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Nt(l-1)+" "+Nt(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+Nt(u.fontSize)+" Tf "+r),s.push(u.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Fi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Nt(Xe.internal.getWidth(e))+" "+Nt(Xe.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Xe.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Xe.RadioButton.Circle.YesNormal,t.D[e]=Xe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Fi(e);t.scope=e.scope;var n=[],r=Xe.internal.getWidth(e)<=Xe.internal.getHeight(e)?Xe.internal.getWidth(e)/4:Xe.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Xe.internal.Bezier_C,a=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ms(Xe.internal.getWidth(e)/2)+" "+Ms(Xe.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Fi(e);t.scope=e.scope;var n=[],r=Xe.internal.getWidth(e)<=Xe.internal.getHeight(e)?Xe.internal.getWidth(e)/4:Xe.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*Xe.internal.Bezier_C).toFixed(5)),l=Number((r*Xe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ms(Xe.internal.getWidth(e)/2)+" "+Ms(Xe.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ms(Xe.internal.getWidth(e)/2)+" "+Ms(Xe.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),n.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),n.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),n.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Fi(e);t.scope=e.scope;var n=[],r=Xe.internal.getWidth(e)<=Xe.internal.getHeight(e)?Xe.internal.getWidth(e)/4:Xe.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*Xe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ms(Xe.internal.getWidth(e)/2)+" "+Ms(Xe.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Xe.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Xe.RadioButton.Cross.YesNormal,t.D[e]=Xe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Fi(e);t.scope=e.scope;var n=[],r=Xe.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Nt(Xe.internal.getWidth(e)-2)+" "+Nt(Xe.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Nt(r.x1.x)+" "+Nt(r.x1.y)+" m"),n.push(Nt(r.x2.x)+" "+Nt(r.x2.y)+" l"),n.push(Nt(r.x4.x)+" "+Nt(r.x4.y)+" m"),n.push(Nt(r.x3.x)+" "+Nt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Fi(e);t.scope=e.scope;var n=Xe.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Nt(Xe.internal.getWidth(e))+" "+Nt(Xe.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Nt(Xe.internal.getWidth(e)-2)+" "+Nt(Xe.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Nt(n.x1.x)+" "+Nt(n.x1.y)+" m"),r.push(Nt(n.x2.x)+" "+Nt(n.x2.y)+" l"),r.push(Nt(n.x4.x)+" "+Nt(n.x4.y)+" m"),r.push(Nt(n.x3.x)+" "+Nt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Fi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Nt(Xe.internal.getWidth(e))+" "+Nt(Xe.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Xe.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Xe.internal.getWidth(e),n=Xe.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Xe.internal.getWidth=function(e){var t=0;return $t(e)==="object"&&(t=r1(e.Rect[2])),t},Xe.internal.getHeight=function(e){var t=0;return $t(e)==="object"&&(t=r1(e.Rect[3])),t};var c4=pn.addField=function(e){if(l4(this,e),!(e instanceof ji))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};pn.AcroFormChoiceField=Bo,pn.AcroFormListBox=qo,pn.AcroFormComboBox=Uo,pn.AcroFormEditBox=$u,pn.AcroFormButton=Mn,pn.AcroFormPushButton=Hu,pn.AcroFormRadioButton=$o,pn.AcroFormCheckBox=Vu,pn.AcroFormTextField=Da,pn.AcroFormPasswordField=Wu,pn.AcroFormAppearance=Xe,pn.AcroForm={ChoiceField:Bo,ListBox:qo,ComboBox:Uo,EditBox:$u,Button:Mn,PushButton:Hu,RadioButton:$o,CheckBox:Vu,TextField:Da,PasswordField:Wu,Appearance:Xe},ft.AcroForm={ChoiceField:Bo,ListBox:qo,ComboBox:Uo,EditBox:$u,Button:Mn,PushButton:Hu,RadioButton:$o,CheckBox:Vu,TextField:Da,PasswordField:Wu,Appearance:Xe};function Gg(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(C,F){var J,Q,oe,ce,me,M=t;if((F=F||t)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(ae(C))for(me in n)for(oe=n[me],J=0;J<oe.length;J+=1){for(ce=!0,Q=0;Q<oe[J].length;Q+=1)if(oe[J][Q]!==void 0&&oe[J][Q]!==C[Q]){ce=!1;break}if(ce===!0){M=me;break}}else for(me in n)for(oe=n[me],J=0;J<oe.length;J+=1){for(ce=!0,Q=0;Q<oe[J].length;Q+=1)if(oe[J][Q]!==void 0&&oe[J][Q]!==C.charCodeAt(Q)){ce=!1;break}if(ce===!0){M=me;break}}return M===t&&F!==t&&(M=F),M},s=function C(F){for(var J=this.internal.write,Q=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:F.width}),ce.push({key:"Height",value:F.height}),F.colorSpace===E.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===E.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var me="",M=0,Y=F.transparency.length;M<Y;M++)me+=F.transparency[M]+" "+F.transparency[M]+" ";ce.push({key:"Mask",value:"["+me+"]"})}F.sMask!==void 0&&ce.push({key:"SMask",value:F.objectId+1+" 0 R"});var K=F.filter!==void 0?["/"+F.filter]:void 0;if(Q({data:F.data,additionalKeyValues:ce,alreadyAppliedFilters:K,objectId:F.objectId}),J("endobj"),"sMask"in F&&F.sMask!==void 0){var Se="/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,L={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:Se,data:F.sMask};"filter"in F&&(L.filter=F.filter),C.call(this,L)}if(F.colorSpace===E.INDEXED){var B=this.internal.newObject();Q({data:S(new Uint8Array(F.palette)),objectId:B}),J("endobj")}},a=function(){var C=this.internal.collections.addImage_images;for(var F in C)s.call(this,C[F])},l=function(){var C,F=this.internal.collections.addImage_images,J=this.internal.write;for(var Q in F)J("/I"+(C=F[Q]).index,C.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var C=this.internal.collections.addImage_images;return u.call(this),C},p=function(){return Object.keys(this.internal.collections.addImage_images).length},g=function(C){return typeof e["process"+C.toUpperCase()]=="function"},x=function(C){return $t(C)==="object"&&C.nodeType===1},w=function(C,F){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var J=""+C.getAttribute("src");if(J.indexOf("data:image/")===0)return rc(unescape(J).split("base64,").pop());var Q=e.loadFile(J,!0);if(Q!==void 0)return Q}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var oe;switch(F){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;case"JPEG":case"JPG":default:oe="image/jpeg"}return rc(C.toDataURL(oe,1).split("base64,").pop())}},m=function(C){var F=this.internal.collections.addImage_images;if(F){for(var J in F)if(C===F[J].alias)return F[J]}},_=function(C,F,J){return C||F||(C=-96,F=-96),C<0&&(C=-1*J.width*72/C/this.internal.scaleFactor),F<0&&(F=-1*J.height*72/F/this.internal.scaleFactor),C===0&&(C=F*J.width/J.height),F===0&&(F=C*J.height/J.width),[C,F]},k=function(C,F,J,Q,oe,ce){var me=_.call(this,J,Q,oe),M=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,K=d.call(this);if(J=me[0],Q=me[1],K[oe.index]=oe,ce){ce*=Math.PI/180;var Se=Math.cos(ce),L=Math.sin(ce),B=function(Z){return Z.toFixed(4)},H=[B(Se),B(L),B(-1*L),B(Se),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,M(C),Y(F+Q),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([M(J),"0","0",M(Q),"0","0","cm"].join(" "))):this.internal.write([M(J),"0","0",M(Q),M(C),Y(F+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},E=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=e.__addimage__.sHashCode=function(C){var F,J,Q=0;if(typeof C=="string")for(J=C.length,F=0;F<J;F++)Q=(Q<<5)-Q+C.charCodeAt(F),Q|=0;else if(ae(C))for(J=C.byteLength/2,F=0;F<J;F++)Q=(Q<<5)-Q+C[F],Q|=0;return Q},A=e.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var F=!0;return C.length===0&&(F=!1),C.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(F=!1),F},U=e.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var F=C.indexOf(",");return F<0?null:C.substring(0,F).trim().endsWith("base64")?C.substring(F+1):null},X=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(C){return X()&&C instanceof ArrayBuffer};var ae=e.__addimage__.isArrayBufferView=function(C){return X()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},G=e.__addimage__.binaryStringToUint8Array=function(C){for(var F=C.length,J=new Uint8Array(F),Q=0;Q<F;Q++)J[Q]=C.charCodeAt(Q);return J},S=e.__addimage__.arrayBufferToBinaryString=function(C){for(var F="",J=ae(C)?C:new Uint8Array(C),Q=0;Q<J.length;Q+=8192)F+=String.fromCharCode.apply(null,J.subarray(Q,Q+8192));return F};e.addImage=function(){var C,F,J,Q,oe,ce,me,M,Y;if(typeof arguments[1]=="number"?(F=t,J=arguments[1],Q=arguments[2],oe=arguments[3],ce=arguments[4],me=arguments[5],M=arguments[6],Y=arguments[7]):(F=arguments[1],J=arguments[2],Q=arguments[3],oe=arguments[4],ce=arguments[5],me=arguments[6],M=arguments[7],Y=arguments[8]),$t(C=arguments[0])==="object"&&!x(C)&&"imageData"in C){var K=C;C=K.imageData,F=K.format||F||t,J=K.x||J||0,Q=K.y||Q||0,oe=K.w||K.width||oe,ce=K.h||K.height||ce,me=K.alias||me,M=K.compression||M,Y=K.rotation||K.angle||Y}var Se=this.internal.getFilters();if(M===void 0&&Se.indexOf("FlateEncode")!==-1&&(M="SLOW"),isNaN(J)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var L=z.call(this,C,F,me,M);return k.call(this,J,Q,oe,ce,L,Y),this};var z=function(C,F,J,Q){var oe,ce,me;if(typeof C=="string"&&r(C)===t){C=unescape(C);var M=$(C,!1);(M!==""||(M=e.loadFile(C,!0))!==void 0)&&(C=M)}if(x(C)&&(C=w(C,F)),F=r(C,F),!g(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((me=J)==null||me.length===0)&&(J=function(Y){return typeof Y=="string"||ae(Y)?N(Y):ae(Y.data)?N(Y.data):null}(C)),(oe=m.call(this,J))||(X()&&(C instanceof Uint8Array||F==="RGBA"||(ce=C,C=G(C))),oe=this["process"+F.toUpperCase()](C,p.call(this),J,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in e.image_compression?Y:y.NONE}(Q),ce)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},$=e.__addimage__.convertBase64ToBinaryString=function(C,F){F=typeof F!="boolean"||F;var J,Q="";if(typeof C=="string"){var oe;J=(oe=U(C))!==null&&oe!==void 0?oe:C;try{Q=rc(J)}catch(ce){if(F)throw A(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Q};e.getImageProperties=function(C){var F,J,Q="";if(x(C)&&(C=w(C)),typeof C=="string"&&r(C)===t&&((Q=$(C,!1))===""&&(Q=e.loadFile(C)||""),C=Q),J=r(C),!g(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(!X()||C instanceof Uint8Array||(C=G(C)),!(F=this["process"+J.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=J,F}})(ft.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};ft.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,s,a,l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(n.objId),p=n.pageContext.annotations,g=!1,x=0;x<p.length&&!g;x++)switch((r=p[x]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var w=0;w<p.length;w++){r=p[w];var m=this.internal.pdfEscape,_=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(k.objId),N=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+m(y(r.contents))+")",a+=" /Popup "+E.objId+" 0 R",a+=" /P "+d.objId+" 0 R",a+=" /T ("+m(y(N))+") >>",k.content=a;var A=k.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+l(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+A,r.open&&(a+=" /Open true"),a+=" >>",E.content=a,this.internal.write(k.objId,"0 R",E.objId,"0 R");break;case"freetext":s="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var U=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+m(_(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var X=this.annotations._nameMap[r.options.name];r.options.pageNumber=X.page,r.options.top=X.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+m(_(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var ae=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+ae+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,s,a,l){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(n),y:p(r),w:d(n+s),h:p(r+a)},options:l,type:"link"})},e.textWithLink=function(n,r,s,a){var l,u,d=this.getTextWidth(n),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){u=a.maxWidth;var g=this.splitTextToSize(n,u).length;l=Math.ceil(p*g)}else u=d,l=p;return this.text(n,r,s,a),s+=.2*p,a.align==="center"&&(r-=d/2),a.align==="right"&&(r-=d),this.link(r,s-p,u,l,a),d},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ft.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(k){return t[k.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},u=e.__arabicParser__.isArabicEndLetter=function(k){return l(k)&&a(k)&&t[k.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(k){return l(k)&&s.indexOf(k.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return l(k)&&a(k)&&t[k.charCodeAt(0)].length>=1};var p=e.__arabicParser__.arabicLetterHasFinalForm=function(k){return l(k)&&a(k)&&t[k.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(k){return l(k)&&a(k)&&t[k.charCodeAt(0)].length>=3};var g=e.__arabicParser__.arabicLetterHasMedialForm=function(k){return l(k)&&a(k)&&t[k.charCodeAt(0)].length==4},x=e.__arabicParser__.resolveLigatures=function(k){var E=0,y=n,N="",A=0;for(E=0;E<k.length;E+=1)y[k.charCodeAt(E)]!==void 0?(A++,typeof(y=y[k.charCodeAt(E)])=="number"&&(N+=String.fromCharCode(y),y=n,A=0),E===k.length-1&&(y=n,N+=k.charAt(E-(A-1)),E-=A-1,A=0)):(y=n,N+=k.charAt(E-A),E-=A,A=0);return N};e.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&r[k.charCodeAt(0)]!==void 0};var w=e.__arabicParser__.getCorrectForm=function(k,E,y){return l(k)?a(k)===!1?-1:!p(k)||!l(E)&&!l(y)||!l(y)&&u(E)||u(k)&&!l(E)||u(k)&&d(E)||u(k)&&u(E)?0:g(k)&&l(E)&&!u(E)&&l(y)&&p(y)?3:u(k)||!l(y)?1:2:-1},m=function(k){var E=0,y=0,N=0,A="",U="",X="",ae=(k=k||"").split("\\s+"),G=[];for(E=0;E<ae.length;E+=1){for(G.push(""),y=0;y<ae[E].length;y+=1)A=ae[E][y],U=ae[E][y-1],X=ae[E][y+1],l(A)?(N=w(A,U,X),G[E]+=N!==-1?String.fromCharCode(t[A.charCodeAt(0)][N]):A):G[E]+=A;G[E]=x(G[E])}return G.join(" ")},_=e.__arabicParser__.processArabic=e.processArabic=function(){var k,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(E)){var N=0;for(y=[],N=0;N<E.length;N+=1)Array.isArray(E[N])?y.push([m(E[N][0]),E[N][1],E[N][2]]):y.push([m(E[N])]);k=y}else k=m(E);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};e.events.push(["preProcessText",_])}(ft.API),ft.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(u){n=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(u){s=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(u){a=u}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(u){l=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ft.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(k){d=k}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(k){p=k}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(k){g=k}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(k){x=k}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(k){w=k}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(k){_=k}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return r.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,p){r.call(this);var g=(p=p||{}).fontSize||this.getFontSize(),x=p.font||this.getFont(),w=p.scaleFactor||this.internal.scaleFactor,m=0,_=0,k=0,E=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var y=p.maxWidth;y>0?typeof d=="string"?d=this.splitTextToSize(d,y):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(A,U){return A.concat(E.splitTextToSize(U,y))},[])):d=Array.isArray(d)?d:[d];for(var N=0;N<d.length;N++)m<(k=this.getStringUnitWidth(d[N],{font:x})*g)&&(m=k);return m!==0&&(_=d.length),{w:m/=w,h:Math.max((_*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/w,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var d;d=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var p=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,x=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===d.lineNumber?(d.x=(p.x||0)+(p.width||0),d.y=p.y||0):p.y+p.height+d.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=x.top,m&&w&&(this.printHeaderRow(d.lineNumber,!0),d.y+=w[0].height)):d.y=p.y+p.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,n===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-g,d.y+g,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+g,{align:"center",baseline:"top",maxWidth:d.width-g-g}):this.text(d.text,d.x+g,d.y+g,{align:"left",baseline:"top",maxWidth:d.width-g-g})),this.internal.__cell__.lastCell=d,this};e.table=function(d,p,g,x,w){if(r.call(this),!g)throw new Error("No data for PDF table.");var m,_,k,E,y=[],N=[],A=[],U={},X={},ae=[],G=[],S=(w=w||{}).autoSize||!1,z=w.printHeaders!==!1,$=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,C=w.margins||Object.assign({width:this.getPageWidth()},t),F=typeof w.padding=="number"?w.padding:3,J=w.headerBackgroundColor||"#c8c8c8",Q=w.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=Q,this.setFontSize($),x==null)N=y=Object.keys(g[0]),A=y.map(function(){return"left"});else if(Array.isArray(x)&&$t(x[0])==="object")for(y=x.map(function(K){return K.name}),N=x.map(function(K){return K.prompt||K.name||""}),A=x.map(function(K){return K.align||"left"}),m=0;m<x.length;m+=1)X[x[m].name]=x[m].width*(19.049976/25.4);else Array.isArray(x)&&typeof x[0]=="string"&&(N=y=x,A=y.map(function(){return"left"}));if(S||Array.isArray(x)&&typeof x[0]=="string")for(m=0;m<y.length;m+=1){for(U[E=y[m]]=g.map(function(K){return K[E]}),this.setFont(void 0,"bold"),ae.push(this.getTextDimensions(N[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=U[E],this.setFont(void 0,"normal"),k=0;k<_.length;k+=1)ae.push(this.getTextDimensions(_[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[E]=Math.max.apply(null,ae)+F+F,ae=[]}if(z){var oe={};for(m=0;m<y.length;m+=1)oe[y[m]]={},oe[y[m]].text=N[m],oe[y[m]].align=A[m];var ce=u.call(this,oe,X);G=y.map(function(K){return new a(d,p,X[K],ce,oe[K].text,void 0,oe[K].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var me=x.reduce(function(K,Se){return K[Se.name]=Se.align,K},{});for(m=0;m<g.length;m+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:m,data:g[m]},this);var M=u.call(this,g[m],X);for(k=0;k<y.length;k+=1){var Y=g[m][y[k]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:m,col:k,data:Y},this),l.call(this,new a(d,p,X[y[k]],M,Y,m+2,me[y[k]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=p,this};var u=function(d,p){var g=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(d).map(function(m){var _=d[m];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,p[m]-g-g)},this).map(function(m){return this.getLineHeightFactor()*m.length*x/w+g+g},this).reduce(function(m,_){return Math.max(m,_)},0)};e.setTableHeaderRow=function(d){r.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,p){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){g=this.internal.__cell__.tableHeaderRow[m].clone(),p&&(g.y=this.internal.__cell__.margins.top||0,w.push(g)),g.lineNumber=d;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,g),this.setTextColor(_)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),n=!1}}(ft.API);var Jg={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Yg=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],tp=Gg(Yg),Kg=[100,200,300,400,500,600,700,800,900],u4=Gg(Kg);function np(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return Jg[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(a){return typeof tp[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function i1(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var d4={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},s1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function a1(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function h4(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},d4,n.genericFontFamilies||{}),a=null,l=null,u=0;u<t.length;++u)if(s[(a=np(t[u])).family]&&(a.family=s[a.family]),e.hasOwnProperty(a.family)){l=e[a.family];break}if(!(l=l||e[r]))throw new Error("Could not find a font-family for the rule '"+a1(a)+"' and default family '"+r+"'.");if(l=function(d,p){if(p[d])return p[d];var g=tp[d],x=g<=tp.normal?-1:1,w=i1(p,Yg,g,x);if(!w)throw new Error("Could not find a matching font-stretch value for "+d);return w}(a.stretch,l),l=function(d,p){if(p[d])return p[d];for(var g=Jg[d],x=0;x<g.length;++x)if(p[g[x]])return p[g[x]];throw new Error("Could not find a matching font-style for "+d)}(a.style,l),!(l=function(d,p){if(p[d])return p[d];if(d===400&&p[500])return p[500];if(d===500&&p[400])return p[400];var g=u4[d],x=i1(p,Kg,g,d<400?-1:1);if(!x)throw new Error("Could not find a matching font-weight for value "+d);return x}(a.weight,l)))throw new Error("Failed to resolve a font for the rule '"+a1(a)+"'.");return l}function o1(e){return e.trimLeft()}function f4(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function p4(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Cu,l1,c1,Jh=["times"];(function(e){var t,n,r,s,a,l,u,d,p,g=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new d,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new l,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new l,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new x(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,p=new g}]);var x=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=L;Object.defineProperty(this,"pdf",{get:function(){return B}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(de){H=!!de}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(de){Z=!!de}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(de){isNaN(de)||(re=de)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(de){isNaN(de)||(fe=de)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(de){var W;typeof de=="number"?W=[de,de,de,de]:((W=new Array(4))[0]=de[0],W[1]=de.length>=2?de[1]:W[0],W[2]=de.length>=3?de[2]:W[0],W[3]=de.length>=4?de[3]:W[1]),p.margin=W}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(de){pe=de}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(de){ve=de}});var De=[];Object.defineProperty(this,"pageBreaks",{get:function(){return De},set:function(de){De=de}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(de){de instanceof g&&(p=de)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(de){p.path=de}});var Ie=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ie},set:function(de){Ie=de}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(de){var W;W=w(de),this.ctx.fillStyle=W.style,this.ctx.isFillTransparent=W.a===0,this.ctx.fillOpacity=W.a,this.pdf.setFillColor(W.r,W.g,W.b,{a:W.a}),this.pdf.setTextColor(W.r,W.g,W.b,{a:W.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(de){var W=w(de);this.ctx.strokeStyle=W.style,this.ctx.isStrokeTransparent=W.a===0,this.ctx.strokeOpacity=W.a,W.a===0?this.pdf.setDrawColor(255,255,255):(W.a,this.pdf.setDrawColor(W.r,W.g,W.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(de){["butt","round","square"].indexOf(de)!==-1&&(this.ctx.lineCap=de,this.pdf.setLineCap(de))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(de){isNaN(de)||(this.ctx.lineWidth=de,this.pdf.setLineWidth(de))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(de){["bevel","round","miter"].indexOf(de)!==-1&&(this.ctx.lineJoin=de,this.pdf.setLineJoin(de))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(de){isNaN(de)||(this.ctx.miterLimit=de,this.pdf.setMiterLimit(de))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(de){this.ctx.textBaseline=de}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(de){["right","end","center","left","start"].indexOf(de)!==-1&&(this.ctx.textAlign=de)}});var _e=null;function ee(de,W){if(_e===null){var Ve=function(Je){var Ee=[];return Object.keys(Je).forEach(function(Me){Je[Me].forEach(function(Be){var Oe=null;switch(Be){case"bold":Oe={family:Me,weight:"bold"};break;case"italic":Oe={family:Me,style:"italic"};break;case"bolditalic":Oe={family:Me,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:Me}}Oe!==null&&(Oe.ref={name:Me,style:Be},Ee.push(Oe))})}),Ee}(de.getFontList());_e=function(Je){for(var Ee={},Me=0;Me<Je.length;++Me){var Be=np(Je[Me]),Oe=Be.family,et=Be.stretch,nt=Be.style,ct=Be.weight;Ee[Oe]=Ee[Oe]||{},Ee[Oe][et]=Ee[Oe][et]||{},Ee[Oe][et][nt]=Ee[Oe][et][nt]||{},Ee[Oe][et][nt][ct]=Be}return Ee}(Ve.concat(W))}return _e}var we=null;Object.defineProperty(this,"fontFaces",{get:function(){return we},set:function(de){_e=null,we=de}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(de){var W;if(this.ctx.font=de,(W=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(de))!==null){var Ve=W[1];W[2];var Je=W[3],Ee=W[4];W[5];var Me=W[6],Be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(Be==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:Be==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var Oe=function(rt){var ht,Re,Mt=[],vt=rt.trim();if(vt==="")return Jh;if(vt in s1)return[s1[vt]];for(;vt!=="";){switch(Re=null,ht=(vt=o1(vt)).charAt(0)){case'"':case"'":Re=f4(vt.substring(1),ht);break;default:Re=p4(vt)}if(Re===null||(Mt.push(Re[0]),(vt=o1(Re[1]))!==""&&vt.charAt(0)!==","))return Jh;vt=vt.replace(/^,/,"")}return Mt}(Me);if(this.fontFaces){var et=h4(ee(this.pdf,this.fontFaces),Oe.map(function(rt){return{family:rt,stretch:"normal",weight:Je,style:Ve}}));this.pdf.setFont(et.ref.name,et.ref.style)}else{var nt="";(Je==="bold"||parseInt(Je,10)>=700||Ve==="bold")&&(nt="bold"),Ve==="italic"&&(nt+="italic"),nt.length===0&&(nt="normal");for(var ct="",ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<Oe.length;St++){if(this.pdf.internal.getFont(Oe[St],nt,{noFallback:!0,disableWarning:!0})!==void 0){ct=Oe[St];break}if(nt==="bolditalic"&&this.pdf.internal.getFont(Oe[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=Oe[St],nt="bold";else if(this.pdf.internal.getFont(Oe[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=Oe[St],nt="normal";break}}if(ct===""){for(var Tt=0;Tt<Oe.length;Tt++)if(ut[Oe[Tt]]){ct=ut[Oe[Tt]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,nt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(de){this.ctx.globalCompositeOperation=de}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(de){this.ctx.globalAlpha=de}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(de){this.ctx.lineDashOffset=de,Se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(de){this.ctx.lineDash=de,Se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(de){this.ctx.ignoreClearRect=!!de}})};x.prototype.setLineDash=function(L){this.lineDash=L},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){U.call(this,"fill",!1)},x.prototype.stroke=function(){U.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(L,B){if(isNaN(L)||isNaN(B))throw Yt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new l(L,B));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new l(L,B)},x.prototype.closePath=function(){var L=new l(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&$t(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){L=new l(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(L.x,L.y)},x.prototype.lineTo=function(L,B){if(isNaN(L)||isNaN(B))throw Yt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new l(L,B));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new l(H.x,H.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},x.prototype.quadraticCurveTo=function(L,B,H,Z){if(isNaN(H)||isNaN(Z)||isNaN(L)||isNaN(B))throw Yt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new l(H,Z)),fe=this.ctx.transform.applyToPoint(new l(L,B));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:re.x,y:re.y}),this.ctx.lastPoint=new l(re.x,re.y)},x.prototype.bezierCurveTo=function(L,B,H,Z,re,fe){if(isNaN(re)||isNaN(fe)||isNaN(L)||isNaN(B)||isNaN(H)||isNaN(Z))throw Yt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new l(re,fe)),ve=this.ctx.transform.applyToPoint(new l(L,B)),De=this.ctx.transform.applyToPoint(new l(H,Z));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:De.x,y2:De.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new l(pe.x,pe.y)},x.prototype.arc=function(L,B,H,Z,re,fe){if(isNaN(L)||isNaN(B)||isNaN(H)||isNaN(Z)||isNaN(re))throw Yt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new l(L,B));L=pe.x,B=pe.y;var ve=this.ctx.transform.applyToPoint(new l(0,H)),De=this.ctx.transform.applyToPoint(new l(0,0));H=Math.sqrt(Math.pow(ve.x-De.x,2)+Math.pow(ve.y-De.y,2))}Math.abs(re-Z)>=2*Math.PI&&(Z=0,re=2*Math.PI),this.path.push({type:"arc",x:L,y:B,radius:H,startAngle:Z,endAngle:re,counterclockwise:fe})},x.prototype.arcTo=function(L,B,H,Z,re){throw new Error("arcTo not implemented.")},x.prototype.rect=function(L,B,H,Z){if(isNaN(L)||isNaN(B)||isNaN(H)||isNaN(Z))throw Yt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,B),this.lineTo(L+H,B),this.lineTo(L+H,B+Z),this.lineTo(L,B+Z),this.lineTo(L,B),this.lineTo(L+H,B),this.lineTo(L,B)},x.prototype.fillRect=function(L,B,H,Z){if(isNaN(L)||isNaN(B)||isNaN(H)||isNaN(Z))throw Yt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,B,H,Z),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},x.prototype.strokeRect=function(L,B,H,Z){if(isNaN(L)||isNaN(B)||isNaN(H)||isNaN(Z))throw Yt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(L,B,H,Z),this.stroke())},x.prototype.clearRect=function(L,B,H,Z){if(isNaN(L)||isNaN(B)||isNaN(H)||isNaN(Z))throw Yt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,B,H,Z))},x.prototype.save=function(L){L=typeof L!="boolean"||L;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},x.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(B),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(L){var B,H,Z,re;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))B=0,H=0,Z=0,re=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(fe!==null)B=parseInt(fe[1]),H=parseInt(fe[2]),Z=parseInt(fe[3]),re=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)B=parseInt(fe[1]),H=parseInt(fe[2]),Z=parseInt(fe[3]),re=parseFloat(fe[4]);else{if(re=1,typeof L=="string"&&L.charAt(0)!=="#"){var pe=new qg(L);L=pe.ok?pe.toHex():"#000000"}L.length===4?(B=L.substring(1,2),B+=B,H=L.substring(2,3),H+=H,Z=L.substring(3,4),Z+=Z):(B=L.substring(1,3),H=L.substring(3,5),Z=L.substring(5,7)),B=parseInt(B,16),H=parseInt(H,16),Z=parseInt(Z,16)}}return{r:B,g:H,b:Z,a:re,style:L}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(L,B,H,Z){if(isNaN(B)||isNaN(H)||typeof L!="string")throw Yt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!m.call(this)){var re=M(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;F.call(this,{text:L,x:B,y:H,scale:fe,angle:re,align:this.textAlign,maxWidth:Z})}},x.prototype.strokeText=function(L,B,H,Z){if(isNaN(B)||isNaN(H)||typeof L!="string")throw Yt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){Z=isNaN(Z)?void 0:Z;var re=M(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;F.call(this,{text:L,x:B,y:H,scale:fe,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:Z})}},x.prototype.measureText=function(L){if(typeof L!="string")throw Yt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,H=this.pdf.internal.scaleFactor,Z=B.internal.getFontSize(),re=B.getStringUnitWidth(L)*Z/B.internal.scaleFactor,fe=function(pe){var ve=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this};return new fe({width:re*=Math.round(96*H/72*1e4)/1e4})},x.prototype.scale=function(L,B){if(isNaN(L)||isNaN(B))throw Yt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new d(L,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},x.prototype.rotate=function(L){if(isNaN(L))throw Yt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new d(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},x.prototype.translate=function(L,B){if(isNaN(L)||isNaN(B))throw Yt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new d(1,0,0,1,L,B);this.ctx.transform=this.ctx.transform.multiply(H)},x.prototype.transform=function(L,B,H,Z,re,fe){if(isNaN(L)||isNaN(B)||isNaN(H)||isNaN(Z)||isNaN(re)||isNaN(fe))throw Yt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new d(L,B,H,Z,re,fe);this.ctx.transform=this.ctx.transform.multiply(pe)},x.prototype.setTransform=function(L,B,H,Z,re,fe){L=isNaN(L)?1:L,B=isNaN(B)?0:B,H=isNaN(H)?0:H,Z=isNaN(Z)?1:Z,re=isNaN(re)?0:re,fe=isNaN(fe)?0:fe,this.ctx.transform=new d(L,B,H,Z,re,fe)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(L,B,H,Z,re,fe,pe,ve,De){var Ie=this.pdf.getImageProperties(L),_e=1,ee=1,we=1,de=1;Z!==void 0&&ve!==void 0&&(we=ve/Z,de=De/re,_e=Ie.width/Z*ve/Z,ee=Ie.height/re*De/re),fe===void 0&&(fe=B,pe=H,B=0,H=0),Z!==void 0&&ve===void 0&&(ve=Z,De=re),Z===void 0&&ve===void 0&&(ve=Ie.width,De=Ie.height);for(var W,Ve=this.ctx.transform.decompose(),Je=M(Ve.rotate.shx),Ee=new d,Me=(Ee=(Ee=(Ee=Ee.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale)).applyToRectangle(new u(fe-B*we,pe-H*de,Z*_e,re*ee)),Be=E.call(this,Me),Oe=[],et=0;et<Be.length;et+=1)Oe.indexOf(Be[et])===-1&&Oe.push(Be[et]);if(A(Oe),this.autoPaging)for(var nt=Oe[0],ct=Oe[Oe.length-1],ut=nt;ut<ct+1;ut++){this.pdf.setPage(ut);var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Tt=ut===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Re=ut===1?0:rt+(ut-2)*ht;if(this.ctx.clip_path.length!==0){var Mt=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(W,this.posX+this.margin[3],-Re+Tt+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=Mt}var vt=JSON.parse(JSON.stringify(Me));vt=N([vt],this.posX+this.margin[3],-Re+Tt+this.ctx.prevPageLastElemOffset)[0];var Wt=(ut>nt||ut<ct)&&k.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,ht,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,Je),Wt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,Je)};var E=function(L,B,H){var Z=[];B=B||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":Z.push(Math.floor((L.y+re)/H)+1);break;case"arc":Z.push(Math.floor((L.y+re-L.radius)/H)+1),Z.push(Math.floor((L.y+re+L.radius)/H)+1);break;case"qct":var fe=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);Z.push(Math.floor((fe.y+re)/H)+1),Z.push(Math.floor((fe.y+fe.h+re)/H)+1);break;case"bct":var pe=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);Z.push(Math.floor((pe.y+re)/H)+1),Z.push(Math.floor((pe.y+pe.h+re)/H)+1);break;case"rect":Z.push(Math.floor((L.y+re)/H)+1),Z.push(Math.floor((L.y+L.h+re)/H)+1)}for(var ve=0;ve<Z.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<Z[ve];)y.call(this);return Z},y=function(){var L=this.fillStyle,B=this.strokeStyle,H=this.font,Z=this.lineCap,re=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=B,this.font=H,this.lineCap=Z,this.lineWidth=re,this.lineJoin=fe},N=function(L,B,H){for(var Z=0;Z<L.length;Z++)switch(L[Z].type){case"bct":L[Z].x2+=B,L[Z].y2+=H;case"qct":L[Z].x1+=B,L[Z].y1+=H;case"mt":case"lt":case"arc":default:L[Z].x+=B,L[Z].y+=H}return L},A=function(L){return L.sort(function(B,H){return B-H})},U=function(L,B){for(var H,Z,re=this.fillStyle,fe=this.strokeStyle,pe=this.lineCap,ve=this.lineWidth,De=Math.abs(ve*this.ctx.transform.scaleX),Ie=this.lineJoin,_e=JSON.parse(JSON.stringify(this.path)),ee=JSON.parse(JSON.stringify(this.path)),we=[],de=0;de<ee.length;de++)if(ee[de].x!==void 0)for(var W=E.call(this,ee[de]),Ve=0;Ve<W.length;Ve+=1)we.indexOf(W[Ve])===-1&&we.push(W[Ve]);for(var Je=0;Je<we.length;Je++)for(;this.pdf.internal.getNumberOfPages()<we[Je];)y.call(this);if(A(we),this.autoPaging)for(var Ee=we[0],Me=we[we.length-1],Be=Ee;Be<Me+1;Be++){this.pdf.setPage(Be),this.fillStyle=re,this.strokeStyle=fe,this.lineCap=pe,this.lineWidth=De,this.lineJoin=Ie;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=Be===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=Be===1?0:nt+(Be-2)*ct;if(this.ctx.clip_path.length!==0){var St=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(H,this.posX+this.margin[3],-ut+et+this.ctx.prevPageLastElemOffset),X.call(this,L,!0),this.path=St}if(Z=JSON.parse(JSON.stringify(_e)),this.path=N(Z,this.posX+this.margin[3],-ut+et+this.ctx.prevPageLastElemOffset),B===!1||Be===0){var Tt=(Be>Ee||Be<Me)&&k.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,ct,null).clip().discardPath()),X.call(this,L,B),Tt&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}else this.lineWidth=De,X.call(this,L,B),this.lineWidth=ve;this.path=_e},X=function(L,B){if((L!=="stroke"||B||!_.call(this))&&(L==="stroke"||B||!m.call(this))){for(var H,Z,re=[],fe=this.path,pe=0;pe<fe.length;pe++){var ve=fe[pe];switch(ve.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:ve,deltas:[],abs:[]});break;case"lt":var De=re.length;if(fe[pe-1]&&!isNaN(fe[pe-1].x)&&(H=[ve.x-fe[pe-1].x,ve.y-fe[pe-1].y],De>0)){for(;De>=0;De--)if(re[De-1].close!==!0&&re[De-1].begin!==!0){re[De-1].deltas.push(H),re[De-1].abs.push(ve);break}}break;case"bct":H=[ve.x1-fe[pe-1].x,ve.y1-fe[pe-1].y,ve.x2-fe[pe-1].x,ve.y2-fe[pe-1].y,ve.x-fe[pe-1].x,ve.y-fe[pe-1].y],re[re.length-1].deltas.push(H);break;case"qct":var Ie=fe[pe-1].x+2/3*(ve.x1-fe[pe-1].x),_e=fe[pe-1].y+2/3*(ve.y1-fe[pe-1].y),ee=ve.x+2/3*(ve.x1-ve.x),we=ve.y+2/3*(ve.y1-ve.y),de=ve.x,W=ve.y;H=[Ie-fe[pe-1].x,_e-fe[pe-1].y,ee-fe[pe-1].x,we-fe[pe-1].y,de-fe[pe-1].x,W-fe[pe-1].y],re[re.length-1].deltas.push(H);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(ve)}}Z=B?null:L==="stroke"?"stroke":"fill";for(var Ve=!1,Je=0;Je<re.length;Je++)if(re[Je].arc)for(var Ee=re[Je].abs,Me=0;Me<Ee.length;Me++){var Be=Ee[Me];Be.type==="arc"?S.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,B,!Ve):J.call(this,Be.x,Be.y),Ve=!0}else if(re[Je].close===!0)this.pdf.internal.out("h"),Ve=!1;else if(re[Je].begin!==!0){var Oe=re[Je].start.x,et=re[Je].start.y;Q.call(this,re[Je].deltas,Oe,et),Ve=!0}Z&&z.call(this,Z),B&&$.call(this)}},ae=function(L){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-H;case"top":return L+B-H;case"hanging":return L+B-2*H;case"middle":return L+B/2-H;case"ideographic":return L;case"alphabetic":default:return L}},G=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(B,H){this.colorStops.push([B,H])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(L,B,H,Z,re,fe,pe,ve,De){for(var Ie=ce.call(this,H,Z,re,fe),_e=0;_e<Ie.length;_e++){var ee=Ie[_e];_e===0&&(De?C.call(this,ee.x1+L,ee.y1+B):J.call(this,ee.x1+L,ee.y1+B)),oe.call(this,L,B,ee.x2,ee.y2,ee.x3,ee.y3,ee.x4,ee.y4)}ve?$.call(this):z.call(this,pe)},z=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(L,B){this.pdf.internal.out(n(L)+" "+r(B)+" m")},F=function(L){var B;switch(L.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var H=this.pdf.getTextDimensions(L.text),Z=ae.call(this,L.y),re=G.call(this,Z)-H.h,fe=this.ctx.transform.applyToPoint(new l(L.x,Z)),pe=this.ctx.transform.decompose(),ve=new d;ve=(ve=(ve=ve.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var De,Ie,_e,ee=this.ctx.transform.applyToRectangle(new u(L.x,Z,H.w,H.h)),we=ve.applyToRectangle(new u(L.x,re,H.w,H.h)),de=E.call(this,we),W=[],Ve=0;Ve<de.length;Ve+=1)W.indexOf(de[Ve])===-1&&W.push(de[Ve]);if(A(W),this.autoPaging)for(var Je=W[0],Ee=W[W.length-1],Me=Je;Me<Ee+1;Me++){this.pdf.setPage(Me);var Be=Me===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],nt=et-this.margin[0],ct=this.pdf.internal.pageSize.width-this.margin[1],ut=ct-this.margin[3],St=Me===1?0:Oe+(Me-2)*nt;if(this.ctx.clip_path.length!==0){var Tt=this.path;De=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(De,this.posX+this.margin[3],-1*St+Be),X.call(this,"fill",!0),this.path=Tt}var rt=N([JSON.parse(JSON.stringify(we))],this.posX+this.margin[3],-St+Be+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ie*L.scale),_e=this.lineWidth,this.lineWidth=_e*L.scale);var ht=this.autoPaging!=="text";if(ht||rt.y+rt.h<=et){if(ht||rt.y>=Be&&rt.x<=ct){var Re=ht?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||ct-rt.x)[0],Mt=N([JSON.parse(JSON.stringify(ee))],this.posX+this.margin[3],-St+Be+this.ctx.prevPageLastElemOffset)[0],vt=ht&&(Me>Je||Me<Ee)&&k.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,nt,null).clip().discardPath()),this.pdf.text(Re,Mt.x,Mt.y,{angle:L.angle,align:B,renderingMode:L.renderingMode}),vt&&this.pdf.restoreGraphicsState()}}else rt.y<et&&(this.ctx.prevPageLastElemOffset+=et-rt.y);L.scale>=.01&&(this.pdf.setFontSize(Ie),this.lineWidth=_e)}else L.scale>=.01&&(Ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ie*L.scale),_e=this.lineWidth,this.lineWidth=_e*L.scale),this.pdf.text(L.text,fe.x+this.posX,fe.y+this.posY,{angle:L.angle,align:B,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Ie),this.lineWidth=_e)},J=function(L,B,H,Z){H=H||0,Z=Z||0,this.pdf.internal.out(n(L+H)+" "+r(B+Z)+" l")},Q=function(L,B,H){return this.pdf.lines(L,B,H,null,null)},oe=function(L,B,H,Z,re,fe,pe,ve){this.pdf.internal.out([t(s(H+L)),t(a(Z+B)),t(s(re+L)),t(a(fe+B)),t(s(pe+L)),t(a(ve+B)),"c"].join(" "))},ce=function(L,B,H,Z){for(var re=2*Math.PI,fe=Math.PI/2;B>H;)B-=re;var pe=Math.abs(H-B);pe<re&&Z&&(pe=re-pe);for(var ve=[],De=Z?-1:1,Ie=B;pe>1e-5;){var _e=Ie+De*Math.min(pe,fe);ve.push(me.call(this,L,Ie,_e)),pe-=Math.abs(_e-Ie),Ie=_e}return ve},me=function(L,B,H){var Z=(H-B)/2,re=L*Math.cos(Z),fe=L*Math.sin(Z),pe=re,ve=-fe,De=pe*pe+ve*ve,Ie=De+pe*re+ve*fe,_e=4/3*(Math.sqrt(2*De*Ie)-Ie)/(pe*fe-ve*re),ee=pe-_e*ve,we=ve+_e*pe,de=ee,W=-we,Ve=Z+B,Je=Math.cos(Ve),Ee=Math.sin(Ve);return{x1:L*Math.cos(B),y1:L*Math.sin(B),x2:ee*Je-we*Ee,y2:ee*Ee+we*Je,x3:de*Je-W*Ee,y3:de*Ee+W*Je,x4:L*Math.cos(H),y4:L*Math.sin(H)}},M=function(L){return 180*L/Math.PI},Y=function(L,B,H,Z,re,fe){var pe=L+.5*(H-L),ve=B+.5*(Z-B),De=re+.5*(H-re),Ie=fe+.5*(Z-fe),_e=Math.min(L,re,pe,De),ee=Math.max(L,re,pe,De),we=Math.min(B,fe,ve,Ie),de=Math.max(B,fe,ve,Ie);return new u(_e,we,ee-_e,de-we)},K=function(L,B,H,Z,re,fe,pe,ve){var De,Ie,_e,ee,we,de,W,Ve,Je,Ee,Me,Be,Oe,et,nt=H-L,ct=Z-B,ut=re-H,St=fe-Z,Tt=pe-re,rt=ve-fe;for(Ie=0;Ie<41;Ie++)Je=(W=(_e=L+(De=Ie/40)*nt)+De*((we=H+De*ut)-_e))+De*(we+De*(re+De*Tt-we)-W),Ee=(Ve=(ee=B+De*ct)+De*((de=Z+De*St)-ee))+De*(de+De*(fe+De*rt-de)-Ve),Ie==0?(Me=Je,Be=Ee,Oe=Je,et=Ee):(Me=Math.min(Me,Je),Be=Math.min(Be,Ee),Oe=Math.max(Oe,Je),et=Math.max(et,Ee));return new u(Math.round(Me),Math.round(Be),Math.round(Oe-Me),Math.round(et-Be))},Se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,B,H=(L=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:B}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(ft.API),function(e){var t=function(a){var l,u,d,p,g,x,w,m,_,k;for(u=[],d=0,p=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;p>d;d+=4)(g=(a.charCodeAt(d)<<24)+(a.charCodeAt(d+1)<<16)+(a.charCodeAt(d+2)<<8)+a.charCodeAt(d+3))!==0?(x=(g=((g=((g=((g=(g-(k=g%85))/85)-(_=g%85))/85)-(m=g%85))/85)-(w=g%85))/85)%85,u.push(x+33,w+33,m+33,_+33,k+33)):u.push(122);return function(E,y){for(var N=y;N>0;N--)E.pop()}(u,l.length),String.fromCharCode.apply(String,u)+"~>"},n=function(a){var l,u,d,p,g,x=String,w="length",m=255,_="charCodeAt",k="slice",E="replace";for(a[k](-2),a=a[k](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),d=[],p=0,g=(a+=l="uuuuu"[k](a[w]%5||5))[w];g>p;p+=5)u=52200625*(a[_](p)-33)+614125*(a[_](p+1)-33)+7225*(a[_](p+2)-33)+85*(a[_](p+3)-33)+(a[_](p+4)-33),d.push(m&u>>24,m&u>>16,m&u>>8,m&u);return function(y,N){for(var A=N;A>0;A--)y.pop()}(d,l[w]),x.fromCharCode.apply(x,d)},r=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var u="",d=0;d<a.length;d+=2)u+=String.fromCharCode("0x"+(a[d]+a[d+1]));return u},s=function(a){for(var l=new Uint8Array(a.length),u=a.length;u--;)l[u]=a.charCodeAt(u);return a=(l=Kf(l)).reduce(function(d,p){return d+String.fromCharCode(p)},"")};e.processDataByFilters=function(a,l){var u=0,d=a||"",p=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":d=n(d),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=r(d),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map(function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=s(d),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:d,reverseChain:p.reverse().join(" ")}}}(ft.API),function(e){e.loadFile=function(t,n,r){return function(s,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var u=void 0;try{u=function(d,p,g){var x=new XMLHttpRequest,w=0,m=function(_){var k=_.length,E=[],y=String.fromCharCode;for(w=0;w<k;w+=1)E.push(y(255&_.charCodeAt(w)));return E.join("")};if(x.open("GET",d,!p),x.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(x.onload=function(){x.status===200?g(m(this.responseText)):g(void 0)}),x.send(null),p&&x.status===200)return m(x.responseText)}(s,a,l)}catch{}return u}(t,n,r)},e.loadImageFile=e.loadFile}(ft.API),function(e){function t(){return(pt.html2canvas?Promise.resolve(pt.html2canvas):Vf(()=>import("./html2canvas.esm-e0a7d97b.js"),[],import.meta.url)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(pt.DOMPurify?Promise.resolve(pt.DOMPurify):Vf(()=>import("./purify.es-31816194.js"),[],import.meta.url)).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var u=$t(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},s=function(l,u){var d=document.createElement(l);for(var p in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[p]=u.style[p];return d},a=function l(u){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),p=l.convert(Promise.resolve(),d);return p=(p=p.setProgress(1,l,1,[l])).set(u)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,u){return l.__proto__=u||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,u){return this.then(function(){switch(u=u||function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(n).then(function(d){return this.set({src:s("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function d(p,g){for(var x=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),w=p.firstChild;w;w=w.nextSibling)g!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||x.appendChild(d(w,g));return p.nodeType===1&&(p.nodeName==="CANVAS"?(x.width=p.width,x.height=p.height,x.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(x.value=p.value),x.addEventListener("load",function(){x.scrollTop=p.scrollTop,x.scrollLeft=p.scrollLeft},!0)),x}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(u){var d=this.opt.jsPDF,p=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=p,p)for(var w=0;w<p.length;++w){var m=p[w],_=m.src.find(function(k){return k.format==="truetype"});_&&d.addFont(_.url,m.ref.name,m.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),u(this.prop.container,x)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(l,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},a.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(l){if(r(l)!=="object")return this;var u=Object.keys(l||{}).map(function(d){if(d in a.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(u)})},a.prototype.get=function(l,u){return this.then(function(){var d=l in a.template.prop?this.prop[l]:this.opt[l];return u?u(d):d})},a.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},a.prototype.setPageSize=function(l){function u(d,p){return Math.floor(d*p/72*96)}return this.then(function(){(l=l||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},a.prototype.setProgress=function(l,u,d,p){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,u,d,p){return this.setProgress(l?this.progress.val+l:null,u||null,d?this.progress.n+d:null,p?this.progress.stack.concat(p):null)},a.prototype.then=function(l,u){var d=this;return this.thenCore(l,u,function(p,g){return d.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,p),x}).then(p,g).then(function(x){return d.updateProgress(1),x})})},a.prototype.thenCore=function(l,u,d){d=d||Promise.prototype.then,l&&(l=l.bind(this)),u&&(u=u.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),g=d.call(p,l,u);return a.convert(g,this.__proto__)},a.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},a.prototype.thenList=function(l){var u=this;return l.forEach(function(d){u=u.thenCore(d)}),u},a.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return a.convert(u,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then(function(){throw new Error(l)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,ft.getPageSize=function(l,u,d){if($t(l)==="object"){var p=l;l=p.orientation,u=p.unit||u,d=p.format||d}u=u||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var g,x=(""+d).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+u}var m,_=0,k=0;if(w.hasOwnProperty(x))_=w[x][1]/g,k=w[x][0]/g;else try{_=d[1],k=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",k>_&&(m=k,k=_,_=m);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",_>k&&(m=k,k=_,_=m)}return{width:k,height:_,unit:u,k:g,orientation:l}},e.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(np):null;var d=new a(u);return u.worker?d:d.from(l).doCallback()}}(ft.API),ft.API.addJS=function(e){return c1=e,this.internal.events.subscribe("postPutResources",function(){Cu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Cu+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),l1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+c1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Cu!==void 0&&l1!==void 0&&this.internal.out("/Names <</JavaScript "+Cu+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),a=0;a<s.length;a++){var l=s[a],u=r.exec(l);if(u!=null){var d=u[1];n.internal.newObjectDeferredBegin(d,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,g=[];for(a=0;a<p;a++){var x=n.internal.newObject();g.push(x);var w=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<g.length;a++)n.internal.write("(page_"+(a+1)+")"+g[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,a){var l={title:s,options:a,children:[]};return r==null&&(r=this.root),r.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var l=r.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var u=this.count=this.count_r({count:0},l);if(u>0&&this.line("/Count "+u),l.options&&l.options.pageNumber){var d=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var p=0;p<r.children.length;p++)this.renderItems(r.children[p])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var a=0;a<s.children.length;a++)r.count++,this.count_r(r,s.children[a]);return r.count}}])}(ft.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,s,a,l,u){var d,p=this.decode.DCT_DECODE,g=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(d=function(x){for(var w,m=256*x.charCodeAt(4)+x.charCodeAt(5),_=x.length,k={width:0,height:0,numcomponents:1},E=4;E<_;E+=2){if(E+=m,t.indexOf(x.charCodeAt(E+1))!==-1){w=256*x.charCodeAt(E+5)+x.charCodeAt(E+6),k={width:256*x.charCodeAt(E+7)+x.charCodeAt(E+8),height:w,numcomponents:x.charCodeAt(E+9)};break}m=256*x.charCodeAt(E+2)+x.charCodeAt(E+3)}return k}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}g={data:n,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:p,index:r,alias:s}}return g}}(ft.API);var xo,Pu,u1,d1,h1,m4=function(){var e,t,n;function r(a){var l,u,d,p,g,x,w,m,_,k,E,y,N,A;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},x=null;;){switch(l=this.readUInt32(),_=(function(){var U,X;for(X=[],U=0;U<4;++U)X.push(String.fromCharCode(this.data[this.pos++]));return X}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":x&&this.animation.frames.push(x),this.pos+=4,x={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},g=this.readUInt16(),p=this.readUInt16()||100,x.delay=1e3*g/p,x.disposeOp=this.data[this.pos++],x.blendOp=this.data[this.pos++],x.data=[];break;case"IDAT":case"fdAT":for(_==="fdAT"&&(this.pos+=4,l-=4),a=(x!=null?x.data:void 0)||this.imgData,y=0;0<=l?y<l:y>l;0<=l?++y:--y)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((k=d-this.transparency.indexed.length)>0)for(N=0;0<=k?N<k:N>k;0<=k?++N:--N)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":w=(E=this.read(l)).indexOf(0),m=String.fromCharCode.apply(String,E.slice(0,w)),this.text[m]=String.fromCharCode.apply(String,E.slice(w+1));break;case"IEND":return x&&this.animation.frames.push(x),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(A=this.colorType)===4||A===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var l,u;for(u=[],l=0;0<=a?l<a:l>a;0<=a?++l:--l)u.push(this.data[this.pos++]);return u},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var l=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*l),d=0,p=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function g(x,w,m,_){var k,E,y,N,A,U,X,ae,G,S,z,$,C,F,J,Q,oe,ce,me,M,Y,K=Math.ceil((p.width-x)/m),Se=Math.ceil((p.height-w)/_),L=p.width==K&&p.height==Se;for(F=l*K,$=L?u:new Uint8Array(F*Se),U=a.length,C=0,E=0;C<Se&&d<U;){switch(a[d++]){case 0:for(N=oe=0;oe<F;N=oe+=1)$[E++]=a[d++];break;case 1:for(N=ce=0;ce<F;N=ce+=1)k=a[d++],A=N<l?0:$[E-l],$[E++]=(k+A)%256;break;case 2:for(N=me=0;me<F;N=me+=1)k=a[d++],y=(N-N%l)/l,J=C&&$[(C-1)*F+y*l+N%l],$[E++]=(J+k)%256;break;case 3:for(N=M=0;M<F;N=M+=1)k=a[d++],y=(N-N%l)/l,A=N<l?0:$[E-l],J=C&&$[(C-1)*F+y*l+N%l],$[E++]=(k+Math.floor((A+J)/2))%256;break;case 4:for(N=Y=0;Y<F;N=Y+=1)k=a[d++],y=(N-N%l)/l,A=N<l?0:$[E-l],C===0?J=Q=0:(J=$[(C-1)*F+y*l+N%l],Q=y&&$[(C-1)*F+(y-1)*l+N%l]),X=A+J-Q,ae=Math.abs(X-A),S=Math.abs(X-J),z=Math.abs(X-Q),G=ae<=S&&ae<=z?A:S<=z?J:Q,$[E++]=(k+G)%256;break;default:throw new Error("Invalid filter algorithm: "+a[d-1])}if(!L){var B=((w+C*_)*p.width+x)*l,H=C*F;for(N=0;N<K;N+=1){for(var Z=0;Z<l;Z+=1)u[B++]=$[H++];B+=(m-1)*l}}C++}}return a=Gy(a),p.interlaceMethod==1?(g(0,0,8,8),g(4,0,8,8),g(0,4,4,8),g(2,0,4,4),g(0,2,2,4),g(1,0,2,2),g(0,1,1,2)):g(0,0,1,1),u},r.prototype.decodePalette=function(){var a,l,u,d,p,g,x,w,m;for(u=this.palette,g=this.transparency.indexed||[],p=new Uint8Array((g.length||0)+u.length),d=0,a=0,l=x=0,w=u.length;x<w;l=x+=3)p[d++]=u[l],p[d++]=u[l+1],p[d++]=u[l+2],p[d++]=(m=g[a++])!=null?m:255;return p},r.prototype.copyToImageData=function(a,l){var u,d,p,g,x,w,m,_,k,E,y;if(d=this.colors,k=null,u=this.hasAlphaChannel,this.palette.length&&(k=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),d=4,u=!0),_=(p=a.data||a).length,x=k||l,g=w=0,d===1)for(;g<_;)m=k?4*l[g/4]:w,E=x[m++],p[g++]=E,p[g++]=E,p[g++]=E,p[g++]=u?x[m++]:255,w=m;else for(;g<_;)m=k?4*l[g/4]:w,p[g++]=x[m++],p[g++]=x[m++],p[g++]=x[m++],p[g++]=u?x[m++]:255,w=m},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var s=function(){if(Object.prototype.toString.call(pt)==="[object Window]"){try{t=pt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(a){var l;if(s()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(l=new Image).src=t.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var l,u,d,p,g,x,w,m;if(this.animation){for(m=[],u=g=0,x=(w=this.animation.frames).length;g<x;u=++g)l=w[u],d=a.createImageData(l.width,l.height),p=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(d,p),l.imageData=d,m.push(l.image=e(d));return m}},r.prototype.renderFrame=function(a,l){var u,d,p;return u=(d=this.animation.frames)[l],p=d[l-1],l===0&&a.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?a.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&a.putImageData(p.imageData,p.xOffset,p.yOffset),u.blendOp===0&&a.clearRect(u.xOffset,u.yOffset,u.width,u.height),a.drawImage(u.image,u.xOffset,u.yOffset)},r.prototype.animate=function(a){var l,u,d,p,g,x,w=this;return u=0,x=this.animation,p=x.numFrames,d=x.frames,g=x.numPlays,(l=function(){var m,_;if(m=u++%p,_=d[m],w.renderFrame(a,m),p>1&&u/p<g)return w.animation._timeout=setTimeout(l,_.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var l,u;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,l=a.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(u=l.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),l.putImageData(u,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function g4(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],a=s>>7,l=1<<(7&s)+1;e[t++],e[t++];var u=null,d=null;a&&(u=t,d=l,t+=3*l);var p=!0,g=[],x=0,w=null,m=0,_=null;for(this.width=n,this.height=r;p&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,_=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var k=e[t++];x=e[t++]|e[t++]<<8,w=e[t++],!(1&k)&&(w=null),m=k>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var E=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,U=e[t++],X=U>>6&1,ae=1<<(7&U)+1,G=u,S=d,z=!1;U>>7&&(z=!0,G=t,S=ae,t+=3*ae);var $=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}g.push({x:E,y,width:N,height:A,has_local_palette:z,palette_offset:G,palette_size:S,data_offset:$,data_length:t-$,transparent_index:w,interlaced:!!X,delay:x,disposal:m});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return _},this.frameInfo=function(F){if(F<0||F>=g.length)throw new Error("Frame index out of range.");return g[F]},this.decodeAndBlitFrameBGRA=function(F,J){var Q=this.frameInfo(F),oe=Q.width*Q.height,ce=new Uint8Array(oe);f1(e,Q.data_offset,ce,oe);var me=Q.palette_offset,M=Q.transparent_index;M===null&&(M=256);var Y=Q.width,K=n-Y,Se=Y,L=4*(Q.y*n+Q.x),B=4*((Q.y+Q.height)*n+Q.x),H=L,Z=4*K;Q.interlaced===!0&&(Z+=4*n*7);for(var re=8,fe=0,pe=ce.length;fe<pe;++fe){var ve=ce[fe];if(Se===0&&(Se=Y,(H+=Z)>=B&&(Z=4*K+4*n*(re-1),H=L+(Y+K)*(re<<1),re>>=1)),ve===M)H+=4;else{var De=e[me+3*ve],Ie=e[me+3*ve+1],_e=e[me+3*ve+2];J[H++]=_e,J[H++]=Ie,J[H++]=De,J[H++]=255}--Se}},this.decodeAndBlitFrameRGBA=function(F,J){var Q=this.frameInfo(F),oe=Q.width*Q.height,ce=new Uint8Array(oe);f1(e,Q.data_offset,ce,oe);var me=Q.palette_offset,M=Q.transparent_index;M===null&&(M=256);var Y=Q.width,K=n-Y,Se=Y,L=4*(Q.y*n+Q.x),B=4*((Q.y+Q.height)*n+Q.x),H=L,Z=4*K;Q.interlaced===!0&&(Z+=4*n*7);for(var re=8,fe=0,pe=ce.length;fe<pe;++fe){var ve=ce[fe];if(Se===0&&(Se=Y,(H+=Z)>=B&&(Z=4*K+4*n*(re-1),H=L+(Y+K)*(re<<1),re>>=1)),ve===M)H+=4;else{var De=e[me+3*ve],Ie=e[me+3*ve+1],_e=e[me+3*ve+2];J[H++]=De,J[H++]=Ie,J[H++]=_e,J[H++]=255}--Se}}}function f1(e,t,n,r){for(var s=e[t++],a=1<<s,l=a+1,u=l+1,d=s+1,p=(1<<d)-1,g=0,x=0,w=0,m=e[t++],_=new Int32Array(4096),k=null;;){for(;g<16&&m!==0;)x|=e[t++]<<g,g+=8,m===1?m=e[t++]:--m;if(g<d)break;var E=x&p;if(x>>=d,g-=d,E!==a){if(E===l)break;for(var y=E<u?E:k,N=0,A=y;A>a;)A=_[A]>>8,++N;var U=A;if(w+N+(y!==E?1:0)>r)return void Yt.log("Warning, gif stream longer than expected.");n[w++]=U;var X=w+=N;for(y!==E&&(n[w++]=U),A=y;N--;)A=_[A],n[--X]=255&A,A>>=8;k!==null&&u<4096&&(_[u++]=k<<8|U,u>=p+1&&d<12&&(++d,p=p<<1|1)),k=E}else u=l+1,p=(1<<(d=s+1))-1,k=null}return w!==r&&Yt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Yh(e){var t,n,r,s,a,l=Math.floor,u=new Array(64),d=new Array(64),p=new Array(64),g=new Array(64),x=new Array(65535),w=new Array(65535),m=new Array(64),_=new Array(64),k=[],E=0,y=7,N=new Array(64),A=new Array(64),U=new Array(64),X=new Array(256),ae=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(L,B){for(var H=0,Z=0,re=new Array,fe=1;fe<=16;fe++){for(var pe=1;pe<=L[fe];pe++)re[B[Z]]=[],re[B[Z]][0]=H,re[B[Z]][1]=fe,Z++,H++;H*=2}return re}function me(L){for(var B=L[0],H=L[1]-1;H>=0;)B&1<<H&&(E|=1<<y),H--,--y<0&&(E==255?(M(255),M(0)):M(E),y=7,E=0)}function M(L){k.push(L)}function Y(L){M(L>>8&255),M(255&L)}function K(L,B,H,Z,re){for(var fe,pe=re[0],ve=re[240],De=function(Ee,Me){var Be,Oe,et,nt,ct,ut,St,Tt,rt,ht,Re=0;for(rt=0;rt<8;++rt){Be=Ee[Re],Oe=Ee[Re+1],et=Ee[Re+2],nt=Ee[Re+3],ct=Ee[Re+4],ut=Ee[Re+5],St=Ee[Re+6];var Mt=Be+(Tt=Ee[Re+7]),vt=Be-Tt,Wt=Oe+St,R=Oe-St,Ce=et+ut,He=et-ut,tt=nt+ct,It=nt-ct,At=Mt+tt,Gt=Mt-tt,Ot=Wt+Ce,Bt=Wt-Ce;Ee[Re]=At+Ot,Ee[Re+4]=At-Ot;var qe=.707106781*(Bt+Gt);Ee[Re+2]=Gt+qe,Ee[Re+6]=Gt-qe;var gt=.382683433*((At=It+He)-(Bt=R+vt)),Ui=.5411961*At+gt,Kt=1.306562965*Bt+gt,$r=.707106781*(Ot=He+R),Ar=vt+$r,at=vt-$r;Ee[Re+5]=at+Ui,Ee[Re+3]=at-Ui,Ee[Re+1]=Ar+Kt,Ee[Re+7]=Ar-Kt,Re+=8}for(Re=0,rt=0;rt<8;++rt){Be=Ee[Re],Oe=Ee[Re+8],et=Ee[Re+16],nt=Ee[Re+24],ct=Ee[Re+32],ut=Ee[Re+40],St=Ee[Re+48];var Cr=Be+(Tt=Ee[Re+56]),Hr=Be-Tt,Rn=Oe+St,gn=Oe-St,rn=et+ut,rr=et-ut,fs=nt+ct,Vr=nt-ct,Pr=Cr+fs,_r=Cr-fs,hr=Rn+rn,Wr=Rn-rn;Ee[Re]=Pr+hr,Ee[Re+32]=Pr-hr;var fr=.707106781*(Wr+_r);Ee[Re+16]=_r+fr,Ee[Re+48]=_r-fr;var An=.382683433*((Pr=Vr+rr)-(Wr=gn+Hr)),$i=.5411961*Pr+An,ps=1.306562965*Wr+An,Hi=.707106781*(hr=rr+gn),ms=Hr+Hi,gs=Hr-Hi;Ee[Re+40]=gs+$i,Ee[Re+24]=gs-$i,Ee[Re+8]=ms+ps,Ee[Re+56]=ms-ps,Re++}for(rt=0;rt<64;++rt)ht=Ee[rt]*Me[rt],m[rt]=ht>0?ht+.5|0:ht-.5|0;return m}(L,B),Ie=0;Ie<64;++Ie)_[G[Ie]]=De[Ie];var _e=_[0]-H;H=_[0],_e==0?me(Z[0]):(me(Z[w[fe=32767+_e]]),me(x[fe]));for(var ee=63;ee>0&&_[ee]==0;)ee--;if(ee==0)return me(pe),H;for(var we,de=1;de<=ee;){for(var W=de;_[de]==0&&de<=ee;)++de;var Ve=de-W;if(Ve>=16){we=Ve>>4;for(var Je=1;Je<=we;++Je)me(ve);Ve&=15}fe=32767+_[de],me(re[(Ve<<4)+w[fe]]),me(x[fe]),de++}return ee!=63&&me(pe),H}function Se(L){L=Math.min(Math.max(L,1),100),a!=L&&(function(B){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var re=l((H[Z]*B+50)/100);re=Math.min(Math.max(re,1),255),u[G[Z]]=re}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var ve=l((fe[pe]*B+50)/100);ve=Math.min(Math.max(ve,1),255),d[G[pe]]=ve}for(var De=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ie=0,_e=0;_e<8;_e++)for(var ee=0;ee<8;ee++)p[Ie]=1/(u[G[Ie]]*De[_e]*De[ee]*8),g[Ie]=1/(d[G[Ie]]*De[_e]*De[ee]*8),Ie++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),a=L)}this.encode=function(L,B){B&&Se(B),k=new Array,E=0,y=7,Y(65496),Y(65504),Y(16),M(74),M(70),M(73),M(70),M(0),M(1),M(1),M(0),Y(1),Y(1),M(0),M(0),function(){Y(65499),Y(132),M(0);for(var Oe=0;Oe<64;Oe++)M(u[Oe]);M(1);for(var et=0;et<64;et++)M(d[et])}(),function(Oe,et){Y(65472),Y(17),M(8),Y(et),Y(Oe),M(3),M(1),M(17),M(0),M(2),M(17),M(1),M(3),M(17),M(1)}(L.width,L.height),function(){Y(65476),Y(418),M(0);for(var Oe=0;Oe<16;Oe++)M(S[Oe+1]);for(var et=0;et<=11;et++)M(z[et]);M(16);for(var nt=0;nt<16;nt++)M($[nt+1]);for(var ct=0;ct<=161;ct++)M(C[ct]);M(1);for(var ut=0;ut<16;ut++)M(F[ut+1]);for(var St=0;St<=11;St++)M(J[St]);M(17);for(var Tt=0;Tt<16;Tt++)M(Q[Tt+1]);for(var rt=0;rt<=161;rt++)M(oe[rt])}(),Y(65498),Y(12),M(3),M(1),M(0),M(2),M(17),M(3),M(17),M(0),M(63),M(0);var H=0,Z=0,re=0;E=0,y=7,this.encode.displayName="_encode_";for(var fe,pe,ve,De,Ie,_e,ee,we,de,W=L.data,Ve=L.width,Je=L.height,Ee=4*Ve,Me=0;Me<Je;){for(fe=0;fe<Ee;){for(Ie=Ee*Me+fe,ee=-1,we=0,de=0;de<64;de++)_e=Ie+(we=de>>3)*Ee+(ee=4*(7&de)),Me+we>=Je&&(_e-=Ee*(Me+1+we-Je)),fe+ee>=Ee&&(_e-=fe+ee-Ee+4),pe=W[_e++],ve=W[_e++],De=W[_e++],N[de]=(ae[pe]+ae[ve+256>>0]+ae[De+512>>0]>>16)-128,A[de]=(ae[pe+768>>0]+ae[ve+1024>>0]+ae[De+1280>>0]>>16)-128,U[de]=(ae[pe+1280>>0]+ae[ve+1536>>0]+ae[De+1792>>0]>>16)-128;H=K(N,p,H,t,r),Z=K(A,g,Z,n,s),re=K(U,g,re,n,s),fe+=32}Me+=8}if(y>=0){var Be=[];Be[1]=y+1,Be[0]=(1<<y+1)-1,me(Be)}return Y(65497),new Uint8Array(k)},e=e||50,function(){for(var L=String.fromCharCode,B=0;B<256;B++)X[B]=L(B)}(),t=ce(S,z),n=ce(F,J),r=ce($,C),s=ce(Q,oe),function(){for(var L=1,B=2,H=1;H<=15;H++){for(var Z=L;Z<B;Z++)w[32767+Z]=H,x[32767+Z]=[],x[32767+Z][1]=H,x[32767+Z][0]=Z;for(var re=-(B-1);re<=-L;re++)w[32767+re]=H,x[32767+re]=[],x[32767+re][1]=H,x[32767+re][0]=B-1+re;L<<=1,B<<=1}}(),function(){for(var L=0;L<256;L++)ae[L]=19595*L,ae[L+256>>0]=38470*L,ae[L+512>>0]=7471*L+32768,ae[L+768>>0]=-11059*L,ae[L+1024>>0]=-21709*L,ae[L+1280>>0]=32768*L+8421375,ae[L+1536>>0]=-27439*L,ae[L+1792>>0]=-5329*L}(),Se(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function pi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function p1(e){function t(S){if(!S)throw Error("assert :P")}function n(S,z,$){for(var C=0;4>C;C++)if(S[z+C]!=$.charCodeAt(C))return!0;return!1}function r(S,z,$,C,F){for(var J=0;J<F;J++)S[z+J]=$[C+J]}function s(S,z,$,C){for(var F=0;F<C;F++)S[z+F]=$}function a(S){return new Int32Array(S)}function l(S,z){for(var $=[],C=0;C<S;C++)$.push(new z);return $}function u(S,z){var $=[];return function C(F,J,Q){for(var oe=Q[J],ce=0;ce<oe&&(F.push(Q.length>J+1?[]:new z),!(Q.length<J+1));ce++)C(F[ce],J+1,Q)}($,0,S),$}var d=function(){var S=this;function z(o,c){for(var f=1<<c-1>>>0;o&f;)f>>>=1;return f?(o&f-1)+f:o}function $(o,c,f,v,b){t(!(v%f));do o[c+(v-=f)]=b;while(0<v)}function C(o,c,f,v,b){if(t(2328>=b),512>=b)var P=a(512);else if((P=a(b))==null)return 0;return function(I,D,T,q,ne,ge){var xe,le,Ae=D,be=1<<T,ie=a(16),se=a(16);for(t(ne!=0),t(q!=null),t(I!=null),t(0<T),le=0;le<ne;++le){if(15<q[le])return 0;++ie[q[le]]}if(ie[0]==ne)return 0;for(se[1]=0,xe=1;15>xe;++xe){if(ie[xe]>1<<xe)return 0;se[xe+1]=se[xe]+ie[xe]}for(le=0;le<ne;++le)xe=q[le],0<q[le]&&(ge[se[xe]++]=le);if(se[15]==1)return(q=new F).g=0,q.value=ge[0],$(I,Ae,1,be,q),be;var ke,Pe=-1,Le=be-1,Ge=0,Ue=1,lt=1,$e=1<<T;for(le=0,xe=1,ne=2;xe<=T;++xe,ne<<=1){if(Ue+=lt<<=1,0>(lt-=ie[xe]))return 0;for(;0<ie[xe];--ie[xe])(q=new F).g=xe,q.value=ge[le++],$(I,Ae+Ge,ne,$e,q),Ge=z(Ge,xe)}for(xe=T+1,ne=2;15>=xe;++xe,ne<<=1){if(Ue+=lt<<=1,0>(lt-=ie[xe]))return 0;for(;0<ie[xe];--ie[xe]){if(q=new F,(Ge&Le)!=Pe){for(Ae+=$e,ke=1<<(Pe=xe)-T;15>Pe&&!(0>=(ke-=ie[Pe]));)++Pe,ke<<=1;be+=$e=1<<(ke=Pe-T),I[D+(Pe=Ge&Le)].g=ke+T,I[D+Pe].value=Ae-D-Pe}q.g=xe-T,q.value=ge[le++],$(I,Ae+(Ge>>T),ne,$e,q),Ge=z(Ge,xe)}}return Ue!=2*se[15]-1?0:be}(o,c,f,v,b,P)}function F(){this.value=this.g=0}function J(){this.value=this.g=0}function Q(){this.G=l(5,F),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(qn,J)}function oe(o,c,f,v){t(o!=null),t(c!=null),t(2147483648>v),o.Ca=254,o.I=0,o.b=-8,o.Ka=0,o.oa=c,o.pa=f,o.Jd=c,o.Yc=f+v,o.Zc=4<=v?f+v-4+1:f,fe(o)}function ce(o,c){for(var f=0;0<c--;)f|=ve(o,128)<<c;return f}function me(o,c){var f=ce(o,c);return pe(o)?-f:f}function M(o,c,f,v){var b,P=0;for(t(o!=null),t(c!=null),t(4294967288>v),o.Sb=v,o.Ra=0,o.u=0,o.h=0,4<v&&(v=4),b=0;b<v;++b)P+=c[f+b]<<8*b;o.Ra=P,o.bb=v,o.oa=c,o.pa=f}function Y(o){for(;8<=o.u&&o.bb<o.Sb;)o.Ra>>>=8,o.Ra+=o.oa[o.pa+o.bb]<<io-8>>>0,++o.bb,o.u-=8;H(o)&&(o.h=1,o.u=0)}function K(o,c){if(t(0<=c),!o.h&&c<=ro){var f=B(o)&no[c];return o.u+=c,Y(o),f}return o.h=1,o.u=0}function Se(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(o){return o.Ra>>>(o.u&io-1)>>>0}function H(o){return t(o.bb<=o.Sb),o.h||o.bb==o.Sb&&o.u>io}function Z(o,c){o.u=c,o.h=H(o)}function re(o){o.u>=yl&&(t(o.u>=yl),Y(o))}function fe(o){t(o!=null&&o.oa!=null),o.pa<o.Zc?(o.I=(o.oa[o.pa++]|o.I<<8)>>>0,o.b+=8):(t(o!=null&&o.oa!=null),o.pa<o.Yc?(o.b+=8,o.I=o.oa[o.pa++]|o.I<<8):o.Ka?o.b=0:(o.I<<=8,o.b+=8,o.Ka=1))}function pe(o){return ce(o,1)}function ve(o,c){var f=o.Ca;0>o.b&&fe(o);var v=o.b,b=f*c>>>8,P=(o.I>>>v>b)+0;for(P?(f-=b,o.I-=b+1<<v>>>0):f=b+1,v=f,b=0;256<=v;)b+=8,v>>=8;return v=7^b+mr[v],o.b-=v,o.Ca=(f<<v)-1,P}function De(o,c,f){o[c+0]=f>>24&255,o[c+1]=f>>16&255,o[c+2]=f>>8&255,o[c+3]=f>>0&255}function Ie(o,c){return o[c+0]<<0|o[c+1]<<8}function _e(o,c){return Ie(o,c)|o[c+2]<<16}function ee(o,c){return Ie(o,c)|Ie(o,c+2)<<16}function we(o,c){var f=1<<c;return t(o!=null),t(0<c),o.X=a(f),o.X==null?0:(o.Mb=32-c,o.Xa=c,1)}function de(o,c){t(o!=null),t(c!=null),t(o.Xa==c.Xa),r(c.X,0,o.X,0,1<<c.Xa)}function W(){this.X=[],this.Xa=this.Mb=0}function Ve(o,c,f,v){t(f!=null),t(v!=null);var b=f[0],P=v[0];return b==0&&(b=(o*P+c/2)/c),P==0&&(P=(c*b+o/2)/o),0>=b||0>=P?0:(f[0]=b,v[0]=P,1)}function Je(o,c){return o+(1<<c)-1>>>c}function Ee(o,c){return((4278255360&o)+(4278255360&c)>>>0&4278255360)+((16711935&o)+(16711935&c)>>>0&16711935)>>>0}function Me(o,c){S[c]=function(f,v,b,P,I,D,T){var q;for(q=0;q<I;++q){var ne=S[o](D[T+q-1],b,P+q);D[T+q]=Ee(f[v+q],ne)}}}function Be(){this.ud=this.hd=this.jd=0}function Oe(o,c){return((4278124286&(o^c))>>>1)+(o&c)>>>0}function et(o){return 0<=o&&256>o?o:0>o?0:255<o?255:void 0}function nt(o,c){return et(o+(o-c+.5>>1))}function ct(o,c,f){return Math.abs(c-f)-Math.abs(o-f)}function ut(o,c,f,v,b,P,I){for(v=P[I-1],f=0;f<b;++f)P[I+f]=v=Ee(o[c+f],v)}function St(o,c,f,v,b){var P;for(P=0;P<f;++P){var I=o[c+P],D=I>>8&255,T=16711935&(T=(T=16711935&I)+((D<<16)+D));v[b+P]=(4278255360&I)+T>>>0}}function Tt(o,c){c.jd=o>>0&255,c.hd=o>>8&255,c.ud=o>>16&255}function rt(o,c,f,v,b,P){var I;for(I=0;I<v;++I){var D=c[f+I],T=D>>>8,q=D,ne=255&(ne=(ne=D>>>16)+((o.jd<<24>>24)*(T<<24>>24)>>>5));q=255&(q=(q=q+((o.hd<<24>>24)*(T<<24>>24)>>>5))+((o.ud<<24>>24)*(ne<<24>>24)>>>5)),b[P+I]=(4278255360&D)+(ne<<16)+q}}function ht(o,c,f,v,b){S[c]=function(P,I,D,T,q,ne,ge,xe,le){for(T=ge;T<xe;++T)for(ge=0;ge<le;++ge)q[ne++]=b(D[v(P[I++])])},S[o]=function(P,I,D,T,q,ne,ge){var xe=8>>P.b,le=P.Ea,Ae=P.K[0],be=P.w;if(8>xe)for(P=(1<<P.b)-1,be=(1<<xe)-1;I<D;++I){var ie,se=0;for(ie=0;ie<le;++ie)ie&P||(se=v(T[q++])),ne[ge++]=b(Ae[se&be]),se>>=xe}else S["VP8LMapColor"+f](T,q,Ae,be,ne,ge,I,D,le)}}function Re(o,c,f,v,b){for(f=c+f;c<f;){var P=o[c++];v[b++]=P>>16&255,v[b++]=P>>8&255,v[b++]=P>>0&255}}function Mt(o,c,f,v,b){for(f=c+f;c<f;){var P=o[c++];v[b++]=P>>16&255,v[b++]=P>>8&255,v[b++]=P>>0&255,v[b++]=P>>24&255}}function vt(o,c,f,v,b){for(f=c+f;c<f;){var P=(I=o[c++])>>16&240|I>>12&15,I=I>>0&240|I>>28&15;v[b++]=P,v[b++]=I}}function Wt(o,c,f,v,b){for(f=c+f;c<f;){var P=(I=o[c++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;v[b++]=P,v[b++]=I}}function R(o,c,f,v,b){for(f=c+f;c<f;){var P=o[c++];v[b++]=P>>0&255,v[b++]=P>>8&255,v[b++]=P>>16&255}}function Ce(o,c,f,v,b,P){if(P==0)for(f=c+f;c<f;)De(v,((P=o[c++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),b+=32;else r(v,b,o,c,f)}function He(o,c){S[c][0]=S[o+"0"],S[c][1]=S[o+"1"],S[c][2]=S[o+"2"],S[c][3]=S[o+"3"],S[c][4]=S[o+"4"],S[c][5]=S[o+"5"],S[c][6]=S[o+"6"],S[c][7]=S[o+"7"],S[c][8]=S[o+"8"],S[c][9]=S[o+"9"],S[c][10]=S[o+"10"],S[c][11]=S[o+"11"],S[c][12]=S[o+"12"],S[c][13]=S[o+"13"],S[c][14]=S[o+"0"],S[c][15]=S[o+"0"]}function tt(o){return o==Zd||o==eh||o==Gc||o==th}function It(){this.eb=[],this.size=this.A=this.fb=0}function At(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new It,this.f.kb=new At,this.sd=null}function Ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Bt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qe(o){return alert("todo:WebPSamplerProcessPlane"),o.T}function gt(o,c){var f=o.T,v=c.ba.f.RGBA,b=v.eb,P=v.fb+o.ka*v.A,I=ei[c.ba.S],D=o.y,T=o.O,q=o.f,ne=o.N,ge=o.ea,xe=o.W,le=c.cc,Ae=c.dc,be=c.Mc,ie=c.Nc,se=o.ka,ke=o.ka+o.T,Pe=o.U,Le=Pe+1>>1;for(se==0?I(D,T,null,null,q,ne,ge,xe,q,ne,ge,xe,b,P,null,null,Pe):(I(c.ec,c.fc,D,T,le,Ae,be,ie,q,ne,ge,xe,b,P-v.A,b,P,Pe),++f);se+2<ke;se+=2)le=q,Ae=ne,be=ge,ie=xe,ne+=o.Rc,xe+=o.Rc,P+=2*v.A,I(D,(T+=2*o.fa)-o.fa,D,T,le,Ae,be,ie,q,ne,ge,xe,b,P-v.A,b,P,Pe);return T+=o.fa,o.j+ke<o.o?(r(c.ec,c.fc,D,T,Pe),r(c.cc,c.dc,q,ne,Le),r(c.Mc,c.Nc,ge,xe,Le),f--):1&ke||I(D,T,null,null,q,ne,ge,xe,q,ne,ge,xe,b,P+v.A,null,null,Pe),f}function Ui(o,c,f){var v=o.F,b=[o.J];if(v!=null){var P=o.U,I=c.ba.S,D=I==Wc||I==Gc;c=c.ba.f.RGBA;var T=[0],q=o.ka;T[0]=o.T,o.Kb&&(q==0?--T[0]:(--q,b[0]-=o.width),o.j+o.ka+o.T==o.o&&(T[0]=o.o-o.j-q));var ne=c.eb;q=c.fb+q*c.A,o=Xt(v,b[0],o.width,P,T,ne,q+(D?0:3),c.A),t(f==T),o&&tt(I)&&Xr(ne,q,D,P,T,c.A)}return 0}function Kt(o){var c=o.ma,f=c.ba.S,v=11>f,b=f==Hc||f==Vc||f==Wc||f==Xd||f==12||tt(f);if(c.memory=null,c.Ib=null,c.Jb=null,c.Nd=null,!xl(c.Oa,o,b?11:12))return 0;if(b&&tt(f)&&Fe(),o.da)alert("todo:use_scaling");else{if(v){if(c.Ib=qe,o.Kb){if(f=o.U+1>>1,c.memory=a(o.U+2*f),c.memory==null)return 0;c.ec=c.memory,c.fc=0,c.cc=c.ec,c.dc=c.fc+o.U,c.Mc=c.cc,c.Nc=c.dc+f,c.Ib=gt,Fe()}}else alert("todo:EmitYUV");b&&(c.Jb=Ui,v&&ue())}if(v&&!f0){for(o=0;256>o;++o)v5[o]=89858*(o-128)+Yc>>Jc,N5[o]=-22014*(o-128)+Yc,w5[o]=-45773*(o-128),y5[o]=113618*(o-128)+Yc>>Jc;for(o=Ll;o<ih;++o)c=76283*(o-16)+Yc>>Jc,b5[o-Ll]=Ir(c,255),j5[o-Ll]=Ir(c+8>>4,15);f0=1}return 1}function $r(o){var c=o.ma,f=o.U,v=o.T;return t(!(1&o.ka)),0>=f||0>=v?0:(f=c.Ib(o,c),c.Jb!=null&&c.Jb(o,c,f),c.Dc+=f,1)}function Ar(o){o.ma.memory=null}function at(o,c,f,v){return K(o,8)!=47?0:(c[0]=K(o,14)+1,f[0]=K(o,14)+1,v[0]=K(o,1),K(o,3)!=0?0:!o.h)}function Cr(o,c){if(4>o)return o+1;var f=o-2>>1;return(2+(1&o)<<f)+K(c,f)+1}function Hr(o,c){return 120<c?c-120:1<=(f=((f=i5[c-1])>>4)*o+(8-(15&f)))?f:1;var f}function Rn(o,c,f){var v=B(f),b=o[c+=255&v].g-8;return 0<b&&(Z(f,f.u+8),v=B(f),c+=o[c].value,c+=v&(1<<b)-1),Z(f,f.u+o[c].g),o[c].value}function gn(o,c,f){return f.g+=o.g,f.value+=o.value<<c>>>0,t(8>=f.g),o.g}function rn(o,c,f){var v=o.xc;return t((c=v==0?0:o.vc[o.md*(f>>v)+(c>>v)])<o.Wb),o.Ya[c]}function rr(o,c,f,v){var b=o.ab,P=o.c*c,I=o.C;c=I+c;var D=f,T=v;for(v=o.Ta,f=o.Ua;0<b--;){var q=o.gc[b],ne=I,ge=c,xe=D,le=T,Ae=(T=v,D=f,q.Ea);switch(t(ne<ge),t(ge<=q.nc),q.hc){case 2:Mc(xe,le,(ge-ne)*Ae,T,D);break;case 0:var be=ne,ie=ge,se=T,ke=D,Pe=($e=q).Ea;be==0&&(Kd(xe,le,null,null,1,se,ke),ut(xe,le+1,0,0,Pe-1,se,ke+1),le+=Pe,ke+=Pe,++be);for(var Le=1<<$e.b,Ge=Le-1,Ue=Je(Pe,$e.b),lt=$e.K,$e=$e.w+(be>>$e.b)*Ue;be<ie;){var Rt=lt,qt=$e,Dt=1;for(wl(xe,le,se,ke-Pe,1,se,ke);Dt<Pe;){var _t=(Dt&~Ge)+Le;_t>Pe&&(_t=Pe),(0,Ss[Rt[qt++]>>8&15])(xe,le+ +Dt,se,ke+Dt-Pe,_t-Dt,se,ke+Dt),Dt=_t}le+=Pe,ke+=Pe,++be&Ge||($e+=Ue)}ge!=q.nc&&r(T,D-Ae,T,D+(ge-ne-1)*Ae,Ae);break;case 1:for(Ae=xe,ie=le,Pe=(xe=q.Ea)-(ke=xe&~(se=(le=1<<q.b)-1)),be=Je(xe,q.b),Le=q.K,q=q.w+(ne>>q.b)*be;ne<ge;){for(Ge=Le,Ue=q,lt=new Be,$e=ie+ke,Rt=ie+xe;ie<$e;)Tt(Ge[Ue++],lt),va(lt,Ae,ie,le,T,D),ie+=le,D+=le;ie<Rt&&(Tt(Ge[Ue++],lt),va(lt,Ae,ie,Pe,T,D),ie+=Pe,D+=Pe),++ne&se||(q+=be)}break;case 3:if(xe==T&&le==D&&0<q.b){for(ie=T,xe=Ae=D+(ge-ne)*Ae-(ke=(ge-ne)*Je(q.Ea,q.b)),le=T,se=D,be=[],ke=(Pe=ke)-1;0<=ke;--ke)be[ke]=le[se+ke];for(ke=Pe-1;0<=ke;--ke)ie[xe+ke]=be[ke];Yr(q,ne,ge,T,Ae,T,D)}else Yr(q,ne,ge,xe,le,T,D)}D=v,T=f}T!=f&&r(v,f,D,T,P)}function fs(o,c){var f=o.V,v=o.Ba+o.c*o.C,b=c-o.C;if(t(c<=o.l.o),t(16>=b),0<b){var P=o.l,I=o.Ta,D=o.Ua,T=P.width;if(rr(o,b,f,v),b=D=[D],t((f=o.C)<(v=c)),t(P.v<P.va),v>P.o&&(v=P.o),f<P.j){var q=P.j-f;f=P.j,b[0]+=q*T}if(f>=v?f=0:(b[0]+=4*P.v,P.ka=f-P.j,P.U=P.va-P.v,P.T=v-f,f=1),f){if(D=D[0],11>(f=o.ca).S){var ne=f.f.RGBA,ge=(v=f.S,b=P.U,P=P.T,q=ne.eb,ne.A),xe=P;for(ne=ne.fb+o.Ma*ne.A;0<xe--;){var le=I,Ae=D,be=b,ie=q,se=ne;switch(v){case $c:gr(le,Ae,be,ie,se);break;case Hc:sr(le,Ae,be,ie,se);break;case Zd:sr(le,Ae,be,ie,se),Xr(ie,se,0,be,1,0);break;case r0:Ki(le,Ae,be,ie,se);break;case Vc:Ce(le,Ae,be,ie,se,1);break;case eh:Ce(le,Ae,be,ie,se,1),Xr(ie,se,0,be,1,0);break;case Wc:Ce(le,Ae,be,ie,se,0);break;case Gc:Ce(le,Ae,be,ie,se,0),Xr(ie,se,1,be,1,0);break;case Xd:ks(le,Ae,be,ie,se);break;case th:ks(le,Ae,be,ie,se),Qt(ie,se,be,1,0);break;case i0:Yi(le,Ae,be,ie,se);break;default:t(0)}D+=T,ne+=ge}o.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");t(o.Ma<=f.height)}}o.C=c,t(o.C<=o.i)}function Vr(o){var c;if(0<o.ua)return 0;for(c=0;c<o.Wb;++c){var f=o.Ya[c].G,v=o.Ya[c].H;if(0<f[1][v[1]+0].g||0<f[2][v[2]+0].g||0<f[3][v[3]+0].g)return 0}return 1}function Pr(o,c,f,v,b,P){if(o.Z!=0){var I=o.qd,D=o.rd;for(t(Ps[o.Z]!=null);c<f;++c)Ps[o.Z](I,D,v,b,v,b,P),I=v,D=b,b+=P;o.qd=I,o.rd=D}}function _r(o,c){var f=o.l.ma,v=f.Z==0||f.Z==1?o.l.j:o.C;if(v=o.C<v?v:o.C,t(c<=o.l.o),c>v){var b=o.l.width,P=f.ca,I=f.tb+b*v,D=o.V,T=o.Ba+o.c*v,q=o.gc;t(o.ab==1),t(q[0].hc==3),Oc(q[0],v,c,D,T,P,I),Pr(f,v,c,P,I,b)}o.C=o.Ma=c}function hr(o,c,f,v,b,P,I){var D=o.$/v,T=o.$%v,q=o.m,ne=o.s,ge=f+o.$,xe=ge;b=f+v*b;var le=f+v*P,Ae=280+ne.ua,be=o.Pb?D:16777216,ie=0<ne.ua?ne.Wa:null,se=ne.wc,ke=ge<le?rn(ne,T,D):null;t(o.C<P),t(le<=b);var Pe=!1;e:for(;;){for(;Pe||ge<le;){var Le=0;if(D>=be){var Ge=ge-f;t((be=o).Pb),be.wd=be.m,be.xd=Ge,0<be.s.ua&&de(be.s.Wa,be.s.vb),be=D+a5}if(T&se||(ke=rn(ne,T,D)),t(ke!=null),ke.Qb&&(c[ge]=ke.qb,Pe=!0),!Pe)if(re(q),ke.jc){Le=q,Ge=c;var Ue=ge,lt=ke.pd[B(Le)&qn-1];t(ke.jc),256>lt.g?(Z(Le,Le.u+lt.g),Ge[Ue]=lt.value,Le=0):(Z(Le,Le.u+lt.g-256),t(256<=lt.value),Le=lt.value),Le==0&&(Pe=!0)}else Le=Rn(ke.G[0],ke.H[0],q);if(q.h)break;if(Pe||256>Le){if(!Pe)if(ke.nd)c[ge]=(ke.qb|Le<<8)>>>0;else{if(re(q),Pe=Rn(ke.G[1],ke.H[1],q),re(q),Ge=Rn(ke.G[2],ke.H[2],q),Ue=Rn(ke.G[3],ke.H[3],q),q.h)break;c[ge]=(Ue<<24|Pe<<16|Le<<8|Ge)>>>0}if(Pe=!1,++ge,++T>=v&&(T=0,++D,I!=null&&D<=P&&!(D%16)&&I(o,D),ie!=null))for(;xe<ge;)Le=c[xe++],ie.X[(506832829*Le&4294967295)>>>ie.Mb]=Le}else if(280>Le){if(Le=Cr(Le-256,q),Ge=Rn(ke.G[4],ke.H[4],q),re(q),Ge=Hr(v,Ge=Cr(Ge,q)),q.h)break;if(ge-f<Ge||b-ge<Le)break e;for(Ue=0;Ue<Le;++Ue)c[ge+Ue]=c[ge+Ue-Ge];for(ge+=Le,T+=Le;T>=v;)T-=v,++D,I!=null&&D<=P&&!(D%16)&&I(o,D);if(t(ge<=b),T&se&&(ke=rn(ne,T,D)),ie!=null)for(;xe<ge;)Le=c[xe++],ie.X[(506832829*Le&4294967295)>>>ie.Mb]=Le}else{if(!(Le<Ae))break e;for(Pe=Le-280,t(ie!=null);xe<ge;)Le=c[xe++],ie.X[(506832829*Le&4294967295)>>>ie.Mb]=Le;Le=ge,t(!(Pe>>>(Ge=ie).Xa)),c[Le]=Ge.X[Pe],Pe=!0}Pe||t(q.h==H(q))}if(o.Pb&&q.h&&ge<b)t(o.m.h),o.a=5,o.m=o.wd,o.$=o.xd,0<o.s.ua&&de(o.s.vb,o.s.Wa);else{if(q.h)break e;I!=null&&I(o,D>P?P:D),o.a=0,o.$=ge-f}return 1}return o.a=3,0}function Wr(o){t(o!=null),o.vc=null,o.yc=null,o.Ya=null;var c=o.Wa;c!=null&&(c.X=null),o.vb=null,t(o!=null)}function fr(){var o=new Yd;return o==null?null:(o.a=0,o.xb=o0,He("Predictor","VP8LPredictors"),He("Predictor","VP8LPredictors_C"),He("PredictorAdd","VP8LPredictorsAdd"),He("PredictorAdd","VP8LPredictorsAdd_C"),Mc=St,va=rt,gr=Re,sr=Mt,ks=vt,Yi=Wt,Ki=R,S.VP8LMapColor32b=so,S.VP8LMapColor8b=Rc,o)}function An(o,c,f,v,b){var P=1,I=[o],D=[c],T=v.m,q=v.s,ne=null,ge=0;e:for(;;){if(f)for(;P&&K(T,1);){var xe=I,le=D,Ae=v,be=1,ie=Ae.m,se=Ae.gc[Ae.ab],ke=K(ie,2);if(Ae.Oc&1<<ke)P=0;else{switch(Ae.Oc|=1<<ke,se.hc=ke,se.Ea=xe[0],se.nc=le[0],se.K=[null],++Ae.ab,t(4>=Ae.ab),ke){case 0:case 1:se.b=K(ie,3)+2,be=An(Je(se.Ea,se.b),Je(se.nc,se.b),0,Ae,se.K),se.K=se.K[0];break;case 3:var Pe,Le=K(ie,8)+1,Ge=16<Le?0:4<Le?1:2<Le?2:3;if(xe[0]=Je(se.Ea,Ge),se.b=Ge,Pe=be=An(Le,1,0,Ae,se.K)){var Ue,lt=Le,$e=se,Rt=1<<(8>>$e.b),qt=a(Rt);if(qt==null)Pe=0;else{var Dt=$e.K[0],_t=$e.w;for(qt[0]=$e.K[0][0],Ue=1;Ue<1*lt;++Ue)qt[Ue]=Ee(Dt[_t+Ue],qt[Ue-1]);for(;Ue<4*Rt;++Ue)qt[Ue]=0;$e.K[0]=null,$e.K[0]=qt,Pe=1}}be=Pe;break;case 2:break;default:t(0)}P=be}}if(I=I[0],D=D[0],P&&K(T,1)&&!(P=1<=(ge=K(T,4))&&11>=ge)){v.a=3;break e}var Jt;if(Jt=P)t:{var Vt,jt,Sn,xr=v,kn=I,vr=D,Ut=ge,Er=f,Dr=xr.m,En=xr.s,Un=[null],or=1,ti=0,Pi=s5[Ut];n:for(;;){if(Er&&K(Dr,1)){var Dn=K(Dr,3)+2,es=Je(kn,Dn),ja=Je(vr,Dn),uo=es*ja;if(!An(es,ja,0,xr,Un))break n;for(Un=Un[0],En.xc=Dn,Vt=0;Vt<uo;++Vt){var _s=Un[Vt]>>8&65535;Un[Vt]=_s,_s>=or&&(or=_s+1)}}if(Dr.h)break n;for(jt=0;5>jt;++jt){var fn=s0[jt];!jt&&0<Ut&&(fn+=1<<Ut),ti<fn&&(ti=fn)}var sh=l(or*Pi,F),g0=or,x0=l(g0,Q);if(x0==null)var Qc=null;else t(65536>=g0),Qc=x0;var Al=a(ti);if(Qc==null||Al==null||sh==null){xr.a=1;break n}var Xc=sh;for(Vt=Sn=0;Vt<or;++Vt){var di=Qc[Vt],ho=di.G,fo=di.H,v0=0,Zc=1,y0=0;for(jt=0;5>jt;++jt){fn=s0[jt],ho[jt]=Xc,fo[jt]=Sn,!jt&&0<Ut&&(fn+=1<<Ut);i:{var eu,ah=fn,tu=xr,Cl=Al,L5=Xc,A5=Sn,oh=0,Is=tu.m,C5=K(Is,1);if(s(Cl,0,0,ah),C5){var P5=K(Is,1)+1,_5=K(Is,1),w0=K(Is,_5==0?1:8);Cl[w0]=1,P5==2&&(Cl[w0=K(Is,8)]=1);var nu=1}else{var N0=a(19),b0=K(Is,4)+4;if(19<b0){tu.a=3;var ru=0;break i}for(eu=0;eu<b0;++eu)N0[r5[eu]]=K(Is,3);var lh=void 0,Pl=void 0,j0=tu,I5=N0,iu=ah,S0=Cl,ch=0,Fs=j0.m,k0=8,L0=l(128,F);r:for(;C(L0,0,7,I5,19);){if(K(Fs,1)){var F5=2+2*K(Fs,3);if((lh=2+K(Fs,F5))>iu)break r}else lh=iu;for(Pl=0;Pl<iu&&lh--;){re(Fs);var A0=L0[0+(127&B(Fs))];Z(Fs,Fs.u+A0.g);var po=A0.value;if(16>po)S0[Pl++]=po,po!=0&&(k0=po);else{var E5=po==16,C0=po-16,D5=t5[C0],P0=K(Fs,e5[C0])+D5;if(Pl+P0>iu)break r;for(var z5=E5?k0:0;0<P0--;)S0[Pl++]=z5}}ch=1;break r}ch||(j0.a=3),nu=ch}(nu=nu&&!Is.h)&&(oh=C(L5,A5,8,Cl,ah)),nu&&oh!=0?ru=oh:(tu.a=3,ru=0)}if(ru==0)break n;if(Zc&&n5[jt]==1&&(Zc=Xc[Sn].g==0),v0+=Xc[Sn].g,Sn+=ru,3>=jt){var _l,uh=Al[0];for(_l=1;_l<fn;++_l)Al[_l]>uh&&(uh=Al[_l]);y0+=uh}}if(di.nd=Zc,di.Qb=0,Zc&&(di.qb=(ho[3][fo[3]+0].value<<24|ho[1][fo[1]+0].value<<16|ho[2][fo[2]+0].value)>>>0,v0==0&&256>ho[0][fo[0]+0].value&&(di.Qb=1,di.qb+=ho[0][fo[0]+0].value<<8)),di.jc=!di.Qb&&6>y0,di.jc){var su,ts=di;for(su=0;su<qn;++su){var Es=su,Ds=ts.pd[Es],au=ts.G[0][ts.H[0]+Es];256<=au.value?(Ds.g=au.g+256,Ds.value=au.value):(Ds.g=0,Ds.value=0,Es>>=gn(au,8,Ds),Es>>=gn(ts.G[1][ts.H[1]+Es],16,Ds),Es>>=gn(ts.G[2][ts.H[2]+Es],0,Ds),gn(ts.G[3][ts.H[3]+Es],24,Ds))}}}En.vc=Un,En.Wb=or,En.Ya=Qc,En.yc=sh,Jt=1;break t}Jt=0}if(!(P=Jt)){v.a=3;break e}if(0<ge){if(q.ua=1<<ge,!we(q.Wa,ge)){v.a=1,P=0;break e}}else q.ua=0;var dh=v,_0=I,T5=D,hh=dh.s,fh=hh.xc;if(dh.c=_0,dh.i=T5,hh.md=Je(_0,fh),hh.wc=fh==0?-1:(1<<fh)-1,f){v.xb=f5;break e}if((ne=a(I*D))==null){v.a=1,P=0;break e}P=(P=hr(v,ne,0,I,D,D,null))&&!T.h;break e}return P?(b!=null?b[0]=ne:(t(ne==null),t(f)),v.$=0,f||Wr(q)):Wr(q),P}function $i(o,c){var f=o.c*o.i,v=f+c+16*c;return t(o.c<=c),o.V=a(v),o.V==null?(o.Ta=null,o.Ua=0,o.a=1,0):(o.Ta=o.V,o.Ua=o.Ba+f+c,1)}function ps(o,c){var f=o.C,v=c-f,b=o.V,P=o.Ba+o.c*f;for(t(c<=o.l.o);0<v;){var I=16<v?16:v,D=o.l.ma,T=o.l.width,q=T*I,ne=D.ca,ge=D.tb+T*f,xe=o.Ta,le=o.Ua;rr(o,I,b,P),vn(xe,le,ne,ge,q),Pr(D,f,f+I,ne,ge,T),v-=I,b+=I*o.c,f+=I}t(f==c),o.C=o.Ma=c}function Hi(){this.ub=this.yd=this.td=this.Rb=0}function ms(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gs(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ha(){this.Yb=function(){var o=[];return function c(f,v,b){for(var P=b[v],I=0;I<P&&(f.push(b.length>v+1?[]:0),!(b.length<v+1));I++)c(f[I],v+1,b)}(o,0,[3,11]),o}()}function tl(){this.jb=a(3),this.Wc=u([4,8],Ha),this.Xc=u([4,17],Ha)}function nl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function xs(){this.ld=this.La=this.dd=this.tc=0}function Va(){this.Na=this.la=0}function rl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function da(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vi(){this.uc=this.M=this.Nb=0,this.wa=Array(new xs),this.Y=0,this.ya=Array(new da),this.aa=0,this.l=new Jr}function Gr(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Cn(){this.cb=this.a=0,this.sc="",this.m=new Se,this.Od=new Hi,this.Kc=new ms,this.ed=new nl,this.Qa=new gs,this.Ic=this.$c=this.Aa=0,this.D=new Vi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,Se),this.ia=0,this.pb=l(4,rl),this.Pa=new tl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Gr),this.Hd=0,this.rb=Array(new Va),this.sb=0,this.wa=Array(new xs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new da),this.L=this.aa=0,this.gd=u([4,2],xs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Jr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function il(){var o=new Cn;return o!=null&&(o.a=0,o.sc="OK",o.cb=0,o.Xb=0,kl||(kl=ha)),o}function an(o,c,f){return o.a==0&&(o.a=c,o.sc=f,o.cb=0),0}function Wa(o,c,f){return 3<=f&&o[c+0]==157&&o[c+1]==1&&o[c+2]==42}function Wi(o,c){if(o==null)return 0;if(o.a=0,o.sc="OK",c==null)return an(o,2,"null VP8Io passed to VP8GetHeaders()");var f=c.data,v=c.w,b=c.ha;if(4>b)return an(o,7,"Truncated header.");var P=f[v+0]|f[v+1]<<8|f[v+2]<<16,I=o.Od;if(I.Rb=!(1&P),I.td=P>>1&7,I.yd=P>>4&1,I.ub=P>>5,3<I.td)return an(o,3,"Incorrect keyframe parameters.");if(!I.yd)return an(o,4,"Frame not displayable.");v+=3,b-=3;var D=o.Kc;if(I.Rb){if(7>b)return an(o,7,"cannot parse picture header");if(!Wa(f,v,b))return an(o,3,"Bad code word");D.c=16383&(f[v+4]<<8|f[v+3]),D.Td=f[v+4]>>6,D.i=16383&(f[v+6]<<8|f[v+5]),D.Ud=f[v+6]>>6,v+=7,b-=7,o.za=D.c+15>>4,o.Ub=D.i+15>>4,c.width=D.c,c.height=D.i,c.Da=0,c.j=0,c.v=0,c.va=c.width,c.o=c.height,c.da=0,c.ib=c.width,c.hb=c.height,c.U=c.width,c.T=c.height,s((P=o.Pa).jb,0,255,P.jb.length),t((P=o.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,s(P.Zb,0,0,P.Zb.length),s(P.Lb,0,0,P.Lb)}if(I.ub>b)return an(o,7,"bad partition length");oe(P=o.m,f,v,I.ub),v+=I.ub,b-=I.ub,I.Rb&&(D.Ld=pe(P),D.Kd=pe(P)),D=o.Qa;var T,q=o.Pa;if(t(P!=null),t(D!=null),D.Cb=pe(P),D.Cb){if(D.Bb=pe(P),pe(P)){for(D.Fb=pe(P),T=0;4>T;++T)D.Zb[T]=pe(P)?me(P,7):0;for(T=0;4>T;++T)D.Lb[T]=pe(P)?me(P,6):0}if(D.Bb)for(T=0;3>T;++T)q.jb[T]=pe(P)?ce(P,8):255}else D.Bb=0;if(P.Ka)return an(o,3,"cannot parse segment header");if((D=o.ed).zd=pe(P),D.Tb=ce(P,6),D.wb=ce(P,3),D.Pc=pe(P),D.Pc&&pe(P)){for(q=0;4>q;++q)pe(P)&&(D.vd[q]=me(P,6));for(q=0;4>q;++q)pe(P)&&(D.od[q]=me(P,6))}if(o.L=D.Tb==0?0:D.zd?1:2,P.Ka)return an(o,3,"cannot parse filter header");var ne=b;if(b=T=v,v=T+ne,D=ne,o.Xb=(1<<ce(o.m,2))-1,ne<3*(q=o.Xb))f=7;else{for(T+=3*q,D-=3*q,ne=0;ne<q;++ne){var ge=f[b+0]|f[b+1]<<8|f[b+2]<<16;ge>D&&(ge=D),oe(o.Jc[+ne],f,T,ge),T+=ge,D-=ge,b+=3}oe(o.Jc[+q],f,T,D),f=T<v?0:5}if(f!=0)return an(o,f,"cannot parse partitions");for(f=ce(T=o.m,7),b=pe(T)?me(T,4):0,v=pe(T)?me(T,4):0,D=pe(T)?me(T,4):0,q=pe(T)?me(T,4):0,T=pe(T)?me(T,4):0,ne=o.Qa,ge=0;4>ge;++ge){if(ne.Cb){var xe=ne.Zb[ge];ne.Fb||(xe+=f)}else{if(0<ge){o.pb[ge]=o.pb[0];continue}xe=f}var le=o.pb[ge];le.Sc[0]=nh[Ir(xe+b,127)],le.Sc[1]=rh[Ir(xe+0,127)],le.Eb[0]=2*nh[Ir(xe+v,127)],le.Eb[1]=101581*rh[Ir(xe+D,127)]>>16,8>le.Eb[1]&&(le.Eb[1]=8),le.Qc[0]=nh[Ir(xe+q,117)],le.Qc[1]=rh[Ir(xe+T,127)],le.lc=xe+T}if(!I.Rb)return an(o,4,"Not a key frame.");for(pe(P),I=o.Pa,f=0;4>f;++f){for(b=0;8>b;++b)for(v=0;3>v;++v)for(D=0;11>D;++D)q=ve(P,d5[f][b][v][D])?ce(P,8):c5[f][b][v][D],I.Wc[f][b].Yb[v][D]=q;for(b=0;17>b;++b)I.Xc[f][b]=I.Wc[f][h5[b]]}return o.kc=pe(P),o.kc&&(o.Bd=ce(P,8)),o.cb=1}function ha(o,c,f,v,b,P,I){var D=c[b].Yb[f];for(f=0;16>b;++b){if(!ve(o,D[f+0]))return b;for(;!ve(o,D[f+1]);)if(D=c[++b].Yb[0],f=0,b==16)return 16;var T=c[b+1].Yb;if(ve(o,D[f+2])){var q=o,ne=0;if(ve(q,(xe=D)[(ge=f)+3]))if(ve(q,xe[ge+6])){for(D=0,ge=2*(ne=ve(q,xe[ge+8]))+(xe=ve(q,xe[ge+9+ne])),ne=0,xe=o5[ge];xe[D];++D)ne+=ne+ve(q,xe[D]);ne+=3+(8<<ge)}else ve(q,xe[ge+7])?(ne=7+2*ve(q,165),ne+=ve(q,145)):ne=5+ve(q,159);else ne=ve(q,xe[ge+4])?3+ve(q,xe[ge+5]):2;D=T[2]}else ne=1,D=T[1];T=I+l5[b],0>(q=o).b&&fe(q);var ge,xe=q.b,le=(ge=q.Ca>>1)-(q.I>>xe)>>31;--q.b,q.Ca+=le,q.Ca|=1,q.I-=(ge+1&le)<<xe,P[T]=((ne^le)-le)*v[(0<b)+0]}return 16}function vs(o){var c=o.rb[o.sb-1];c.la=0,c.Na=0,s(o.zc,0,0,o.zc.length),o.ja=0}function Ga(o,c){if(o==null)return 0;if(c==null)return an(o,2,"NULL VP8Io parameter in VP8Decode().");if(!o.cb&&!Wi(o,c))return 0;if(t(o.cb),c.ac==null||c.ac(c)){c.ob&&(o.L=0);var f=Kc[o.L];if(o.L==2?(o.yb=0,o.zb=0):(o.yb=c.v-f>>4,o.zb=c.j-f>>4,0>o.yb&&(o.yb=0),0>o.zb&&(o.zb=0)),o.Va=c.o+15+f>>4,o.Hb=c.va+15+f>>4,o.Hb>o.za&&(o.Hb=o.za),o.Va>o.Ub&&(o.Va=o.Ub),0<o.L){var v=o.ed;for(f=0;4>f;++f){var b;if(o.Qa.Cb){var P=o.Qa.Lb[f];o.Qa.Fb||(P+=v.Tb)}else P=v.Tb;for(b=0;1>=b;++b){var I=o.gd[f][b],D=P;if(v.Pc&&(D+=v.vd[0],b&&(D+=v.od[0])),0<(D=0>D?0:63<D?63:D)){var T=D;0<v.wb&&(T=4<v.wb?T>>2:T>>1)>9-v.wb&&(T=9-v.wb),1>T&&(T=1),I.dd=T,I.tc=2*D+T,I.ld=40<=D?2:15<=D?1:0}else I.tc=0;I.La=b}}}f=0}else an(o,6,"Frame setup failed"),f=o.a;if(f=f==0){if(f){o.$c=0,0<o.Aa||(o.Ic=k5);e:{f=o.Ic,v=4*(T=o.za);var q=32*T,ne=T+1,ge=0<o.L?T*(0<o.Aa?2:1):0,xe=(o.Aa==2?2:1)*T;if((I=v+832+(b=3*(16*f+Kc[o.L])/2*q)+(P=o.Fa!=null&&0<o.Fa.length?o.Kc.c*o.Kc.i:0))!=I)f=0;else{if(I>o.Vb){if(o.Vb=0,o.Ec=a(I),o.Fc=0,o.Ec==null){f=an(o,1,"no memory during frame initialization.");break e}o.Vb=I}I=o.Ec,D=o.Fc,o.Ac=I,o.Bc=D,D+=v,o.Gd=l(q,Gr),o.Hd=0,o.rb=l(ne+1,Va),o.sb=1,o.wa=ge?l(ge,xs):null,o.Y=0,o.D.Nb=0,o.D.wa=o.wa,o.D.Y=o.Y,0<o.Aa&&(o.D.Y+=T),t(!0),o.oc=I,o.pc=D,D+=832,o.ya=l(xe,da),o.aa=0,o.D.ya=o.ya,o.D.aa=o.aa,o.Aa==2&&(o.D.aa+=T),o.R=16*T,o.B=8*T,T=(q=Kc[o.L])*o.R,q=q/2*o.B,o.sa=I,o.ta=D+T,o.qa=o.sa,o.ra=o.ta+16*f*o.R+q,o.Ha=o.qa,o.Ia=o.ra+8*f*o.B+q,o.$c=0,D+=b,o.mb=P?I:null,o.nb=P?D:null,t(D+P<=o.Fc+o.Vb),vs(o),s(o.Ac,o.Bc,0,v),f=1}}if(f){if(c.ka=0,c.y=o.sa,c.O=o.ta,c.f=o.qa,c.N=o.ra,c.ea=o.Ha,c.Vd=o.Ia,c.fa=o.R,c.Rc=o.B,c.F=null,c.J=0,!qc){for(f=-255;255>=f;++f)Pn[255+f]=0>f?-f:f;for(f=-1020;1020>=f;++f)Xi[1020+f]=-128>f?-128:127<f?127:f;for(f=-112;112>=f;++f)Sl[112+f]=-16>f?-16:15<f?15:f;for(f=-255;510>=f;++f)co[255+f]=0>f?0:255<f?255:f;qc=1}ao=ot,Qi=O,Nl=Ne,ar=ze,Kr=yt,xn=fa,oo=ll,Bc=ga,bl=Jd,ya=cl,wa=Gd,Ls=Qa,Na=ul,lo=Dc,ba=Ec,As=Ai,jl=Ji,Qr=Wd,ui[0]=Li,ui[1]=Ct,ui[2]=Bd,ui[3]=qd,ui[4]=Cc,ui[5]=Ya,ui[6]=Pc,ui[7]=sl,ui[8]=$d,ui[9]=Ud,Cs[0]=Ja,Cs[1]=ki,Cs[2]=Et,Cs[3]=ir,Cs[4]=Wn,Cs[5]=Rd,Cs[6]=Ac,Zi[0]=Ns,Zi[1]=on,Zi[2]=Hd,Zi[3]=al,Zi[4]=ma,Zi[5]=Vd,Zi[6]=ol,f=1}else f=0}f&&(f=function(le,Ae){for(le.M=0;le.M<le.Va;++le.M){var be,ie=le.Jc[le.M&le.Xb],se=le.m,ke=le;for(be=0;be<ke.za;++be){var Pe=se,Le=ke,Ge=Le.Ac,Ue=Le.Bc+4*be,lt=Le.zc,$e=Le.ya[Le.aa+be];if(Le.Qa.Bb?$e.$b=ve(Pe,Le.Pa.jb[0])?2+ve(Pe,Le.Pa.jb[2]):ve(Pe,Le.Pa.jb[1]):$e.$b=0,Le.kc&&($e.Ad=ve(Pe,Le.Bd)),$e.Za=!ve(Pe,145)+0,$e.Za){var Rt=$e.Ob,qt=0;for(Le=0;4>Le;++Le){var Dt,_t=lt[0+Le];for(Dt=0;4>Dt;++Dt){_t=u5[Ge[Ue+Dt]][_t];for(var Jt=a0[ve(Pe,_t[0])];0<Jt;)Jt=a0[2*Jt+ve(Pe,_t[Jt])];_t=-Jt,Ge[Ue+Dt]=_t}r(Rt,qt,Ge,Ue,4),qt+=4,lt[0+Le]=_t}}else _t=ve(Pe,156)?ve(Pe,128)?1:3:ve(Pe,163)?2:0,$e.Ob[0]=_t,s(Ge,Ue,_t,4),s(lt,0,_t,4);$e.Dd=ve(Pe,142)?ve(Pe,114)?ve(Pe,183)?1:3:2:0}if(ke.m.Ka)return an(le,7,"Premature end-of-partition0 encountered.");for(;le.ja<le.za;++le.ja){if(ke=ie,Pe=(se=le).rb[se.sb-1],Ge=se.rb[se.sb+se.ja],be=se.ya[se.aa+se.ja],Ue=se.kc?be.Ad:0)Pe.la=Ge.la=0,be.Za||(Pe.Na=Ge.Na=0),be.Hc=0,be.Gc=0,be.ia=0;else{var Vt,jt;if(Pe=Ge,Ge=ke,Ue=se.Pa.Xc,lt=se.ya[se.aa+se.ja],$e=se.pb[lt.$b],Le=lt.ad,Rt=0,qt=se.rb[se.sb-1],_t=Dt=0,s(Le,Rt,0,384),lt.Za)var Sn=0,xr=Ue[3];else{Jt=a(16);var kn=Pe.Na+qt.Na;if(kn=kl(Ge,Ue[1],kn,$e.Eb,0,Jt,0),Pe.Na=qt.Na=(0<kn)+0,1<kn)ao(Jt,0,Le,Rt);else{var vr=Jt[0]+3>>3;for(Jt=0;256>Jt;Jt+=16)Le[Rt+Jt]=vr}Sn=1,xr=Ue[0]}var Ut=15&Pe.la,Er=15&qt.la;for(Jt=0;4>Jt;++Jt){var Dr=1&Er;for(vr=jt=0;4>vr;++vr)Ut=Ut>>1|(Dr=(kn=kl(Ge,xr,kn=Dr+(1&Ut),$e.Sc,Sn,Le,Rt))>Sn)<<7,jt=jt<<2|(3<kn?3:1<kn?2:Le[Rt+0]!=0),Rt+=16;Ut>>=4,Er=Er>>1|Dr<<7,Dt=(Dt<<8|jt)>>>0}for(xr=Ut,Sn=Er>>4,Vt=0;4>Vt;Vt+=2){for(jt=0,Ut=Pe.la>>4+Vt,Er=qt.la>>4+Vt,Jt=0;2>Jt;++Jt){for(Dr=1&Er,vr=0;2>vr;++vr)kn=Dr+(1&Ut),Ut=Ut>>1|(Dr=0<(kn=kl(Ge,Ue[2],kn,$e.Qc,0,Le,Rt)))<<3,jt=jt<<2|(3<kn?3:1<kn?2:Le[Rt+0]!=0),Rt+=16;Ut>>=2,Er=Er>>1|Dr<<5}_t|=jt<<4*Vt,xr|=Ut<<4<<Vt,Sn|=(240&Er)<<Vt}Pe.la=xr,qt.la=Sn,lt.Hc=Dt,lt.Gc=_t,lt.ia=43690&_t?0:$e.ia,Ue=!(Dt|_t)}if(0<se.L&&(se.wa[se.Y+se.ja]=se.gd[be.$b][be.Za],se.wa[se.Y+se.ja].La|=!Ue),ke.Ka)return an(le,7,"Premature end-of-file encountered.")}if(vs(le),se=Ae,ke=1,be=(ie=le).D,Pe=0<ie.L&&ie.M>=ie.zb&&ie.M<=ie.Va,ie.Aa==0)e:{if(be.M=ie.M,be.uc=Pe,gl(ie,be),ke=1,be=(jt=ie.D).Nb,Pe=(_t=Kc[ie.L])*ie.R,Ge=_t/2*ie.B,Jt=16*be*ie.R,vr=8*be*ie.B,Ue=ie.sa,lt=ie.ta-Pe+Jt,$e=ie.qa,Le=ie.ra-Ge+vr,Rt=ie.Ha,qt=ie.Ia-Ge+vr,Er=(Ut=jt.M)==0,Dt=Ut>=ie.Va-1,ie.Aa==2&&gl(ie,jt),jt.uc)for(Dr=(kn=ie).D.M,t(kn.D.uc),jt=kn.yb;jt<kn.Hb;++jt){Sn=jt,xr=Dr;var En=(Un=(fn=kn).D).Nb;Vt=fn.R;var Un=Un.wa[Un.Y+Sn],or=fn.sa,ti=fn.ta+16*En*Vt+16*Sn,Pi=Un.dd,Dn=Un.tc;if(Dn!=0)if(t(3<=Dn),fn.L==1)0<Sn&&As(or,ti,Vt,Dn+4),Un.La&&Qr(or,ti,Vt,Dn),0<xr&&ba(or,ti,Vt,Dn+4),Un.La&&jl(or,ti,Vt,Dn);else{var es=fn.B,ja=fn.qa,uo=fn.ra+8*En*es+8*Sn,_s=fn.Ha,fn=fn.Ia+8*En*es+8*Sn;En=Un.ld,0<Sn&&(Bc(or,ti,Vt,Dn+4,Pi,En),ya(ja,uo,_s,fn,es,Dn+4,Pi,En)),Un.La&&(Ls(or,ti,Vt,Dn,Pi,En),lo(ja,uo,_s,fn,es,Dn,Pi,En)),0<xr&&(oo(or,ti,Vt,Dn+4,Pi,En),bl(ja,uo,_s,fn,es,Dn+4,Pi,En)),Un.La&&(wa(or,ti,Vt,Dn,Pi,En),Na(ja,uo,_s,fn,es,Dn,Pi,En))}}if(ie.ia&&alert("todo:DitherRow"),se.put!=null){if(jt=16*Ut,Ut=16*(Ut+1),Er?(se.y=ie.sa,se.O=ie.ta+Jt,se.f=ie.qa,se.N=ie.ra+vr,se.ea=ie.Ha,se.W=ie.Ia+vr):(jt-=_t,se.y=Ue,se.O=lt,se.f=$e,se.N=Le,se.ea=Rt,se.W=qt),Dt||(Ut-=_t),Ut>se.o&&(Ut=se.o),se.F=null,se.J=null,ie.Fa!=null&&0<ie.Fa.length&&jt<Ut&&(se.J=pl(ie,se,jt,Ut-jt),se.F=ie.mb,se.F==null&&se.F.length==0)){ke=an(ie,3,"Could not decode alpha data.");break e}jt<se.j&&(_t=se.j-jt,jt=se.j,t(!(1&_t)),se.O+=ie.R*_t,se.N+=ie.B*(_t>>1),se.W+=ie.B*(_t>>1),se.F!=null&&(se.J+=se.width*_t)),jt<Ut&&(se.O+=se.v,se.N+=se.v>>1,se.W+=se.v>>1,se.F!=null&&(se.J+=se.v),se.ka=jt-se.j,se.U=se.va-se.v,se.T=Ut-jt,ke=se.put(se))}be+1!=ie.Ic||Dt||(r(ie.sa,ie.ta-Pe,Ue,lt+16*ie.R,Pe),r(ie.qa,ie.ra-Ge,$e,Le+8*ie.B,Ge),r(ie.Ha,ie.Ia-Ge,Rt,qt+8*ie.B,Ge))}if(!ke)return an(le,6,"Output aborted.")}return 1}(o,c)),c.bc!=null&&c.bc(c),f&=1}return f?(o.cb=0,f):0}function pr(o,c,f,v,b){b=o[c+f+32*v]+(b>>3),o[c+f+32*v]=-256&b?0>b?0:255:b}function Gi(o,c,f,v,b,P){pr(o,c,0,f,v+b),pr(o,c,1,f,v+P),pr(o,c,2,f,v-P),pr(o,c,3,f,v-b)}function Bn(o){return(20091*o>>16)+o}function ys(o,c,f,v){var b,P=0,I=a(16);for(b=0;4>b;++b){var D=o[c+0]+o[c+8],T=o[c+0]-o[c+8],q=(35468*o[c+4]>>16)-Bn(o[c+12]),ne=Bn(o[c+4])+(35468*o[c+12]>>16);I[P+0]=D+ne,I[P+1]=T+q,I[P+2]=T-q,I[P+3]=D-ne,P+=4,c++}for(b=P=0;4>b;++b)D=(o=I[P+0]+4)+I[P+8],T=o-I[P+8],q=(35468*I[P+4]>>16)-Bn(I[P+12]),pr(f,v,0,0,D+(ne=Bn(I[P+4])+(35468*I[P+12]>>16))),pr(f,v,1,0,T+q),pr(f,v,2,0,T-q),pr(f,v,3,0,D-ne),P++,v+=32}function fa(o,c,f,v){var b=o[c+0]+4,P=35468*o[c+4]>>16,I=Bn(o[c+4]),D=35468*o[c+1]>>16;Gi(f,v,0,b+I,o=Bn(o[c+1]),D),Gi(f,v,1,b+P,o,D),Gi(f,v,2,b-P,o,D),Gi(f,v,3,b-I,o,D)}function O(o,c,f,v,b){ys(o,c,f,v),b&&ys(o,c+16,f,v+4)}function Ne(o,c,f,v){Qi(o,c+0,f,v,1),Qi(o,c+32,f,v+128,1)}function ze(o,c,f,v){var b;for(o=o[c+0]+4,b=0;4>b;++b)for(c=0;4>c;++c)pr(f,v,c,b,o)}function yt(o,c,f,v){o[c+0]&&ar(o,c+0,f,v),o[c+16]&&ar(o,c+16,f,v+4),o[c+32]&&ar(o,c+32,f,v+128),o[c+48]&&ar(o,c+48,f,v+128+4)}function ot(o,c,f,v){var b,P=a(16);for(b=0;4>b;++b){var I=o[c+0+b]+o[c+12+b],D=o[c+4+b]+o[c+8+b],T=o[c+4+b]-o[c+8+b],q=o[c+0+b]-o[c+12+b];P[0+b]=I+D,P[8+b]=I-D,P[4+b]=q+T,P[12+b]=q-T}for(b=0;4>b;++b)I=(o=P[0+4*b]+3)+P[3+4*b],D=P[1+4*b]+P[2+4*b],T=P[1+4*b]-P[2+4*b],q=o-P[3+4*b],f[v+0]=I+D>>3,f[v+16]=q+T>>3,f[v+32]=I-D>>3,f[v+48]=q-T>>3,v+=64}function mt(o,c,f){var v,b=c-32,P=Fr,I=255-o[b-1];for(v=0;v<f;++v){var D,T=P,q=I+o[c-1];for(D=0;D<f;++D)o[c+D]=T[q+o[b+D]];c+=32}}function Ct(o,c){mt(o,c,4)}function on(o,c){mt(o,c,8)}function ki(o,c){mt(o,c,16)}function Et(o,c){var f;for(f=0;16>f;++f)r(o,c+32*f,o,c-32,16)}function ir(o,c){var f;for(f=16;0<f;--f)s(o,c,o[c-1],16),c+=32}function ws(o,c,f){var v;for(v=0;16>v;++v)s(c,f+32*v,o,16)}function Ja(o,c){var f,v=16;for(f=0;16>f;++f)v+=o[c-1+32*f]+o[c+f-32];ws(v>>5,o,c)}function Wn(o,c){var f,v=8;for(f=0;16>f;++f)v+=o[c-1+32*f];ws(v>>4,o,c)}function Rd(o,c){var f,v=8;for(f=0;16>f;++f)v+=o[c+f-32];ws(v>>4,o,c)}function Ac(o,c){ws(128,o,c)}function xt(o,c,f){return o+2*c+f+2>>2}function Bd(o,c){var f,v=c-32;for(v=new Uint8Array([xt(o[v-1],o[v+0],o[v+1]),xt(o[v+0],o[v+1],o[v+2]),xt(o[v+1],o[v+2],o[v+3]),xt(o[v+2],o[v+3],o[v+4])]),f=0;4>f;++f)r(o,c+32*f,v,0,v.length)}function qd(o,c){var f=o[c-1],v=o[c-1+32],b=o[c-1+64],P=o[c-1+96];De(o,c+0,16843009*xt(o[c-1-32],f,v)),De(o,c+32,16843009*xt(f,v,b)),De(o,c+64,16843009*xt(v,b,P)),De(o,c+96,16843009*xt(b,P,P))}function Li(o,c){var f,v=4;for(f=0;4>f;++f)v+=o[c+f-32]+o[c-1+32*f];for(v>>=3,f=0;4>f;++f)s(o,c+32*f,v,4)}function Cc(o,c){var f=o[c-1+0],v=o[c-1+32],b=o[c-1+64],P=o[c-1-32],I=o[c+0-32],D=o[c+1-32],T=o[c+2-32],q=o[c+3-32];o[c+0+96]=xt(v,b,o[c-1+96]),o[c+1+96]=o[c+0+64]=xt(f,v,b),o[c+2+96]=o[c+1+64]=o[c+0+32]=xt(P,f,v),o[c+3+96]=o[c+2+64]=o[c+1+32]=o[c+0+0]=xt(I,P,f),o[c+3+64]=o[c+2+32]=o[c+1+0]=xt(D,I,P),o[c+3+32]=o[c+2+0]=xt(T,D,I),o[c+3+0]=xt(q,T,D)}function Pc(o,c){var f=o[c+1-32],v=o[c+2-32],b=o[c+3-32],P=o[c+4-32],I=o[c+5-32],D=o[c+6-32],T=o[c+7-32];o[c+0+0]=xt(o[c+0-32],f,v),o[c+1+0]=o[c+0+32]=xt(f,v,b),o[c+2+0]=o[c+1+32]=o[c+0+64]=xt(v,b,P),o[c+3+0]=o[c+2+32]=o[c+1+64]=o[c+0+96]=xt(b,P,I),o[c+3+32]=o[c+2+64]=o[c+1+96]=xt(P,I,D),o[c+3+64]=o[c+2+96]=xt(I,D,T),o[c+3+96]=xt(D,T,T)}function Ya(o,c){var f=o[c-1+0],v=o[c-1+32],b=o[c-1+64],P=o[c-1-32],I=o[c+0-32],D=o[c+1-32],T=o[c+2-32],q=o[c+3-32];o[c+0+0]=o[c+1+64]=P+I+1>>1,o[c+1+0]=o[c+2+64]=I+D+1>>1,o[c+2+0]=o[c+3+64]=D+T+1>>1,o[c+3+0]=T+q+1>>1,o[c+0+96]=xt(b,v,f),o[c+0+64]=xt(v,f,P),o[c+0+32]=o[c+1+96]=xt(f,P,I),o[c+1+32]=o[c+2+96]=xt(P,I,D),o[c+2+32]=o[c+3+96]=xt(I,D,T),o[c+3+32]=xt(D,T,q)}function sl(o,c){var f=o[c+0-32],v=o[c+1-32],b=o[c+2-32],P=o[c+3-32],I=o[c+4-32],D=o[c+5-32],T=o[c+6-32],q=o[c+7-32];o[c+0+0]=f+v+1>>1,o[c+1+0]=o[c+0+64]=v+b+1>>1,o[c+2+0]=o[c+1+64]=b+P+1>>1,o[c+3+0]=o[c+2+64]=P+I+1>>1,o[c+0+32]=xt(f,v,b),o[c+1+32]=o[c+0+96]=xt(v,b,P),o[c+2+32]=o[c+1+96]=xt(b,P,I),o[c+3+32]=o[c+2+96]=xt(P,I,D),o[c+3+64]=xt(I,D,T),o[c+3+96]=xt(D,T,q)}function Ud(o,c){var f=o[c-1+0],v=o[c-1+32],b=o[c-1+64],P=o[c-1+96];o[c+0+0]=f+v+1>>1,o[c+2+0]=o[c+0+32]=v+b+1>>1,o[c+2+32]=o[c+0+64]=b+P+1>>1,o[c+1+0]=xt(f,v,b),o[c+3+0]=o[c+1+32]=xt(v,b,P),o[c+3+32]=o[c+1+64]=xt(b,P,P),o[c+3+64]=o[c+2+64]=o[c+0+96]=o[c+1+96]=o[c+2+96]=o[c+3+96]=P}function $d(o,c){var f=o[c-1+0],v=o[c-1+32],b=o[c-1+64],P=o[c-1+96],I=o[c-1-32],D=o[c+0-32],T=o[c+1-32],q=o[c+2-32];o[c+0+0]=o[c+2+32]=f+I+1>>1,o[c+0+32]=o[c+2+64]=v+f+1>>1,o[c+0+64]=o[c+2+96]=b+v+1>>1,o[c+0+96]=P+b+1>>1,o[c+3+0]=xt(D,T,q),o[c+2+0]=xt(I,D,T),o[c+1+0]=o[c+3+32]=xt(f,I,D),o[c+1+32]=o[c+3+64]=xt(v,f,I),o[c+1+64]=o[c+3+96]=xt(b,v,f),o[c+1+96]=xt(P,b,v)}function Hd(o,c){var f;for(f=0;8>f;++f)r(o,c+32*f,o,c-32,8)}function al(o,c){var f;for(f=0;8>f;++f)s(o,c,o[c-1],8),c+=32}function pa(o,c,f){var v;for(v=0;8>v;++v)s(c,f+32*v,o,8)}function Ns(o,c){var f,v=8;for(f=0;8>f;++f)v+=o[c+f-32]+o[c-1+32*f];pa(v>>4,o,c)}function Vd(o,c){var f,v=4;for(f=0;8>f;++f)v+=o[c+f-32];pa(v>>3,o,c)}function ma(o,c){var f,v=4;for(f=0;8>f;++f)v+=o[c-1+32*f];pa(v>>3,o,c)}function ol(o,c){pa(128,o,c)}function Ka(o,c,f){var v=o[c-f],b=o[c+0],P=3*(b-v)+Qd[1020+o[c-2*f]-o[c+f]],I=Uc[112+(P+4>>3)];o[c-f]=Fr[255+v+Uc[112+(P+3>>3)]],o[c+0]=Fr[255+b-I]}function _c(o,c,f,v){var b=o[c+0],P=o[c+f];return Zr[255+o[c-2*f]-o[c-f]]>v||Zr[255+P-b]>v}function Ic(o,c,f,v){return 4*Zr[255+o[c-f]-o[c+0]]+Zr[255+o[c-2*f]-o[c+f]]<=v}function Fc(o,c,f,v,b){var P=o[c-3*f],I=o[c-2*f],D=o[c-f],T=o[c+0],q=o[c+f],ne=o[c+2*f],ge=o[c+3*f];return 4*Zr[255+D-T]+Zr[255+I-q]>v?0:Zr[255+o[c-4*f]-P]<=b&&Zr[255+P-I]<=b&&Zr[255+I-D]<=b&&Zr[255+ge-ne]<=b&&Zr[255+ne-q]<=b&&Zr[255+q-T]<=b}function Ec(o,c,f,v){var b=2*v+1;for(v=0;16>v;++v)Ic(o,c+v,f,b)&&Ka(o,c+v,f)}function Ai(o,c,f,v){var b=2*v+1;for(v=0;16>v;++v)Ic(o,c+v*f,1,b)&&Ka(o,c+v*f,1)}function Ji(o,c,f,v){var b;for(b=3;0<b;--b)Ec(o,c+=4*f,f,v)}function Wd(o,c,f,v){var b;for(b=3;0<b;--b)Ai(o,c+=4,f,v)}function bs(o,c,f,v,b,P,I,D){for(P=2*P+1;0<b--;){if(Fc(o,c,f,P,I))if(_c(o,c,f,D))Ka(o,c,f);else{var T=o,q=c,ne=f,ge=T[q-2*ne],xe=T[q-ne],le=T[q+0],Ae=T[q+ne],be=T[q+2*ne],ie=27*(ke=Qd[1020+3*(le-xe)+Qd[1020+ge-Ae]])+63>>7,se=18*ke+63>>7,ke=9*ke+63>>7;T[q-3*ne]=Fr[255+T[q-3*ne]+ke],T[q-2*ne]=Fr[255+ge+se],T[q-ne]=Fr[255+xe+ie],T[q+0]=Fr[255+le-ie],T[q+ne]=Fr[255+Ae-se],T[q+2*ne]=Fr[255+be-ke]}c+=v}}function li(o,c,f,v,b,P,I,D){for(P=2*P+1;0<b--;){if(Fc(o,c,f,P,I))if(_c(o,c,f,D))Ka(o,c,f);else{var T=o,q=c,ne=f,ge=T[q-ne],xe=T[q+0],le=T[q+ne],Ae=Uc[112+((be=3*(xe-ge))+4>>3)],be=Uc[112+(be+3>>3)],ie=Ae+1>>1;T[q-2*ne]=Fr[255+T[q-2*ne]+ie],T[q-ne]=Fr[255+ge+be],T[q+0]=Fr[255+xe-Ae],T[q+ne]=Fr[255+le-ie]}c+=v}}function ll(o,c,f,v,b,P){bs(o,c,f,1,16,v,b,P)}function ga(o,c,f,v,b,P){bs(o,c,1,f,16,v,b,P)}function Gd(o,c,f,v,b,P){var I;for(I=3;0<I;--I)li(o,c+=4*f,f,1,16,v,b,P)}function Qa(o,c,f,v,b,P){var I;for(I=3;0<I;--I)li(o,c+=4,1,f,16,v,b,P)}function Jd(o,c,f,v,b,P,I,D){bs(o,c,b,1,8,P,I,D),bs(f,v,b,1,8,P,I,D)}function cl(o,c,f,v,b,P,I,D){bs(o,c,1,b,8,P,I,D),bs(f,v,1,b,8,P,I,D)}function ul(o,c,f,v,b,P,I,D){li(o,c+4*b,b,1,8,P,I,D),li(f,v+4*b,b,1,8,P,I,D)}function Dc(o,c,f,v,b,P,I,D){li(o,c+4,1,b,8,P,I,D),li(f,v+4,1,b,8,P,I,D)}function Xa(){this.ba=new Gt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Bt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function dl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function hl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function zc(){this.ua=0,this.Wa=new W,this.vb=new W,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new F}function Yd(){this.xb=this.a=0,this.l=new Jr,this.ca=new Gt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new zc,this.ab=0,this.gc=l(4,hl),this.Oc=0}function Za(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Jr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xa(o,c,f,v,b,P,I){for(o=o==null?0:o[c+0],c=0;c<I;++c)b[P+c]=o+f[v+c]&255,o=b[P+c]}function fl(o,c,f,v,b,P,I){var D;if(o==null)xa(null,null,f,v,b,P,I);else for(D=0;D<I;++D)b[P+D]=o[c+D]+f[v+D]&255}function js(o,c,f,v,b,P,I){if(o==null)xa(null,null,f,v,b,P,I);else{var D,T=o[c+0],q=T,ne=T;for(D=0;D<I;++D)q=ne+(T=o[c+D])-q,ne=f[v+D]+(-256&q?0>q?0:255:q)&255,q=T,b[P+D]=ne}}function pl(o,c,f,v){var b=c.width,P=c.o;if(t(o!=null&&c!=null),0>f||0>=v||f+v>P)return null;if(!o.Cc){if(o.ga==null){var I;if(o.ga=new Za,(I=o.ga==null)||(I=c.width*c.o,t(o.Gb.length==0),o.Gb=a(I),o.Uc=0,o.Gb==null?I=0:(o.mb=o.Gb,o.nb=o.Uc,o.rc=null,I=1),I=!I),!I){I=o.ga;var D=o.Fa,T=o.P,q=o.qc,ne=o.mb,ge=o.nb,xe=T+1,le=q-1,Ae=I.l;if(t(D!=null&&ne!=null&&c!=null),Ps[0]=null,Ps[1]=xa,Ps[2]=fl,Ps[3]=js,I.ca=ne,I.tb=ge,I.c=c.width,I.i=c.height,t(0<I.c&&0<I.i),1>=q)c=0;else if(I.$a=D[T+0]>>0&3,I.Z=D[T+0]>>2&3,I.Lc=D[T+0]>>4&3,T=D[T+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||T)c=0;else if(Ae.put=$r,Ae.ac=Kt,Ae.bc=Ar,Ae.ma=I,Ae.width=c.width,Ae.height=c.height,Ae.Da=c.Da,Ae.v=c.v,Ae.va=c.va,Ae.j=c.j,Ae.o=c.o,I.$a)e:{t(I.$a==1),c=fr();t:for(;;){if(c==null){c=0;break e}if(t(I!=null),I.mc=c,c.c=I.c,c.i=I.i,c.l=I.l,c.l.ma=I,c.l.width=I.c,c.l.height=I.i,c.a=0,M(c.m,D,xe,le),!An(I.c,I.i,1,c,null)||(c.ab==1&&c.gc[0].hc==3&&Vr(c.s)?(I.ic=1,D=c.c*c.i,c.Ta=null,c.Ua=0,c.V=a(D),c.Ba=0,c.V==null?(c.a=1,c=0):c=1):(I.ic=0,c=$i(c,I.c)),!c))break t;c=1;break e}I.mc=null,c=0}else c=le>=I.c*I.i;I=!c}if(I)return null;o.ga.Lc!=1?o.Ga=0:v=P-f}t(o.ga!=null),t(f+v<=P);e:{if(c=(D=o.ga).c,P=D.l.o,D.$a==0){if(xe=o.rc,le=o.Vc,Ae=o.Fa,T=o.P+1+f*c,q=o.mb,ne=o.nb+f*c,t(T<=o.P+o.qc),D.Z!=0)for(t(Ps[D.Z]!=null),I=0;I<v;++I)Ps[D.Z](xe,le,Ae,T,q,ne,c),xe=q,le=ne,ne+=c,T+=c;else for(I=0;I<v;++I)r(q,ne,Ae,T,c),xe=q,le=ne,ne+=c,T+=c;o.rc=xe,o.Vc=le}else{if(t(D.mc!=null),c=f+v,t((I=D.mc)!=null),t(c<=I.i),I.C>=c)c=1;else if(D.ic||ue(),D.ic){D=I.V,xe=I.Ba,le=I.c;var be=I.i,ie=(Ae=1,T=I.$/le,q=I.$%le,ne=I.m,ge=I.s,I.$),se=le*be,ke=le*c,Pe=ge.wc,Le=ie<ke?rn(ge,q,T):null;t(ie<=se),t(c<=be),t(Vr(ge));t:for(;;){for(;!ne.h&&ie<ke;){if(q&Pe||(Le=rn(ge,q,T)),t(Le!=null),re(ne),256>(be=Rn(Le.G[0],Le.H[0],ne)))D[xe+ie]=be,++ie,++q>=le&&(q=0,++T<=c&&!(T%16)&&_r(I,T));else{if(!(280>be)){Ae=0;break t}be=Cr(be-256,ne);var Ge,Ue=Rn(Le.G[4],Le.H[4],ne);if(re(ne),!(ie>=(Ue=Hr(le,Ue=Cr(Ue,ne)))&&se-ie>=be)){Ae=0;break t}for(Ge=0;Ge<be;++Ge)D[xe+ie+Ge]=D[xe+ie+Ge-Ue];for(ie+=be,q+=be;q>=le;)q-=le,++T<=c&&!(T%16)&&_r(I,T);ie<ke&&q&Pe&&(Le=rn(ge,q,T))}t(ne.h==H(ne))}_r(I,T>c?c:T);break t}!Ae||ne.h&&ie<se?(Ae=0,I.a=ne.h?5:3):I.$=ie,c=Ae}else c=hr(I,I.V,I.Ba,I.c,I.i,c,ps);if(!c){v=0;break e}}f+v>=P&&(o.Cc=1),v=1}if(!v)return null;if(o.Cc&&((v=o.ga)!=null&&(v.mc=null),o.ga=null,0<o.Ga))return alert("todo:WebPDequantizeLevels"),null}return o.nb+f*b}function h(o,c,f,v,b,P){for(;0<b--;){var I,D=o,T=c+(f?1:0),q=o,ne=c+(f?0:3);for(I=0;I<v;++I){var ge=q[ne+4*I];ge!=255&&(ge*=32897,D[T+4*I+0]=D[T+4*I+0]*ge>>23,D[T+4*I+1]=D[T+4*I+1]*ge>>23,D[T+4*I+2]=D[T+4*I+2]*ge>>23)}c+=P}}function j(o,c,f,v,b){for(;0<v--;){var P;for(P=0;P<f;++P){var I=o[c+2*P+0],D=15&(q=o[c+2*P+1]),T=4369*D,q=(240&q|q>>4)*T>>16;o[c+2*P+0]=(240&I|I>>4)*T>>16&240|(15&I|I<<4)*T>>16>>4&15,o[c+2*P+1]=240&q|D}c+=b}}function V(o,c,f,v,b,P,I,D){var T,q,ne=255;for(q=0;q<b;++q){for(T=0;T<v;++T){var ge=o[c+T];P[I+4*T]=ge,ne&=ge}c+=f,I+=D}return ne!=255}function te(o,c,f,v,b){var P;for(P=0;P<b;++P)f[v+P]=o[c+P]>>8}function ue(){Xr=h,Qt=j,Xt=V,vn=te}function je(o,c,f){S[o]=function(v,b,P,I,D,T,q,ne,ge,xe,le,Ae,be,ie,se,ke,Pe){var Le,Ge=Pe-1>>1,Ue=D[T+0]|q[ne+0]<<16,lt=ge[xe+0]|le[Ae+0]<<16;t(v!=null);var $e=3*Ue+lt+131074>>2;for(c(v[b+0],255&$e,$e>>16,be,ie),P!=null&&($e=3*lt+Ue+131074>>2,c(P[I+0],255&$e,$e>>16,se,ke)),Le=1;Le<=Ge;++Le){var Rt=D[T+Le]|q[ne+Le]<<16,qt=ge[xe+Le]|le[Ae+Le]<<16,Dt=Ue+Rt+lt+qt+524296,_t=Dt+2*(Rt+lt)>>3;$e=_t+Ue>>1,Ue=(Dt=Dt+2*(Ue+qt)>>3)+Rt>>1,c(v[b+2*Le-1],255&$e,$e>>16,be,ie+(2*Le-1)*f),c(v[b+2*Le-0],255&Ue,Ue>>16,be,ie+(2*Le-0)*f),P!=null&&($e=Dt+lt>>1,Ue=_t+qt>>1,c(P[I+2*Le-1],255&$e,$e>>16,se,ke+(2*Le-1)*f),c(P[I+2*Le+0],255&Ue,Ue>>16,se,ke+(2*Le+0)*f)),Ue=Rt,lt=qt}1&Pe||($e=3*Ue+lt+131074>>2,c(v[b+Pe-1],255&$e,$e>>16,be,ie+(Pe-1)*f),P!=null&&($e=3*lt+Ue+131074>>2,c(P[I+Pe-1],255&$e,$e>>16,se,ke+(Pe-1)*f)))}}function Fe(){ei[$c]=p5,ei[Hc]=l0,ei[r0]=m5,ei[Vc]=c0,ei[Wc]=u0,ei[Xd]=d0,ei[i0]=g5,ei[Zd]=l0,ei[eh]=c0,ei[Gc]=u0,ei[th]=d0}function We(o){return o&~x5?0>o?0:255:o>>h0}function it(o,c){return We((19077*o>>8)+(26149*c>>8)-14234)}function bt(o,c,f){return We((19077*o>>8)-(6419*c>>8)-(13320*f>>8)+8708)}function wt(o,c){return We((19077*o>>8)+(33050*c>>8)-17685)}function Ft(o,c,f,v,b){v[b+0]=it(o,f),v[b+1]=bt(o,c,f),v[b+2]=wt(o,c)}function ln(o,c,f,v,b){v[b+0]=wt(o,c),v[b+1]=bt(o,c,f),v[b+2]=it(o,f)}function hn(o,c,f,v,b){var P=bt(o,c,f);c=P<<3&224|wt(o,c)>>3,v[b+0]=248&it(o,f)|P>>5,v[b+1]=c}function jn(o,c,f,v,b){var P=240&wt(o,c)|15;v[b+0]=240&it(o,f)|bt(o,c,f)>>4,v[b+1]=P}function Gn(o,c,f,v,b){v[b+0]=255,Ft(o,c,f,v,b+1)}function Fn(o,c,f,v,b){ln(o,c,f,v,b),v[b+3]=255}function ci(o,c,f,v,b){Ft(o,c,f,v,b),v[b+3]=255}function Ir(o,c){return 0>o?0:o>c?c:o}function Ci(o,c,f){S[o]=function(v,b,P,I,D,T,q,ne,ge){for(var xe=ne+(-2&ge)*f;ne!=xe;)c(v[b+0],P[I+0],D[T+0],q,ne),c(v[b+1],P[I+0],D[T+0],q,ne+f),b+=2,++I,++T,ne+=2*f;1&ge&&c(v[b+0],P[I+0],D[T+0],q,ne)}}function Tc(o,c,f){return f==0?o==0?c==0?6:5:c==0?4:0:f}function ml(o,c,f,v,b){switch(o>>>30){case 3:Qi(c,f,v,b,0);break;case 2:xn(c,f,v,b);break;case 1:ar(c,f,v,b)}}function gl(o,c){var f,v,b=c.M,P=c.Nb,I=o.oc,D=o.pc+40,T=o.oc,q=o.pc+584,ne=o.oc,ge=o.pc+600;for(f=0;16>f;++f)I[D+32*f-1]=129;for(f=0;8>f;++f)T[q+32*f-1]=129,ne[ge+32*f-1]=129;for(0<b?I[D-1-32]=T[q-1-32]=ne[ge-1-32]=129:(s(I,D-32-1,127,21),s(T,q-32-1,127,9),s(ne,ge-32-1,127,9)),v=0;v<o.za;++v){var xe=c.ya[c.aa+v];if(0<v){for(f=-1;16>f;++f)r(I,D+32*f-4,I,D+32*f+12,4);for(f=-1;8>f;++f)r(T,q+32*f-4,T,q+32*f+4,4),r(ne,ge+32*f-4,ne,ge+32*f+4,4)}var le=o.Gd,Ae=o.Hd+v,be=xe.ad,ie=xe.Hc;if(0<b&&(r(I,D-32,le[Ae].y,0,16),r(T,q-32,le[Ae].f,0,8),r(ne,ge-32,le[Ae].ea,0,8)),xe.Za){var se=I,ke=D-32+16;for(0<b&&(v>=o.za-1?s(se,ke,le[Ae].y[15],4):r(se,ke,le[Ae+1].y,0,4)),f=0;4>f;f++)se[ke+128+f]=se[ke+256+f]=se[ke+384+f]=se[ke+0+f];for(f=0;16>f;++f,ie<<=2)se=I,ke=D+p0[f],ui[xe.Ob[f]](se,ke),ml(ie,be,16*+f,se,ke)}else if(se=Tc(v,b,xe.Ob[0]),Cs[se](I,D),ie!=0)for(f=0;16>f;++f,ie<<=2)ml(ie,be,16*+f,I,D+p0[f]);for(f=xe.Gc,se=Tc(v,b,xe.Dd),Zi[se](T,q),Zi[se](ne,ge),ie=be,se=T,ke=q,255&(xe=f>>0)&&(170&xe?Nl(ie,256,se,ke):Kr(ie,256,se,ke)),xe=ne,ie=ge,255&(f>>=8)&&(170&f?Nl(be,320,xe,ie):Kr(be,320,xe,ie)),b<o.Ub-1&&(r(le[Ae].y,0,I,D+480,16),r(le[Ae].f,0,T,q+224,8),r(le[Ae].ea,0,ne,ge+224,8)),f=8*P*o.B,le=o.sa,Ae=o.ta+16*v+16*P*o.R,be=o.qa,xe=o.ra+8*v+f,ie=o.Ha,se=o.Ia+8*v+f,f=0;16>f;++f)r(le,Ae+f*o.R,I,D+32*f,16);for(f=0;8>f;++f)r(be,xe+f*o.B,T,q+32*f,8),r(ie,se+f*o.B,ne,ge+32*f,8)}}function eo(o,c,f,v,b,P,I,D,T){var q=[0],ne=[0],ge=0,xe=T!=null?T.kd:0,le=T??new dl;if(o==null||12>f)return 7;le.data=o,le.w=c,le.ha=f,c=[c],f=[f],le.gb=[le.gb];e:{var Ae=c,be=f,ie=le.gb;if(t(o!=null),t(be!=null),t(ie!=null),ie[0]=0,12<=be[0]&&!n(o,Ae[0],"RIFF")){if(n(o,Ae[0]+8,"WEBP")){ie=3;break e}var se=ee(o,Ae[0]+4);if(12>se||4294967286<se){ie=3;break e}if(xe&&se>be[0]-8){ie=7;break e}ie[0]=se,Ae[0]+=12,be[0]-=12}ie=0}if(ie!=0)return ie;for(se=0<le.gb[0],f=f[0];;){e:{var ke=o;be=c,ie=f;var Pe=q,Le=ne,Ge=Ae=[0];if(($e=ge=[ge])[0]=0,8>ie[0])ie=7;else{if(!n(ke,be[0],"VP8X")){if(ee(ke,be[0]+4)!=10){ie=3;break e}if(18>ie[0]){ie=7;break e}var Ue=ee(ke,be[0]+8),lt=1+_e(ke,be[0]+12);if(2147483648<=lt*(ke=1+_e(ke,be[0]+15))){ie=3;break e}Ge!=null&&(Ge[0]=Ue),Pe!=null&&(Pe[0]=lt),Le!=null&&(Le[0]=ke),be[0]+=18,ie[0]-=18,$e[0]=1}ie=0}}if(ge=ge[0],Ae=Ae[0],ie!=0)return ie;if(be=!!(2&Ae),!se&&ge)return 3;if(P!=null&&(P[0]=!!(16&Ae)),I!=null&&(I[0]=be),D!=null&&(D[0]=0),I=q[0],Ae=ne[0],ge&&be&&T==null){ie=0;break}if(4>f){ie=7;break}if(se&&ge||!se&&!ge&&!n(o,c[0],"ALPH")){f=[f],le.na=[le.na],le.P=[le.P],le.Sa=[le.Sa];e:{Ue=o,ie=c,se=f;var $e=le.gb;Pe=le.na,Le=le.P,Ge=le.Sa,lt=22,t(Ue!=null),t(se!=null),ke=ie[0];var Rt=se[0];for(t(Pe!=null),t(Ge!=null),Pe[0]=null,Le[0]=null,Ge[0]=0;;){if(ie[0]=ke,se[0]=Rt,8>Rt){ie=7;break e}var qt=ee(Ue,ke+4);if(4294967286<qt){ie=3;break e}var Dt=8+qt+1&-2;if(lt+=Dt,0<$e&&lt>$e){ie=3;break e}if(!n(Ue,ke,"VP8 ")||!n(Ue,ke,"VP8L")){ie=0;break e}if(Rt[0]<Dt){ie=7;break e}n(Ue,ke,"ALPH")||(Pe[0]=Ue,Le[0]=ke+8,Ge[0]=qt),ke+=Dt,Rt-=Dt}}if(f=f[0],le.na=le.na[0],le.P=le.P[0],le.Sa=le.Sa[0],ie!=0)break}f=[f],le.Ja=[le.Ja],le.xa=[le.xa];e:if($e=o,ie=c,se=f,Pe=le.gb[0],Le=le.Ja,Ge=le.xa,Ue=ie[0],ke=!n($e,Ue,"VP8 "),lt=!n($e,Ue,"VP8L"),t($e!=null),t(se!=null),t(Le!=null),t(Ge!=null),8>se[0])ie=7;else{if(ke||lt){if($e=ee($e,Ue+4),12<=Pe&&$e>Pe-12){ie=3;break e}if(xe&&$e>se[0]-8){ie=7;break e}Le[0]=$e,ie[0]+=8,se[0]-=8,Ge[0]=lt}else Ge[0]=5<=se[0]&&$e[Ue+0]==47&&!($e[Ue+4]>>5),Le[0]=se[0];ie=0}if(f=f[0],le.Ja=le.Ja[0],le.xa=le.xa[0],c=c[0],ie!=0)break;if(4294967286<le.Ja)return 3;if(D==null||be||(D[0]=le.xa?2:1),I=[I],Ae=[Ae],le.xa){if(5>f){ie=7;break}D=I,xe=Ae,be=P,o==null||5>f?o=0:5<=f&&o[c+0]==47&&!(o[c+4]>>5)?(se=[0],$e=[0],Pe=[0],M(Le=new L,o,c,f),at(Le,se,$e,Pe)?(D!=null&&(D[0]=se[0]),xe!=null&&(xe[0]=$e[0]),be!=null&&(be[0]=Pe[0]),o=1):o=0):o=0}else{if(10>f){ie=7;break}D=Ae,o==null||10>f||!Wa(o,c+3,f-3)?o=0:(xe=o[c+0]|o[c+1]<<8|o[c+2]<<16,be=16383&(o[c+7]<<8|o[c+6]),o=16383&(o[c+9]<<8|o[c+8]),1&xe||3<(xe>>1&7)||!(xe>>4&1)||xe>>5>=le.Ja||!be||!o?o=0:(I&&(I[0]=be),D&&(D[0]=o),o=1))}if(!o||(I=I[0],Ae=Ae[0],ge&&(q[0]!=I||ne[0]!=Ae)))return 3;T!=null&&(T[0]=le,T.offset=c-T.w,t(4294967286>c-T.w),t(T.offset==T.ha-f));break}return ie==0||ie==7&&ge&&T==null?(P!=null&&(P[0]|=le.na!=null&&0<le.na.length),v!=null&&(v[0]=I),b!=null&&(b[0]=Ae),0):ie}function xl(o,c,f){var v=c.width,b=c.height,P=0,I=0,D=v,T=b;if(c.Da=o!=null&&0<o.Da,c.Da&&(D=o.cd,T=o.bd,P=o.v,I=o.j,11>f||(P&=-2,I&=-2),0>P||0>I||0>=D||0>=T||P+D>v||I+T>b))return 0;if(c.v=P,c.j=I,c.va=P+D,c.o=I+T,c.U=D,c.T=T,c.da=o!=null&&0<o.da,c.da){if(!Ve(D,T,f=[o.ib],P=[o.hb]))return 0;c.ib=f[0],c.hb=P[0]}return c.ob=o!=null&&o.ob,c.Kb=o==null||!o.Sd,c.da&&(c.ob=c.ib<3*v/4&&c.hb<3*b/4,c.Kb=0),1}function vl(o){if(o==null)return 2;if(11>o.S){var c=o.f.RGBA;c.fb+=(o.height-1)*c.A,c.A=-c.A}else c=o.f.kb,o=o.height,c.O+=(o-1)*c.fa,c.fa=-c.fa,c.N+=(o-1>>1)*c.Ab,c.Ab=-c.Ab,c.W+=(o-1>>1)*c.Db,c.Db=-c.Db,c.F!=null&&(c.J+=(o-1)*c.lb,c.lb=-c.lb);return 0}function to(o,c,f,v){if(v==null||0>=o||0>=c)return 2;if(f!=null){if(f.Da){var b=f.cd,P=f.bd,I=-2&f.v,D=-2&f.j;if(0>I||0>D||0>=b||0>=P||I+b>o||D+P>c)return 2;o=b,c=P}if(f.da){if(!Ve(o,c,b=[f.ib],P=[f.hb]))return 2;o=b[0],c=P[0]}}v.width=o,v.height=c;e:{var T=v.width,q=v.height;if(o=v.S,0>=T||0>=q||!(o>=$c&&13>o))o=2;else{if(0>=v.Rd&&v.sd==null){I=P=b=c=0;var ne=(D=T*m0[o])*q;if(11>o||(P=(q+1)/2*(c=(T+1)/2),o==12&&(I=(b=T)*q)),(q=a(ne+2*P+I))==null){o=1;break e}v.sd=q,11>o?((T=v.f.RGBA).eb=q,T.fb=0,T.A=D,T.size=ne):((T=v.f.kb).y=q,T.O=0,T.fa=D,T.Fd=ne,T.f=q,T.N=0+ne,T.Ab=c,T.Cd=P,T.ea=q,T.W=0+ne+P,T.Db=c,T.Ed=P,o==12&&(T.F=q,T.J=0+ne+2*P),T.Tc=I,T.lb=b)}if(c=1,b=v.S,P=v.width,I=v.height,b>=$c&&13>b)if(11>b)o=v.f.RGBA,c&=(D=Math.abs(o.A))*(I-1)+P<=o.size,c&=D>=P*m0[b],c&=o.eb!=null;else{o=v.f.kb,D=(P+1)/2,ne=(I+1)/2,T=Math.abs(o.fa),q=Math.abs(o.Ab);var ge=Math.abs(o.Db),xe=Math.abs(o.lb),le=xe*(I-1)+P;c&=T*(I-1)+P<=o.Fd,c&=q*(ne-1)+D<=o.Cd,c=(c&=ge*(ne-1)+D<=o.Ed)&T>=P&q>=D&ge>=D,c&=o.y!=null,c&=o.f!=null,c&=o.ea!=null,b==12&&(c&=xe>=P,c&=le<=o.Tc,c&=o.F!=null)}else c=0;o=c?0:2}}return o!=0||f!=null&&f.fd&&(o=vl(v)),o}var qn=64,no=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ro=24,io=32,yl=8,mr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Me("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(o){return o},S.Predictor2=function(o,c,f){return c[f+0]},S.Predictor3=function(o,c,f){return c[f+1]},S.Predictor4=function(o,c,f){return c[f-1]},S.Predictor5=function(o,c,f){return Oe(Oe(o,c[f+1]),c[f+0])},S.Predictor6=function(o,c,f){return Oe(o,c[f-1])},S.Predictor7=function(o,c,f){return Oe(o,c[f+0])},S.Predictor8=function(o,c,f){return Oe(c[f-1],c[f+0])},S.Predictor9=function(o,c,f){return Oe(c[f+0],c[f+1])},S.Predictor10=function(o,c,f){return Oe(Oe(o,c[f-1]),Oe(c[f+0],c[f+1]))},S.Predictor11=function(o,c,f){var v=c[f+0];return 0>=ct(v>>24&255,o>>24&255,(c=c[f-1])>>24&255)+ct(v>>16&255,o>>16&255,c>>16&255)+ct(v>>8&255,o>>8&255,c>>8&255)+ct(255&v,255&o,255&c)?v:o},S.Predictor12=function(o,c,f){var v=c[f+0];return(et((o>>24&255)+(v>>24&255)-((c=c[f-1])>>24&255))<<24|et((o>>16&255)+(v>>16&255)-(c>>16&255))<<16|et((o>>8&255)+(v>>8&255)-(c>>8&255))<<8|et((255&o)+(255&v)-(255&c)))>>>0},S.Predictor13=function(o,c,f){var v=c[f-1];return(nt((o=Oe(o,c[f+0]))>>24&255,v>>24&255)<<24|nt(o>>16&255,v>>16&255)<<16|nt(o>>8&255,v>>8&255)<<8|nt(o>>0&255,v>>0&255))>>>0};var Kd=S.PredictorAdd0;S.PredictorAdd1=ut,Me("Predictor2","PredictorAdd2"),Me("Predictor3","PredictorAdd3"),Me("Predictor4","PredictorAdd4"),Me("Predictor5","PredictorAdd5"),Me("Predictor6","PredictorAdd6"),Me("Predictor7","PredictorAdd7"),Me("Predictor8","PredictorAdd8"),Me("Predictor9","PredictorAdd9"),Me("Predictor10","PredictorAdd10"),Me("Predictor11","PredictorAdd11"),Me("Predictor12","PredictorAdd12"),Me("Predictor13","PredictorAdd13");var wl=S.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(o){return o>>8&255},function(o){return o}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(o){return o},function(o){return o>>8&255});var Mc,Yr=S.ColorIndexInverseTransform,so=S.MapARGB,Oc=S.VP8LColorIndexInverseTransformAlpha,Rc=S.MapAlpha,Ss=S.VP8LPredictorsAdd=[];Ss.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var va,gr,sr,ks,Yi,Ki,ao,Qi,xn,Nl,ar,Kr,oo,Bc,bl,ya,wa,Ls,Na,lo,ba,As,jl,Qr,Xr,Qt,Xt,vn,Pn=a(511),Xi=a(2041),Sl=a(225),co=a(767),qc=0,Qd=Xi,Uc=Sl,Fr=co,Zr=Pn,$c=0,Hc=1,r0=2,Vc=3,Wc=4,Xd=5,i0=6,Zd=7,eh=8,Gc=9,th=10,e5=[2,3,7],t5=[3,3,11],s0=[280,256,256,256,40],n5=[0,1,1,1,0],r5=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],i5=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],s5=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],a5=8,nh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],rh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kl=null,o5=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],l5=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],a0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],c5=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],u5=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],d5=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],h5=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Cs=[],ui=[],Zi=[],f5=1,o0=2,Ps=[],ei=[];je("UpsampleRgbLinePair",Ft,3),je("UpsampleBgrLinePair",ln,3),je("UpsampleRgbaLinePair",ci,4),je("UpsampleBgraLinePair",Fn,4),je("UpsampleArgbLinePair",Gn,4),je("UpsampleRgba4444LinePair",jn,2),je("UpsampleRgb565LinePair",hn,2);var p5=S.UpsampleRgbLinePair,m5=S.UpsampleBgrLinePair,l0=S.UpsampleRgbaLinePair,c0=S.UpsampleBgraLinePair,u0=S.UpsampleArgbLinePair,d0=S.UpsampleRgba4444LinePair,g5=S.UpsampleRgb565LinePair,Jc=16,Yc=1<<Jc-1,Ll=-227,ih=482,h0=6,x5=(256<<h0)-1,f0=0,v5=a(256),y5=a(256),w5=a(256),N5=a(256),b5=a(ih-Ll),j5=a(ih-Ll);Ci("YuvToRgbRow",Ft,3),Ci("YuvToBgrRow",ln,3),Ci("YuvToRgbaRow",ci,4),Ci("YuvToBgraRow",Fn,4),Ci("YuvToArgbRow",Gn,4),Ci("YuvToRgba4444Row",jn,2),Ci("YuvToRgb565Row",hn,2);var p0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Kc=[0,2,8],S5=[8,7,6,4,4,2,2,2,1,1,1,1],k5=1;this.WebPDecodeRGBA=function(o,c,f,v,b){var P=Hc,I=new Xa,D=new Gt;I.ba=D,D.S=P,D.width=[D.width],D.height=[D.height];var T=D.width,q=D.height,ne=new Ot;if(ne==null||o==null)var ge=2;else t(ne!=null),ge=eo(o,c,f,ne.width,ne.height,ne.Pd,ne.Qd,ne.format,null);if(ge!=0?T=0:(T!=null&&(T[0]=ne.width[0]),q!=null&&(q[0]=ne.height[0]),T=1),T){D.width=D.width[0],D.height=D.height[0],v!=null&&(v[0]=D.width),b!=null&&(b[0]=D.height);e:{if(v=new Jr,(b=new dl).data=o,b.w=c,b.ha=f,b.kd=1,c=[0],t(b!=null),((o=eo(b.data,b.w,b.ha,null,null,null,c,null,b))==0||o==7)&&c[0]&&(o=4),(c=o)==0){if(t(I!=null),v.data=b.data,v.w=b.w+b.offset,v.ha=b.ha-b.offset,v.put=$r,v.ac=Kt,v.bc=Ar,v.ma=I,b.xa){if((o=fr())==null){I=1;break e}if(function(xe,le){var Ae=[0],be=[0],ie=[0];t:for(;;){if(xe==null)return 0;if(le==null)return xe.a=2,0;if(xe.l=le,xe.a=0,M(xe.m,le.data,le.w,le.ha),!at(xe.m,Ae,be,ie)){xe.a=3;break t}if(xe.xb=o0,le.width=Ae[0],le.height=be[0],!An(Ae[0],be[0],1,xe,null))break t;return 1}return t(xe.a!=0),0}(o,v)){if(v=(c=to(v.width,v.height,I.Oa,I.ba))==0){t:{v=o;n:for(;;){if(v==null){v=0;break t}if(t(v.s.yc!=null),t(v.s.Ya!=null),t(0<v.s.Wb),t((f=v.l)!=null),t((b=f.ma)!=null),v.xb!=0){if(v.ca=b.ba,v.tb=b.tb,t(v.ca!=null),!xl(b.Oa,f,Vc)){v.a=2;break n}if(!$i(v,f.width)||f.da)break n;if((f.da||tt(v.ca.S))&&ue(),11>v.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),v.ca.f.kb.F!=null&&ue()),v.Pb&&0<v.s.ua&&v.s.vb.X==null&&!we(v.s.vb,v.s.Wa.Xa)){v.a=1;break n}v.xb=0}if(!hr(v,v.V,v.Ba,v.c,v.i,f.o,fs))break n;b.Dc=v.Ma,v=1;break t}t(v.a!=0),v=0}v=!v}v&&(c=o.a)}else c=o.a}else{if((o=new il)==null){I=1;break e}if(o.Fa=b.na,o.P=b.P,o.qc=b.Sa,Wi(o,v)){if((c=to(v.width,v.height,I.Oa,I.ba))==0){if(o.Aa=0,f=I.Oa,t((b=o)!=null),f!=null){if(0<(T=0>(T=f.Md)?0:100<T?255:255*T/100)){for(q=ne=0;4>q;++q)12>(ge=b.pb[q]).lc&&(ge.ia=T*S5[0>ge.lc?0:ge.lc]>>3),ne|=ge.ia;ne&&(alert("todo:VP8InitRandom"),b.ia=1)}b.Ga=f.Id,100<b.Ga?b.Ga=100:0>b.Ga&&(b.Ga=0)}Ga(o,v)||(c=o.a)}}else c=o.a}c==0&&I.Oa!=null&&I.Oa.fd&&(c=vl(I.ba))}I=c}P=I!=0?null:11>P?D.f.RGBA.eb:D.f.kb.y}else P=null;return P};var m0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(S,z){for(var $="",C=0;C<4;C++)$+=String.fromCharCode(S[z++]);return $}function g(S,z){return(S[z+0]<<0|S[z+1]<<8|S[z+2]<<16)>>>0}function x(S,z){return(S[z+0]<<0|S[z+1]<<8|S[z+2]<<16|S[z+3]<<24)>>>0}new d;var w=[0],m=[0],_=[],k=new d,E=e,y=function(S,z){var $={},C=0,F=!1,J=0,Q=0;if($.frames=[],!function(B,H,Z,re){for(var fe=0;fe<re;fe++)if(B[H+fe]!=Z.charCodeAt(fe))return!0;return!1}(S,z,"RIFF",4)){for(x(S,z+=4),z+=8;z<S.length;){var oe=p(S,z),ce=x(S,z+=4);z+=4;var me=ce+(1&ce);switch(oe){case"VP8 ":case"VP8L":$.frames[C]===void 0&&($.frames[C]={}),(K=$.frames[C]).src_off=F?Q:z-8,K.src_size=J+ce+8,C++,F&&(F=!1,J=0,Q=0);break;case"VP8X":(K=$.header={}).feature_flags=S[z];var M=z+4;K.canvas_width=1+g(S,M),M+=3,K.canvas_height=1+g(S,M),M+=3;break;case"ALPH":F=!0,J=me+8,Q=z-8;break;case"ANIM":(K=$.header).bgcolor=x(S,z),M=z+4,K.loop_count=(Se=S)[(L=M)+0]<<0|Se[L+1]<<8,M+=2;break;case"ANMF":var Y,K;(K=$.frames[C]={}).offset_x=2*g(S,z),z+=3,K.offset_y=2*g(S,z),z+=3,K.width=1+g(S,z),z+=3,K.height=1+g(S,z),z+=3,K.duration=g(S,z),z+=3,Y=S[z++],K.dispose=1&Y,K.blend=Y>>1&1}oe!="ANMF"&&(z+=me)}var Se,L;return $}}(E,0);y.response=E,y.rgbaoutput=!0,y.dataurl=!1;var N=y.header?y.header:null,A=y.frames?y.frames:null;if(N){N.loop_counter=N.loop_count,w=[N.canvas_height],m=[N.canvas_width];for(var U=0;U<A.length&&A[U].blend!=0;U++);}var X=A[0],ae=k.WebPDecodeRGBA(E,X.src_off,X.src_size,m,w);X.rgba=ae,X.imgwidth=m[0],X.imgheight=w[0];for(var G=0;G<m[0]*w[0]*4;G++)_[G]=ae[G];return this.width=m,this.height=w,this.data=_,this}(function(e){var t=function(){return typeof Kf=="function"},n=function(w,m,_,k){var E=4,y=l;switch(k){case e.image_compression.FAST:E=1,y=a;break;case e.image_compression.MEDIUM:E=6,y=u;break;case e.image_compression.SLOW:E=9,y=d}w=r(w,m,_,y);var N=Kf(w,{level:E});return e.__addimage__.arrayBufferToBinaryString(N)},r=function(w,m,_,k){for(var E,y,N,A=w.length/m,U=new Uint8Array(w.length+A),X=g(),ae=0;ae<A;ae+=1){if(N=ae*m,E=w.subarray(N,N+m),k)U.set(k(E,_,y),N+ae);else{for(var G,S=X.length,z=[];G<S;G+=1)z[G]=X[G](E,_,y);var $=x(z.concat());U.set(z[$],N+ae)}y=E}return U},s=function(w){var m=Array.apply([],w);return m.unshift(0),m},a=function(w,m){var _,k=[],E=w.length;k[0]=1;for(var y=0;y<E;y+=1)_=w[y-m]||0,k[y+1]=w[y]-_+256&255;return k},l=function(w,m,_){var k,E=[],y=w.length;E[0]=2;for(var N=0;N<y;N+=1)k=_&&_[N]||0,E[N+1]=w[N]-k+256&255;return E},u=function(w,m,_){var k,E,y=[],N=w.length;y[0]=3;for(var A=0;A<N;A+=1)k=w[A-m]||0,E=_&&_[A]||0,y[A+1]=w[A]+256-(k+E>>>1)&255;return y},d=function(w,m,_){var k,E,y,N,A=[],U=w.length;A[0]=4;for(var X=0;X<U;X+=1)k=w[X-m]||0,E=_&&_[X]||0,y=_&&_[X-m]||0,N=p(k,E,y),A[X+1]=w[X]-N+256&255;return A},p=function(w,m,_){if(w===m&&m===_)return w;var k=Math.abs(m-_),E=Math.abs(w-_),y=Math.abs(w+m-_-_);return k<=E&&k<=y?w:E<=y?m:_},g=function(){return[s,a,l,u,d]},x=function(w){var m=w.map(function(_){return _.reduce(function(k,E){return k+Math.abs(E)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(w,m,_,k){var E,y,N,A,U,X,ae,G,S,z,$,C,F,J,Q,oe=this.decode.FLATE_DECODE,ce="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(N=new m4(w)).imgData,y=N.bits,E=N.colorSpace,U=N.colors,[4,6].indexOf(N.colorType)!==-1){if(N.bits===8){S=(G=N.pixelBitlength==32?new Uint32Array(N.decodePixels().buffer):N.pixelBitlength==16?new Uint16Array(N.decodePixels().buffer):new Uint8Array(N.decodePixels().buffer)).length,$=new Uint8Array(S*N.colors),z=new Uint8Array(S);var me,M=N.pixelBitlength-N.bits;for(J=0,Q=0;J<S;J++){for(F=G[J],me=0;me<M;)$[Q++]=F>>>me&255,me+=N.bits;z[J]=F>>>me&255}}if(N.bits===16){S=(G=new Uint32Array(N.decodePixels().buffer)).length,$=new Uint8Array(S*(32/N.pixelBitlength)*N.colors),z=new Uint8Array(S*(32/N.pixelBitlength)),C=N.colors>1,J=0,Q=0;for(var Y=0;J<S;)F=G[J++],$[Q++]=F>>>0&255,C&&($[Q++]=F>>>16&255,F=G[J++],$[Q++]=F>>>0&255),z[Y++]=F>>>16&255;y=8}k!==e.image_compression.NONE&&t()?(w=n($,N.width*N.colors,N.colors,k),ae=n(z,N.width,1,k)):(w=$,ae=z,oe=void 0)}if(N.colorType===3&&(E=this.color_spaces.INDEXED,X=N.palette,N.transparency.indexed)){var K=N.transparency.indexed,Se=0;for(J=0,S=K.length;J<S;++J)Se+=K[J];if((Se/=255)===S-1&&K.indexOf(0)!==-1)A=[K.indexOf(0)];else if(Se!==S){for(G=N.decodePixels(),z=new Uint8Array(G.length),J=0,S=G.length;J<S;J++)z[J]=K[G[J]];ae=n(z,N.width,1)}}var L=function(B){var H;switch(B){case e.image_compression.FAST:H=11;break;case e.image_compression.MEDIUM:H=13;break;case e.image_compression.SLOW:H=14;break;default:H=12}return H}(k);return oe===this.decode.FLATE_DECODE&&(ce="/Predictor "+L+" "),ce+="/Colors "+U+" /BitsPerComponent "+y+" /Columns "+N.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(ae&&this.__addimage__.isArrayBuffer(ae)||this.__addimage__.isArrayBufferView(ae))&&(ae=this.__addimage__.arrayBufferToBinaryString(ae)),{alias:_,data:w,index:m,filter:oe,decodeParameters:ce,transparency:A,palette:X,sMask:ae,predictor:L,width:N.width,height:N.height,bitsPerComponent:y,colorSpace:E}}}})(ft.API),function(e){e.processGIF89A=function(t,n,r,s){var a=new g4(t),l=a.width,u=a.height,d=[];a.decodeAndBlitFrameRGBA(0,d);var p={data:d,width:l,height:u},g=new Yh(100).encode(p,100);return e.processJPEG.call(this,g,n,r,s)},e.processGIF87A=e.processGIF89A}(ft.API),pi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},pi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Yt.log("bit decode error:"+n)}},pi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var a=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*s*4,u=0;u<8&&8*s+u<this.width;u++){var d=this.palette[a>>7-u&1];this.data[l+4*u]=d.blue,this.data[l+4*u+1]=d.green,this.data[l+4*u+2]=d.red,this.data[l+4*u+3]=255}n!==0&&(this.pos+=4-n)}},pi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var a=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*s*4,u=a>>4,d=15&a,p=this.palette[u];if(this.data[l]=p.blue,this.data[l+1]=p.green,this.data[l+2]=p.red,this.data[l+3]=255,2*s+1>=this.width)break;p=this.palette[d],this.data[l+4]=p.blue,this.data[l+4+1]=p.green,this.data[l+4+2]=p.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},pi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(s<this.palette.length){var l=this.palette[s];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},pi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,u=(a>>5&t)/t*255|0,d=(a>>10&t)/t*255|0,p=a>>15?255:0,g=r*this.width*4+4*s;this.data[g]=d,this.data[g+1]=u,this.data[g+2]=l,this.data[g+3]=p}this.pos+=e}},pi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&t)/t*255|0,d=(l>>5&n)/n*255|0,p=(l>>11)/t*255|0,g=s*this.width*4+4*a;this.data[g]=p,this.data[g+1]=d,this.data[g+2]=u,this.data[g+3]=255}this.pos+=e}},pi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=a,this.data[l+1]=s,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},pi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*n;this.data[u]=a,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=l}},pi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var a=new pi(t,!1),l=a.width,u=a.height,d={data:a.getData(),width:l,height:u},p=new Yh(100).encode(d,100);return e.processJPEG.call(this,p,n,r,s)}}(ft.API),p1.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var a=new p1(t),l=a.width,u=a.height,d={data:a.getData(),width:l,height:u},p=new Yh(100).encode(d,100);return e.processJPEG.call(this,p,n,r,s)}}(ft.API),ft.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,a=new Uint8Array(s/4*3),l=new Uint8Array(s/4),u=0,d=0,p=0;p<s;p+=4){var g=r[p],x=r[p+1],w=r[p+2],m=r[p+3];a[u++]=g,a[u++]=x,a[u++]=w,l[d++]=m}var _=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:_,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ft.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},xo=ft.API,Pu=xo.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:s.metadata.Unicode.widths,d=u.fof?u.fof:1,p=t.kerning?t.kerning:s.metadata.Unicode.kerning,g=p.fof?p.fof:1,x=t.doKerning!==!1,w=0,m=e.length,_=0,k=u[0]||d,E=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?E.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+l*(1e3/a)||0)/1e3):(w=x&&$t(p[r])==="object"&&!isNaN(parseInt(p[r][_],10))?p[r][_]/g:0,E.push((u[r]||k)/d+w)),_=r;return E},u1=xo.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return xo.processArabic&&(e=xo.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,s)/n:Pu.apply(this,arguments).reduce(function(a,l){return a+l},0)},d1=function(e,t,n,r){for(var s=[],a=0,l=e.length,u=0;a!==l&&u+t[a]<n;)u+=t[a],a++;s.push(e.slice(0,a));var d=a;for(u=0;a!==l;)u+t[a]>r&&(s.push(e.slice(d,a)),u=0,d=a),u+=t[a],a++;return d!==a&&s.push(e.slice(d,a)),s},h1=function(e,t,n){n||(n={});var r,s,a,l,u,d,p,g=[],x=[g],w=n.textIndent||0,m=0,_=0,k=e.split(" "),E=Pu.apply(this,[" ",n])[0];if(d=n.lineIndent===-1?k[0].length+2:n.lineIndent||0){var y=Array(d).join(" "),N=[];k.map(function(U){(U=U.split(/\s*\n/)).length>1?N=N.concat(U.map(function(X,ae){return(ae&&X.length?`
`:"")+X})):N.push(U[0])}),k=N,d=u1.apply(this,[y,n])}for(a=0,l=k.length;a<l;a++){var A=0;if(r=k[a],d&&r[0]==`
`&&(r=r.substr(1),A=1),w+m+(_=(s=Pu.apply(this,[r,n])).reduce(function(U,X){return U+X},0))>t||A){if(_>t){for(u=d1.apply(this,[r,s,t-(w+m),t]),g.push(u.shift()),g=[u.pop()];u.length;)x.push([u.shift()]);_=s.slice(r.length-(g[0]?g[0].length:0)).reduce(function(U,X){return U+X},0)}else g=[r];x.push(g),w=_+d,m=E}else g.push(r),w+=m+_,m=E}return p=d?function(U,X){return(X?y:"")+U.join(" ")}:function(U){return U.join(" ")},x.map(p)},xo.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var x=this.internal.getFont(g.fontName,g.fontStyle);return x.metadata.Unicode?{widths:x.metadata.Unicode.widths||{0:1},kerning:x.metadata.Unicode.kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/s;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=n.lineIndent;var u,d,p=[];for(u=0,d=r.length;u<d;u++)p=p.concat(h1.apply(this,[r[u],l,a]));return p},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},s=0;s<t.length;s++)n[t[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=t[s];var a=function(x){return"0x"+parseInt(x,10).toString(16)},l=e.__fontmetrics__.compress=function(x){var w,m,_,k,E=["{"];for(var y in x){if(w=x[y],isNaN(parseInt(y,10))?m="'"+y+"'":(y=parseInt(y,10),m=(m=a(y).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof w=="number")w<0?(_=a(w).slice(3),k="-"):(_=a(w).slice(2),k=""),_=k+_.slice(0,-1)+r[_.slice(-1)];else{if($t(w)!=="object")throw new Error("Don't know what to do with value type "+$t(w)+".");_=l(w)}E.push(m+_)}return E.push("}"),E.join("")},u=e.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,m,_,k,E={},y=1,N=E,A=[],U="",X="",ae=x.length-1,G=1;G<ae;G+=1)(k=x[G])=="'"?w?(_=w.join(""),w=void 0):w=[]:w?w.push(k):k=="{"?(A.push([N,_]),N={},_=void 0):k=="}"?((m=A.pop())[0][m[1]]=N,_=void 0,N=m[0]):k=="-"?y=-1:_===void 0?n.hasOwnProperty(k)?(U+=n[k],_=parseInt(U,16)*y,y=1,U=""):U+=k:n.hasOwnProperty(k)?(X+=n[k],N[_]=parseInt(X,16)*y,y=1,_=void 0,X=""):X+=k;return E},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},g={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(x){var w=x.font,m=g.Unicode[w.postScriptName];m&&(w.metadata.Unicode={},w.metadata.Unicode.widths=m.widths,w.metadata.Unicode.kerning=m.kerning);var _=p.Unicode[w.postScriptName];_&&(w.metadata.Unicode.encoding=_,w.encoding=_.codePages[0])}])}(ft.API),function(e){var t=function(n){for(var r=n.length,s=new Uint8Array(r),a=0;a<r;a++)s[a]=n.charCodeAt(a);return s};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,a=n.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(l,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(rc(u)),l.metadata=e.API.TTFFont.open(u),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(s,r)}}])}(ft),function(e){function t(){return(pt.canvg?Promise.resolve(pt.canvg):Vf(()=>import("./index.es-3a61ce98.js"),[],import.meta.url)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ft.API.addSvgAsImage=function(n,r,s,a,l,u,d,p){if(isNaN(r)||isNaN(s))throw Yt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(l))throw Yt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=a,g.height=l;var x=g.getContext("2d");x.fillStyle="#fff",x.fillRect(0,0,g.width,g.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(_){return _.fromString(x,n,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(w)}).then(function(){m.addImage(g.toDataURL("image/jpeg",1),r,s,a,l,d,p)})}}(),ft.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},ft.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),d=[],p=0,g=0,x=0;function w(_,k){var E,y=!1;for(E=0;E<_.length;E+=1)_[E]===k&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=u.length;for(x=0;x<m;x+=1)n[u[x]].value=n[u[x]].defaultValue,n[u[x]].explicitSet=!1}if($t(e)==="object"){for(s in e)if(a=e[s],w(u,s)&&a!==void 0){if(n[s].type==="boolean"&&typeof a=="boolean")n[s].value=a;else if(n[s].type==="name"&&w(n[s].valueSet,a))n[s].value=a;else if(n[s].type==="integer"&&Number.isInteger(a))n[s].value=a;else if(n[s].type==="array"){for(p=0;p<a.length;p+=1)if(r=!0,a[p].length===1&&typeof a[p][0]=="number")d.push(String(a[p]-1));else if(a[p].length>1){for(g=0;g<a[p].length;g+=1)typeof a[p][g]!="number"&&(r=!1);r===!0&&d.push([a[p][0]-1,a[p][1]-1].join(" "))}n[s].value="["+d.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,k=[];for(_ in n)n[_].explicitSet===!0&&(n[_].type==="name"?k.push("/"+_+" /"+n[_].value):k.push("/"+_+" "+n[_].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),p=a.length+l.length+u.length+s.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(s+a+l+u+d),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(ft.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,l){for(var u,d=l.metadata.Unicode.widths,p=["","0","00","000","0000"],g=[""],x=0,w=a.length;x<w;++x){if(u=l.metadata.characterToGlyph(a.charCodeAt(x)),l.metadata.glyIdsUsed.push(u),l.metadata.toUnicode[u]=a.charCodeAt(x),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(l.metadata.widthOfGlyph(u),10)])),u=="0")return g.join("");u=u.toString(16),g.push(p[4-u.length],u)}return g.join("")},r=function(a){var l,u,d,p,g,x,w;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],x=0,w=(u=Object.keys(a).sort(function(m,_){return m-_})).length;x<w;x++)l=u[x],d.length>=100&&(g+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(p=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+p+">"));return d.length&&(g+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),g+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(l){var u=l.font,d=l.out,p=l.newObject,g=l.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="Identity-H"){for(var x=u.metadata.Unicode.widths,w=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),m="",_=0;_<w.length;_++)m+=String.fromCharCode(w[_]);var k=p();g({data:m,addLength1:!0,objectId:k}),d("endobj");var E=p();g({data:r(u.metadata.toUnicode),addLength1:!0,objectId:E}),d("endobj");var y=p();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+yo(u.fontName)),d("/FontFile2 "+k+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var N=p();d("<<"),d("/Type /Font"),d("/BaseFont /"+yo(u.fontName)),d("/FontDescriptor "+y+" 0 R"),d("/W "+e.API.PDFObject.convert(x)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=p(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+E+" 0 R"),d("/BaseFont /"+yo(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+N+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(l){var u=l.font,d=l.out,p=l.newObject,g=l.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var x=u.metadata.rawData,w="",m=0;m<x.length;m++)w+=String.fromCharCode(x[m]);var _=p();g({data:w,addLength1:!0,objectId:_}),d("endobj");var k=p();g({data:r(u.metadata.toUnicode),addLength1:!0,objectId:k}),d("endobj");var E=p();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+_+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+yo(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=p();for(var y=0;y<u.metadata.hmtx.widths.length;y++)u.metadata.hmtx.widths[y]=parseInt(u.metadata.hmtx.widths[y]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+yo(u.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(a)}]);var s=function(a){var l,u=a.text||"",d=a.x,p=a.y,g=a.options||{},x=a.mutex||{},w=x.pdfEscape,m=x.activeFontKey,_=x.fonts,k=m,E="",y=0,N="",A=_[k].encoding;if(_[k].encoding!=="Identity-H")return{text:u,x:d,y:p,options:g,mutex:x};for(N=u,k=m,Array.isArray(u)&&(N=u[0]),y=0;y<N.length;y+=1)_[k].metadata.hasOwnProperty("cmap")&&(l=_[k].metadata.cmap.unicode.codeMap[N[y].charCodeAt(0)]),l||N[y].charCodeAt(0)<256&&_[k].metadata.hasOwnProperty("Unicode")?E+=N[y]:E+="";var U="";return parseInt(k.slice(1))<14||A==="WinAnsiEncoding"?U=w(E,k).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(U=n(E,_[k])),x.isHex=!0,{text:U,x:d,y:p,options:g,mutex:x}};t.events.push(["postProcessText",function(a){var l=a.text||"",u=[],d={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var p=0;for(p=0;p<l.length;p+=1)Array.isArray(l[p])&&l[p].length===3?u.push([s(Object.assign({},d,{text:l[p][0]})).text,l[p][1],l[p][2]]):u.push(s(Object.assign({},d,{text:l[p]})).text);a.text=u}else a.text=s(Object.assign({},d,{text:l})).text}])}(ft),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ft.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var s,a,l,u,d,p,g,x=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,A=0;this.__bidiEngine__={};var U=function(C){var F=C.charCodeAt(),J=F>>8,Q=k[J];return Q!==void 0?x[256*Q+(255&F)]:J===252||J===253?"AL":y.test(J)?"L":J===8?"R":"N"},X=function(C){for(var F,J=0;J<C.length;J++){if((F=U(C.charAt(J)))==="L")return!1;if(F==="R")return!0}return!1},ae=function(C,F,J,Q){var oe,ce,me,M,Y=F[Q];switch(Y){case"L":case"R":N=!1;break;case"N":case"AN":break;case"EN":N&&(Y="AN");break;case"AL":N=!0,Y="R";break;case"WS":Y="N";break;case"CS":Q<1||Q+1>=F.length||(oe=J[Q-1])!=="EN"&&oe!=="AN"||(ce=F[Q+1])!=="EN"&&ce!=="AN"?Y="N":N&&(ce="AN"),Y=ce===oe?ce:"N";break;case"ES":Y=(oe=Q>0?J[Q-1]:"B")==="EN"&&Q+1<F.length&&F[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&J[Q-1]==="EN"){Y="EN";break}if(N){Y="N";break}for(me=Q+1,M=F.length;me<M&&F[me]==="ET";)me++;Y=me<M&&F[me]==="EN"?"EN":"N";break;case"NSM":if(l&&!u){for(M=F.length,me=Q+1;me<M&&F[me]==="NSM";)me++;if(me<M){var K=C[Q],Se=K>=1425&&K<=2303||K===64286;if(oe=F[me],Se&&(oe==="R"||oe==="AL")){Y="R";break}}}Y=Q<1||(oe=F[Q-1])==="B"?"N":J[Q-1];break;case"B":N=!1,s=!0,Y=A;break;case"S":a=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"BN":Y="N"}return Y},G=function(C,F,J){var Q=C.split("");return J&&S(Q,J,{hiLevel:A}),Q.reverse(),F&&F.reverse(),Q.join("")},S=function(C,F,J){var Q,oe,ce,me,M,Y=-1,K=C.length,Se=0,L=[],B=A?m:w,H=[];for(N=!1,s=!1,a=!1,oe=0;oe<K;oe++)H[oe]=U(C[oe]);for(ce=0;ce<K;ce++){if(M=Se,L[ce]=ae(C,H,L,ce),Q=240&(Se=B[M][_[L[ce]]]),Se&=15,F[ce]=me=B[Se][5],Q>0)if(Q===16){for(oe=Y;oe<ce;oe++)F[oe]=1;Y=-1}else Y=-1;if(B[Se][6])Y===-1&&(Y=ce);else if(Y>-1){for(oe=Y;oe<ce;oe++)F[oe]=me;Y=-1}H[ce]==="B"&&(F[ce]=0),J.hiLevel|=me}a&&function(Z,re,fe){for(var pe=0;pe<fe;pe++)if(Z[pe]==="S"){re[pe]=A;for(var ve=pe-1;ve>=0&&Z[ve]==="WS";ve--)re[ve]=A}}(H,F,K)},z=function(C,F,J,Q,oe){if(!(oe.hiLevel<C)){if(C===1&&A===1&&!s)return F.reverse(),void(J&&J.reverse());for(var ce,me,M,Y,K=F.length,Se=0;Se<K;){if(Q[Se]>=C){for(M=Se+1;M<K&&Q[M]>=C;)M++;for(Y=Se,me=M-1;Y<me;Y++,me--)ce=F[Y],F[Y]=F[me],F[me]=ce,J&&(ce=J[Y],J[Y]=J[me],J[me]=ce);Se=M}Se++}}},$=function(C,F,J){var Q=C.split(""),oe={hiLevel:A};return J||(J=[]),S(Q,J,oe),function(ce,me,M){if(M.hiLevel!==0&&g)for(var Y,K=0;K<ce.length;K++)me[K]===1&&(Y=E.indexOf(ce[K]))>=0&&(ce[K]=E[Y+1])}(Q,J,oe),z(2,Q,F,J,oe),z(1,Q,F,J,oe),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(C,F,J){if(function(oe,ce){if(ce)for(var me=0;me<oe.length;me++)ce[me]=me;u===void 0&&(u=X(oe)),p===void 0&&(p=X(oe))}(C,F),l||!d||p)if(l&&d&&u^p)A=u?1:0,C=G(C,F,J);else if(!l&&d&&p)A=u?1:0,C=$(C,F,J),C=G(C,F);else if(!l||u||d||p){if(l&&!d&&u^p)C=G(C,F),u?(A=0,C=$(C,F,J)):(A=1,C=$(C,F,J),C=G(C,F));else if(l&&u&&!d&&p)A=1,C=$(C,F,J),C=G(C,F);else if(!l&&!d&&u^p){var Q=g;u?(A=1,C=$(C,F,J),A=0,g=!1,C=$(C,F,J),g=Q):(A=0,C=$(C,F,J),C=G(C,F),A=1,g=!1,C=$(C,F,J),g=Q,C=G(C,F))}}else A=0,C=$(C,F,J);else A=u?1:0,C=$(C,F,J);return C},this.__bidiEngine__.setOptions=function(C){C&&(l=C.isInputVisual,d=C.isOutputVisual,u=C.isInputRtl,p=C.isOutputRtl,g=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var u=0;for(l=[],u=0;u<s.length;u+=1)Object.prototype.toString.call(s[u])==="[object Array]"?l.push([n.doBidiReorder(s[u][0]),s[u][1],s[u][2]]):l.push([n.doBidiReorder(s[u])]);r.text=l}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(ft),ft.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new oa(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new I4(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new x4(this.contents),this.head=new y4(this),this.name=new S4(this),this.cmap=new Qg(this),this.toUnicode={},this.hhea=new w4(this),this.maxp=new k4(this),this.hmtx=new L4(this),this.post=new b4(this),this.os2=new N4(this),this.loca=new _4(this),this.glyf=new A4(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,u,d,p;for(p=[],l=0,u=(d=this.bbox).length;l<u;l++)t=d[l],p.push(Math.round(t*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var s,a,l,u;for(l=0,a=0,u=(t=""+t).length;0<=u?a<u:a>u;a=0<=u?++a:--a)s=t.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return l*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Si,oa=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,s;for(s=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,s,a,l,u,d;return t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),u=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^a)+65536*(255^l)+256*(255^u)+(255^d)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*s+16777216*a+65536*l+256*u+d},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,s,a;for(a=[],r=0,s=t.length;r<s;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),x4=function(){var e;function t(n){var r,s,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,s,a,l,u,d,p,g,x,w,m,_,k;for(k in m=Object.keys(n).length,d=Math.log(2),x=16*Math.floor(Math.log(m)/d),l=Math.floor(x/d),g=16*m-x,(s=new oa).writeInt(this.scalarType),s.writeShort(m),s.writeShort(x),s.writeShort(l),s.writeShort(g),a=16*m,p=s.pos+a,u=null,_=[],n)for(w=n[k],s.writeString(k),s.writeInt(e(w)),s.writeInt(p),s.writeInt(w.length),_=_.concat(w),k==="head"&&(u=p),p+=w.length;p%4;)_.push(0),p++;return s.write(_),r=2981146554-e(s.data),s.pos=u+8,s.writeUInt32(r),s.data},e=function(n){var r,s,a,l;for(n=Xg.call(n);n.length%4;)n.push(0);for(a=new oa(n),s=0,r=0,l=n.length;r<l;r=r+=4)s+=a.readUInt32();return 4294967295&s},t}(),v4={}.hasOwnProperty,qi=function(e,t){for(var n in t)v4.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Si=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var y4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qi(t,Si),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new oa).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),m1=function(){function e(t,n){var r,s,a,l,u,d,p,g,x,w,m,_,k,E,y,N,A;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),x=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(m=t.readUInt16(),w=m/2,t.pos+=6,a=function(){var U,X;for(X=[],d=U=0;0<=w?U<w:U>w;d=0<=w?++U:--U)X.push(t.readUInt16());return X}(),t.pos+=2,k=function(){var U,X;for(X=[],d=U=0;0<=w?U<w:U>w;d=0<=w?++U:--U)X.push(t.readUInt16());return X}(),p=function(){var U,X;for(X=[],d=U=0;0<=w?U<w:U>w;d=0<=w?++U:--U)X.push(t.readUInt16());return X}(),g=function(){var U,X;for(X=[],d=U=0;0<=w?U<w:U>w;d=0<=w?++U:--U)X.push(t.readUInt16());return X}(),s=(this.length-t.pos+this.offset)/2,u=function(){var U,X;for(X=[],d=U=0;0<=s?U<s:U>s;d=0<=s?++U:--U)X.push(t.readUInt16());return X}(),d=y=0,A=a.length;y<A;d=++y)for(E=a[d],r=N=_=k[d];_<=E?N<=E:N>=E;r=_<=E?++N:--N)g[d]===0?l=r+p[d]:(l=u[g[d]/2+(r-_)-(w-d)]||0)!==0&&(l+=p[d]),this.codeMap[r]=65535&l}t.pos=x}return e.encode=function(t,n){var r,s,a,l,u,d,p,g,x,w,m,_,k,E,y,N,A,U,X,ae,G,S,z,$,C,F,J,Q,oe,ce,me,M,Y,K,Se,L,B,H,Z,re,fe,pe,ve,De,Ie,_e;switch(Q=new oa,l=Object.keys(t).sort(function(ee,we){return ee-we}),n){case"macroman":for(k=0,E=function(){var ee=[];for(_=0;_<256;++_)ee.push(0);return ee}(),N={0:0},a={},oe=0,Y=l.length;oe<Y;oe++)N[ve=t[s=l[oe]]]==null&&(N[ve]=++k),a[s]={old:t[s],new:N[t[s]]},E[s]=N[t[s]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(E),{charMap:a,subtable:Q.data,maxGlyphID:k+1};case"unicode":for(F=[],x=[],A=0,N={},r={},y=p=null,ce=0,K=l.length;ce<K;ce++)N[X=t[s=l[ce]]]==null&&(N[X]=++A),r[s]={old:X,new:N[X]},u=N[X]-s,y!=null&&u===p||(y&&x.push(y),F.push(s),p=u),y=s;for(y&&x.push(y),x.push(65535),F.push(65535),$=2*(z=F.length),S=2*Math.pow(Math.log(z)/Math.LN2,2),w=Math.log(S/2)/Math.LN2,G=2*z-S,d=[],ae=[],m=[],_=me=0,Se=F.length;me<Se;_=++me){if(C=F[_],g=x[_],C===65535){d.push(0),ae.push(0);break}if(C-(J=r[C].new)>=32768)for(d.push(0),ae.push(2*(m.length+z-_)),s=M=C;C<=g?M<=g:M>=g;s=C<=g?++M:--M)m.push(r[s].new);else d.push(J-C),ae.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*z+2*m.length),Q.writeUInt16(0),Q.writeUInt16($),Q.writeUInt16(S),Q.writeUInt16(w),Q.writeUInt16(G),fe=0,L=x.length;fe<L;fe++)s=x[fe],Q.writeUInt16(s);for(Q.writeUInt16(0),pe=0,B=F.length;pe<B;pe++)s=F[pe],Q.writeUInt16(s);for(De=0,H=d.length;De<H;De++)u=d[De],Q.writeUInt16(u);for(Ie=0,Z=ae.length;Ie<Z;Ie++)U=ae[Ie],Q.writeUInt16(U);for(_e=0,re=m.length;_e<re;_e++)k=m[_e],Q.writeUInt16(k);return{charMap:r,subtable:Q.data,maxGlyphID:A+1}}},e}(),Qg=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qi(t,Si),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,s,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)r=new m1(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var s,a;return r==null&&(r="macroman"),s=m1.encode(n,r),(a=new oa).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},t}(),w4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qi(t,Si),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),N4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qi(t,Si),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),b4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qi(t,Si),t.prototype.tag="post",t.prototype.parse=function(n){var r,s,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var l;for(s=n.readUInt16(),this.glyphNameIndex=[],l=0;0<=s?l<s:l>s;l=0<=s?++l:--l)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var u,d,p;for(p=[],l=u=0,d=this.file.maxp.numGlyphs;0<=d?u<d:u>d;l=0<=d?++u:--u)p.push(n.readUInt32());return p}).call(this)}},t}(),j4=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},S4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qi(t,Si),t.prototype.tag="name",t.prototype.parse=function(n){var r,s,a,l,u,d,p,g,x,w,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),d=n.readShort(),s=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+d+n.readShort()});for(p={},l=x=0,w=s.length;x<w;l=++x)a=s[l],n.pos=a.offset,g=n.readString(a.length),u=new j4(g,a),p[m=a.nameID]==null&&(p[m]=[]),p[a.nameID].push(u);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},t}(),k4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qi(t,Si),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),L4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qi(t,Si),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,s,a,l,u,d,p;for(n.pos=this.offset,this.metrics=[],r=0,d=this.file.hhea.numberOfMetrics;0<=d?r<d:r>d;r=0<=d?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var g,x;for(x=[],r=g=0;0<=a?g<a:g>a;r=0<=a?++g:--g)x.push(n.readInt16());return x}(),this.widths=(function(){var g,x,w,m;for(m=[],g=0,x=(w=this.metrics).length;g<x;g++)l=w[g],m.push(l.advance);return m}).call(this),s=this.widths[this.widths.length-1],p=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)p.push(this.widths.push(s));return p},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),Xg=[].slice,A4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qi(t,Si),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,s,a,l,u,d,p,g,x,w;return n in this.cache?this.cache[n]:(l=this.file.loca,r=this.file.contents,s=l.indexOf(n),(a=l.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,u=(d=new oa(r.read(a))).readShort(),g=d.readShort(),w=d.readShort(),p=d.readShort(),x=d.readShort(),this.cache[n]=u===-1?new P4(d,g,w,p,x):new C4(d,u,g,w,p,x),this.cache[n]))},t.prototype.encode=function(n,r,s){var a,l,u,d,p;for(u=[],l=[],d=0,p=r.length;d<p;d++)a=n[r[d]],l.push(u.length),a&&(u=u.concat(a.encode(s)));return l.push(u.length),{table:u,offsets:l}},t}(),C4=function(){function e(t,n,r,s,a,l){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),P4=function(){function e(t,n,r,s,a){var l,u;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;u=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&u;)l.pos+=1&u?4:2,128&u?l.pos+=8:64&u?l.pos+=4:8&u&&(l.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new oa(Xg.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),_4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qi(t,Si),t.prototype.tag="loca",t.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,l;for(l=[],s=0,a=this.length;s<a;s+=2)l.push(2*n.readUInt16());return l}).call(this):(function(){var a,l;for(l=[],s=0,a=this.length;s<a;s+=4)l.push(n.readUInt32());return l}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),a=0,l=0,u=0;u<s.length;++u)if(s[u]=a,l<r.length&&r[l]==u){++l,s[u]=a;var d=this.offsets[u],p=this.offsets[u+1]-d;p>0&&(a+=p)}for(var g=new Array(4*s.length),x=0;x<s.length;++x)g[4*x+3]=255&s[x],g[4*x+2]=(65280&s[x])>>8,g[4*x+1]=(16711680&s[x])>>16,g[4*x]=(4278190080&s[x])>>24;return g},t}(),I4=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,s,a;for(n in s=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=s[r];return t},e.prototype.glyphsFor=function(t){var n,r,s,a,l,u,d;for(s={},l=0,u=t.length;l<u;l++)s[a=t[l]]=this.font.glyf.glyphFor(a);for(a in n=[],s)(r=s[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in d=this.glyphsFor(n))r=d[a],s[a]=r;return s},e.prototype.encode=function(t,n){var r,s,a,l,u,d,p,g,x,w,m,_,k,E,y;for(s in r=Qg.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),m={0:0},y=r.charMap)m[(d=y[s]).old]=d.new;for(_ in w=r.maxGlyphID,l)_ in m||(m[_]=w++);return g=function(N){var A,U;for(A in U={},N)U[N[A]]=A;return U}(m),x=Object.keys(g).sort(function(N,A){return N-A}),k=function(){var N,A,U;for(U=[],N=0,A=x.length;N<A;N++)u=x[N],U.push(g[u]);return U}(),a=this.font.glyf.encode(l,k,m),p=this.font.loca.encode(a.offsets,k),E={cmap:this.font.cmap.raw(),glyf:a.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},e}();ft.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,s,a,l;if(Array.isArray(n))return"["+function(){var u,d,p;for(p=[],u=0,d=n.length;u<d;u++)r=n[u],p.push(t.convert(r));return p}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in a=["<<"],n)l=n[s],a.push("/"+s+" "+t.convert(l));return a.push(">>"),a.join(`
`)}return""+n},t}();const g1=[{id:"prod_001",name:"Mozzarella di Bufala",category:"latticini",defaultLocation:"Frigo A - Ripiano intermedio",allergens:["latte"]},{id:"prod_002",name:"Parmigiano Reggiano",category:"latticini",defaultLocation:"Frigo A - Ripiano intermedio",allergens:["latte"]},{id:"prod_003",name:"Burrata",category:"latticini",defaultLocation:"Frigo A - Ripiano intermedio",allergens:["latte"]},{id:"prod_018",name:"Gorgonzola DOP",category:"latticini",defaultLocation:"Frigo A - Ripiano intermedio",allergens:["latte"]},{id:"prod_021",name:"Ricotta Fresca",category:"latticini",defaultLocation:"Frigo A - Ripiano intermedio",allergens:["latte"]},{id:"prod_007",name:"Prosciutto Crudo",category:"carni",defaultLocation:"Frigo C - Ripiano inferiore",allergens:[]},{id:"prod_031",name:"Prosciutto Cotto",category:"carni",defaultLocation:"Frigo C - Ripiano inferiore",allergens:[]},{id:"prod_032",name:"Salame",category:"carni",defaultLocation:"Frigo C - Ripiano inferiore",allergens:[]},{id:"prod_008",name:"Bresaola",category:"carni",defaultLocation:"Frigo C - Ripiano inferiore",allergens:[]},{id:"prod_014",name:"Pancetta",category:"carni",defaultLocation:"Frigo C - Ripiano inferiore",allergens:[]},{id:"prod_015",name:"Speck",category:"carni",defaultLocation:"Frigo C - Ripiano inferiore",allergens:[]},{id:"prod_020",name:"Guanciale",category:"carni",defaultLocation:"Frigo C - Ripiano inferiore",allergens:[]},{id:"prod_022",name:"Carne di Manzo",category:"carni",defaultLocation:"Frigo C - Ripiano inferiore",allergens:[]},{id:"prod_005",name:"Basilico Fresco",category:"verdure",defaultLocation:"Frigo B - Cassetto verdure",allergens:[]},{id:"prod_017",name:"Rucola",category:"verdure",defaultLocation:"Frigo B - Cassetto verdure",allergens:[]},{id:"prod_004",name:"Pomodoro",category:"verdure",defaultLocation:"Frigo B - Cassetto verdure",allergens:[]},{id:"prod_023",name:"Zucchine",category:"verdure",defaultLocation:"Frigo B - Cassetto verdure",allergens:[]},{id:"prod_024",name:"Melanzane",category:"verdure",defaultLocation:"Frigo B - Cassetto verdure",allergens:[]},{id:"prod_025",name:"Limoni",category:"frutta",defaultLocation:"Frigo B - Cassetto frutta",allergens:[]},{id:"prod_026",name:"Arance",category:"frutta",defaultLocation:"Frigo B - Cassetto frutta",allergens:[]},{id:"prod_011",name:"Salmone",category:"pesce",defaultLocation:"Frigo Pesce - Ripiano inferiore",allergens:["pesce"]},{id:"prod_012",name:"Vongole Veraci",category:"pesce",defaultLocation:"Frigo Pesce - Ripiano inferiore",allergens:["molluschi"]},{id:"prod_027",name:"Branzino Fresco",category:"pesce",defaultLocation:"Frigo Pesce - Ripiano inferiore",allergens:["pesce"]},{id:"prod_010",name:"Gamberi Rossi Surgelati",category:"surgelati",defaultLocation:"Freezer A",allergens:["crostacei"]},{id:"prod_028",name:"Spinaci Surgelati",category:"surgelati",defaultLocation:"Freezer A",allergens:[]},{id:"prod_009",name:"Farina 00 Manitoba",category:"dispensa",defaultLocation:"Scaffale 3 - Dispensa",allergens:["glutine"]},{id:"prod_029",name:"Pasta Spaghetti",category:"dispensa",defaultLocation:"Scaffale 3 - Dispensa",allergens:["glutine"]},{id:"prod_030",name:"Riso Carnaroli",category:"dispensa",defaultLocation:"Scaffale 3 - Dispensa",allergens:[]},{id:"prod_006",name:"Olio Extra Vergine d'Oliva",category:"condimenti",defaultLocation:"Scaffale 2 - Condimenti",allergens:[]},{id:"prod_016",name:"Aceto Balsamico Modena",category:"condimenti",defaultLocation:"Scaffale 2 - Condimenti",allergens:["solfiti"]},{id:"prod_019",name:"Pistacchi",category:"condimenti",defaultLocation:"Scaffale 4 - Frutta secca",allergens:["frutta_guscio"]},{id:"prod_013",name:"Uova Bio Fresche",category:"latticini",defaultLocation:"Frigo A - Ripiano intermedio",allergens:["uova"]}],Ul=[{id:"glutine",name:"Glutine",color:"bg-red-100 text-red-800"},{id:"crostacei",name:"Crostacei",color:"bg-orange-100 text-orange-800"},{id:"uova",name:"Uova",color:"bg-yellow-100 text-yellow-800"},{id:"pesce",name:"Pesce",color:"bg-blue-100 text-blue-800"},{id:"arachidi",name:"Arachidi",color:"bg-amber-100 text-amber-800"},{id:"soia",name:"Soia",color:"bg-green-100 text-green-800"},{id:"latte",name:"Latte",color:"bg-indigo-100 text-indigo-800"},{id:"frutta_guscio",name:"Frutta a guscio",color:"bg-purple-100 text-purple-800"},{id:"sedano",name:"Sedano",color:"bg-lime-100 text-lime-800"},{id:"senape",name:"Senape",color:"bg-yellow-100 text-yellow-800"},{id:"sesamo",name:"Sesamo",color:"bg-orange-100 text-orange-800"},{id:"solfiti",name:"Solfiti",color:"bg-red-100 text-red-800"},{id:"lupini",name:"Lupini",color:"bg-green-100 text-green-800"},{id:"molluschi",name:"Molluschi",color:"bg-blue-100 text-blue-800"}],mi=[{id:"latticini",name:"Latticini e Formaggi",color:"bg-blue-100 text-blue-800",temp:"4-5C",storage:"Ripiani intermedi frigo",description:"Latte, formaggi freschi e stagionati"},{id:"carni",name:"Carni e Salumi",color:"bg-red-100 text-red-800",temp:"2-4C",storage:"Ripiano inferiore frigo",description:"Carni crude, salumi, pollame"},{id:"verdure",name:"Verdure e Ortaggi",color:"bg-green-100 text-green-800",temp:"6-8C",storage:"Cassetto frutta/verdura",description:"Verdure fresche, ortaggi, insalate"},{id:"frutta",name:"Frutta Fresca",color:"bg-orange-100 text-orange-800",temp:"6-8C",storage:"Cassetto frutta/verdura",description:"Frutta fresca di stagione"},{id:"pesce",name:"Pesce e Frutti di Mare",color:"bg-cyan-100 text-cyan-800",temp:"1-3C",storage:"Ripiano inferiore frigo",description:"Pesce fresco, molluschi, crostacei"},{id:"surgelati",name:"Surgelati",color:"bg-indigo-100 text-indigo-800",temp:"-18C",storage:"Freezer",description:"Tutti i prodotti surgelati"},{id:"dispensa",name:"Dispensa Secca",color:"bg-yellow-100 text-yellow-800",temp:"Ambiente",storage:"Scaffali dispensa",description:"Pasta, riso, farina, conserve"},{id:"condimenti",name:"Oli e Condimenti",color:"bg-amber-100 text-amber-800",temp:"Ambiente",storage:"Scaffali condimenti",description:"Oli, aceti, spezie, salse"}];function F4({products:e=[],setProducts:t,currentUser:n,refrigerators:r=[]}){var Wt;const[s,a]=he.useState(!1),[l,u]=he.useState(null),[d,p]=he.useState(""),[g,x]=he.useState(""),[w,m]=he.useState(""),[_,k]=he.useState(""),[E,y]=he.useState(""),[N,A]=he.useState(""),[U,X]=he.useState(!1),[ae,G]=he.useState(""),[S,z]=he.useState([]),[$,C]=he.useState(!1),[F,J]=he.useState([]),[Q,oe]=he.useState(!1),[ce,me]=he.useState(""),[M,Y]=he.useState(""),[K,Se]=he.useState(""),[L,B]=he.useState(""),[H,Z]=he.useState([]),[re,fe]=he.useState(!1),[pe,ve]=he.useState([]),[De,Ie]=he.useState(!1),[_e,ee]=he.useState({orderId:"",supplierName:"",orderDate:"",expectedDelivery:"",notes:""}),[we,de]=he.useState({name:"",category:"",expiryDate:"",location:"",allergens:[],notes:"",lotNumber:"",batchDeliveryDate:"",associatedOrderId:"",supplierName:""});he.useEffect(()=>{localStorage.setItem("haccp-products",JSON.stringify(e))},[e]),he.useEffect(()=>{const R=localStorage.getItem("haccp-suppliers");R&&z(JSON.parse(R))},[]),he.useEffect(()=>{const R=Ce=>{U&&!Ce.target.closest(".supplier-dropdown")&&(X(!1),G(""))};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[U]);const W=R=>{const Ce=new Date;let He=7;switch(R){case"latticini":He=5;break;case"carni":He=3;break;case"verdure":He=7;break;case"frutta":He=7;break;case"pesce":He=2;break;case"surgelati":He=90;break;case"dispensa":He=365;break;case"condimenti":He=730;break}const tt=new Date(Ce);return tt.setDate(Ce.getDate()+He),tt.toISOString().split("T")[0]},Ve=R=>{const Ce=new Date,tt=new Date(R)-Ce,It=Math.ceil(tt/(1e3*60*60*24));return It<0?{status:"expired",label:"Scaduto",color:"bg-red-100 text-red-800"}:It<=3?{status:"critical",label:`${It} giorni`,color:"bg-red-100 text-red-800"}:It<=7?{status:"warning",label:`${It} giorni`,color:"bg-yellow-100 text-yellow-800"}:{status:"ok",label:`${It} giorni`,color:"bg-green-100 text-green-800"}},Je=()=>{de({name:"",category:"",expiryDate:"",location:"",allergens:[],notes:"",lotNumber:"",batchDeliveryDate:"",associatedOrderId:"",supplierName:""}),u(null),a(!1)},Ee=R=>{var It,At;if(r.length===0)return"";const He={latticini:{min:2,max:8},carni:{min:0,max:6},verdure:{min:4,max:10},frutta:{min:4,max:10},pesce:{min:-2,max:4},surgelati:{min:-25,max:-10}}[R];if(!He)return((It=r[0])==null?void 0:It.name)||"";const tt=r.find(Gt=>{const Ot=Gt.setTemperature;return Ot>=He.min&&Ot<=He.max});return(tt==null?void 0:tt.name)||((At=r[0])==null?void 0:At.name)||""},Me=R=>{const Ce=Ee(R.category);de({name:R.name,category:R.category,expiryDate:W(R.category),location:Ce,allergens:[...R.allergens],notes:""}),a(!0)},Be=R=>{if(R.preventDefault(),!(!we.name.trim()||!we.expiryDate||!we.location.trim())){if(l){const Ce=e.map(He=>He.id===l.id?{...He,...we,updatedAt:new Date().toISOString()}:He);t(Ce)}else{const Ce={id:`prod_${Date.now()}`,...we,addedBy:n==null?void 0:n.id,addedByName:n==null?void 0:n.name,createdAt:new Date().toISOString(),status:"active"};t([...e,Ce])}Je()}},Oe=R=>{de({name:R.name,category:R.category,expiryDate:R.expiryDate,location:R.location,allergens:R.allergens||[],notes:R.notes||"",lotNumber:R.lotNumber||"",batchDeliveryDate:R.batchDeliveryDate||"",associatedOrderId:R.associatedOrderId||"",supplierName:R.supplierName||""}),u(R),a(!0)},et=R=>{t(e.filter(Ce=>Ce.id!==R))},nt=R=>{de(Ce=>({...Ce,allergens:Ce.allergens.includes(R)?Ce.allergens.filter(He=>He!==R):[...Ce.allergens,R]}))},ct=R=>{J(Ce=>Ce.includes(R)?Ce.filter(He=>He!==R):[...Ce,R])},ut=()=>{t(e.filter(R=>!F.includes(R.id))),J([]),C(!1)},St=()=>{t([]),oe(!1)},Tt=()=>{const R=new ft;R.setFontSize(20),R.text("Lista della Spesa",20,30),R.setFontSize(12),R.text(`Data: ${new Date().toLocaleDateString("it-IT")}`,20,45),R.text(`Generato da: ${(n==null?void 0:n.name)||"N/A"} (${(n==null?void 0:n.role)==="admin"?"Amministratore":"Dipendente"})`,20,57);const Ce=e.filter(He=>H.includes(He.id));if(Ce.length===0)R.text("Nessun prodotto selezionato",20,60);else{R.text(`Prodotti finiti (${Ce.length}):`,20,72);let He=87;Ce.forEach((tt,It)=>{const At=mi.find(Gt=>Gt.id===tt.category);R.text(`${It+1}. ${tt.name}`,25,He),R.setFontSize(10),R.text(`   Categoria: ${(At==null?void 0:At.name)||"N/A"} | Posizione: ${tt.location}`,25,He+8),R.setFontSize(12),He+=20,He>250&&(R.addPage(),He=30)})}R.save(`lista-spesa-${new Date().toISOString().split("T")[0]}.pdf`),fe(!1),Z([])},rt=R=>{Z(Ce=>Ce.includes(R)?Ce.filter(He=>He!==R):[...Ce,R])},ht=R=>{ve(Ce=>Ce.includes(R)?Ce.filter(He=>He!==R):[...Ce,R])},Re=R=>{R.preventDefault(),e.filter(He=>pe.includes(He.id));const Ce=e.map(He=>pe.includes(He.id)?{...He,associatedOrderId:_e.orderId,supplierName:_e.supplierName,batchDeliveryDate:_e.expectedDelivery,lotNumber:`L${new Date().toISOString().slice(2,10).replace(/-/g,"")}${Math.random().toString(36).substr(2,3).toUpperCase()}`}:He);t(Ce),ve([]),Ie(!1),ee({orderId:"",supplierName:"",orderDate:"",expectedDelivery:"",notes:""})},Mt=e.filter(R=>{var At;const Ce=d.toLowerCase(),He=!d||R.name.toLowerCase().includes(Ce)||((At=mi.find(Gt=>Gt.id===R.category))==null?void 0:At.name.toLowerCase().includes(Ce))||R.allergens&&R.allergens.some(Gt=>{var Ot;return(Ot=Ul.find(Bt=>Bt.id===Gt))==null?void 0:Ot.name.toLowerCase().includes(Ce)})||R.location&&R.location.toLowerCase().includes(Ce),tt=!g||R.category===g,It=!w||Ve(R.expiryDate).status===w;return He&&tt&&It}),vt={total:e.length,expired:e.filter(R=>Ve(R.expiryDate).status==="expired").length,warning:e.filter(R=>Ve(R.expiryDate).status==="warning").length,byCategory:e.reduce((R,Ce)=>(R[Ce.category]=(R[Ce.category]||0)+1,R),{})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx(Ye,{children:i.jsx(Ze,{className:"p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(wr,{className:"h-8 w-8 text-blue-600"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:vt.total}),i.jsx("p",{className:"text-sm text-gray-600",children:"Totale Prodotti"})]})]})})}),i.jsx(Ye,{children:i.jsx(Ze,{className:"p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Qo,{className:"h-8 w-8 text-red-600"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-2xl font-bold text-red-600",children:vt.expired}),i.jsx("p",{className:"text-sm text-gray-600",children:"Scaduti"})]})]})})}),i.jsx(Ye,{children:i.jsx(Ze,{className:"p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Qp,{className:"h-8 w-8 text-yellow-600"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:vt.warning}),i.jsx("p",{className:"text-sm text-gray-600",children:"In Scadenza"})]})]})})}),i.jsx(Ye,{children:i.jsx(Ze,{className:"p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Xp,{className:"h-8 w-8 text-green-600"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:vt.byCategory.latticini||0}),i.jsx("p",{className:"text-sm text-gray-600",children:"Latticini"})]})]})})})]}),i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(wr,{className:"h-5 w-5"}),"Gestione Inventario"]}),i.jsxs(ye,{onClick:()=>a(!s),children:[i.jsx(zi,{className:"h-4 w-4 mr-2"}),"Aggiungi Prodotto"]})]})}),i.jsxs(Ze,{children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(st,{placeholder:"Cerca per nome, categoria, allergene o posizione...",value:d,onChange:R=>p(R.target.value),className:"w-full pl-10"})]})}),i.jsxs("select",{value:g,onChange:R=>x(R.target.value),className:"px-3 py-2 border rounded-md",children:[i.jsx("option",{value:"",children:"Tutte le categorie"}),mi.map(R=>i.jsx("option",{value:R.id,children:R.name},R.id))]}),i.jsxs("select",{value:w,onChange:R=>m(R.target.value),className:"px-3 py-2 border rounded-md",children:[i.jsx("option",{value:"",children:"Tutte le scadenze"}),i.jsx("option",{value:"expired",children:"Scaduti"}),i.jsx("option",{value:"critical",children:"Critici (3 giorni)"}),i.jsx("option",{value:"warning",children:"In scadenza (7 giorni)"}),i.jsx("option",{value:"ok",children:"OK (>7 giorni)"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 p-4 bg-gray-50 rounded",children:[i.jsxs("div",{children:[i.jsx(Qe,{children:" Filtra per Lotto"}),i.jsx(st,{placeholder:"Numero lotto...",value:_,onChange:R=>k(R.target.value),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx(Qe,{children:" Filtra per Fornitore"}),i.jsx(st,{placeholder:"Nome fornitore...",value:E,onChange:R=>y(R.target.value),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx(Qe,{children:" Filtra per Fattura/DDT"}),i.jsx(st,{placeholder:"Fattura N / DDT N",value:N,onChange:R=>A(R.target.value),className:"w-full"})]})]})]})]}),s&&i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsx(Lt,{children:l?"Modifica Prodotto":"Aggiungi Nuovo Prodotto"})}),i.jsx(Ze,{children:i.jsxs("form",{onSubmit:Be,className:"space-y-4",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Qe,{children:"Nome Prodotto *"}),i.jsx(st,{value:we.name,onChange:R=>de({...we,name:R.target.value}),placeholder:"Es. Mozzarella di Bufala",required:!0})]}),i.jsxs("div",{children:[i.jsx(Qe,{children:"Categoria *"}),i.jsx("select",{value:we.category,onChange:R=>de({...we,category:R.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0,children:mi.map(R=>i.jsx("option",{value:R.id,children:R.name},R.id))})]}),i.jsxs("div",{children:[i.jsx(Qe,{children:"Data Scadenza *"}),i.jsx(st,{type:"date",value:we.expiryDate,onChange:R=>de({...we,expiryDate:R.target.value}),required:!0})]}),i.jsxs("div",{children:[i.jsx(Qe,{children:"Posizione *"}),i.jsxs("select",{value:we.location,onChange:R=>de({...we,location:R.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0,disabled:r.length===0,children:[i.jsx("option",{value:"",children:r.length>0?"Seleziona un frigorifero":"Nessun frigorifero registrato - Aggiungi prima un frigorifero"}),r.map(R=>i.jsxs("option",{value:R.name,children:[R.name," - ",R.location||"Posizione non specificata"]},R.id))]}),r.length===0&&i.jsx("p",{className:"text-sm text-orange-600 mt-1",children:' Devi prima registrare almeno un frigorifero nella sezione "Frigoriferi e Freezer"'})]})]}),i.jsxs("div",{children:[i.jsx(Qe,{children:"Allergeni"}),i.jsx("div",{className:"grid grid-cols-3 md:grid-cols-7 gap-2 mt-2",children:Ul.map(R=>i.jsx("button",{type:"button",onClick:()=>nt(R.id),className:`px-2 py-1 text-xs rounded transition-colors ${we.allergens.includes(R.id)?R.color:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:R.name},R.id))})]}),i.jsxs("div",{children:[i.jsx(Qe,{children:"Note"}),i.jsx(st,{value:we.notes,onChange:R=>de({...we,notes:R.target.value}),placeholder:"Note aggiuntive..."})]}),i.jsxs("div",{className:"border-t pt-4 mt-4",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:" Gestione Lotti e Ordini"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Qe,{children:"Numero Lotto"}),i.jsx(st,{value:we.lotNumber,onChange:R=>de({...we,lotNumber:R.target.value}),placeholder:"es. L240315A"})]}),i.jsxs("div",{children:[i.jsx(Qe,{children:"Data Consegna Lotto"}),i.jsx(st,{type:"date",value:we.batchDeliveryDate,onChange:R=>de({...we,batchDeliveryDate:R.target.value})})]}),i.jsxs("div",{children:[i.jsx(Qe,{children:"ID Ordine Associato"}),i.jsx(st,{value:we.associatedOrderId,onChange:R=>de({...we,associatedOrderId:R.target.value}),placeholder:"Collegamento a ordine/fattura"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Qe,{children:"Nome Fornitore"}),i.jsxs("div",{className:"relative",children:[i.jsx(st,{value:we.supplierName,onChange:R=>de({...we,supplierName:R.target.value}),onFocus:()=>X(!0),placeholder:"Cerca o digita nome fornitore...",className:"pr-10"}),i.jsx("button",{type:"button",onClick:()=>X(!U),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1",children:i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),U&&i.jsxs("div",{className:"supplier-dropdown absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[i.jsx("div",{className:"p-2 border-b",children:i.jsx(st,{placeholder:"Cerca fornitori...",value:ae,onChange:R=>G(R.target.value),className:"w-full"})}),i.jsxs("div",{className:"py-1",children:[S.filter(R=>R.name.toLowerCase().includes(ae.toLowerCase())||R.piva&&R.piva.toLowerCase().includes(ae.toLowerCase())).map(R=>i.jsxs("button",{type:"button",onClick:()=>{de({...we,supplierName:R.name}),X(!1),G("")},className:"w-full px-3 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",children:[i.jsx("div",{className:"font-medium",children:R.name}),R.piva&&i.jsxs("div",{className:"text-xs text-gray-500",children:["P.IVA: ",R.piva]})]},R.id)),S.filter(R=>R.name.toLowerCase().includes(ae.toLowerCase())||R.piva&&R.piva.toLowerCase().includes(ae.toLowerCase())).length===0&&i.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:"Nessun fornitore trovato"})]})]})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{type:"submit",children:[l?"Aggiorna":"Aggiungi"," Prodotto"]}),i.jsx(ye,{type:"button",variant:"outline",onClick:Je,children:"Annulla"})]})]})})]}),i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(wr,{className:"h-5 w-5"}),"Ordini e Spesa"]})}),i.jsx(Ze,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:" Lista della Spesa"}),i.jsx(ye,{onClick:()=>fe(!0),disabled:H.length===0,size:"sm",variant:"outline",children:" Genera PDF"})]}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Mt.length===0?i.jsxs("div",{className:"text-center py-4 text-gray-500",children:[i.jsx("p",{className:"text-sm",children:"Nessun prodotto disponibile per la lista della spesa"}),i.jsx("p",{className:"text-xs",children:"Aggiungi prodotti all'inventario per iniziare"})]}):Mt.map(R=>{const Ce=H.includes(R.id);return i.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-gray-50",children:[i.jsx("input",{type:"checkbox",checked:Ce,onChange:()=>rt(R.id),className:"mr-3 w-4 h-4"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-sm",children:R.name}),i.jsx("div",{className:"text-xs text-gray-500",children:R.location})]})]},R.id)})}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Prodotti selezionati: ",H.length]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:" Gestione Ordini"}),i.jsx(ye,{onClick:()=>Ie(!0),disabled:pe.length===0,size:"sm",variant:"outline",children:" Crea Ordine"})]}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Mt.length===0?i.jsxs("div",{className:"text-center py-4 text-gray-500",children:[i.jsx("p",{className:"text-sm",children:"Nessun prodotto disponibile per gli ordini"}),i.jsx("p",{className:"text-xs",children:"Aggiungi prodotti all'inventario per iniziare"})]}):Mt.map(R=>{const Ce=pe.includes(R.id);return i.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-gray-50",children:[i.jsx("input",{type:"checkbox",checked:Ce,onChange:()=>ht(R.id),className:"mr-3 w-4 h-4"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-sm",children:R.name}),i.jsx("div",{className:"text-xs text-gray-500",children:R.location})]})]},R.id)})}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Prodotti selezionati: ",pe.length]})]})]})})]}),!s&&i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(wr,{className:"h-5 w-5"}),"Categorie di Prodotti"]})}),i.jsxs(Ze,{children:[i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:mi.map(R=>{const Ce=g1.filter(He=>He.category===R.id);return i.jsx("div",{className:"space-y-2",children:i.jsxs("button",{onClick:()=>x(g===R.id?"":R.id),className:`w-full p-4 text-left rounded-lg border-2 transition-colors ${g===R.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[i.jsx("div",{className:`inline-flex px-2 py-1 text-xs rounded-full ${R.color} mb-2`,children:R.name}),i.jsx("div",{className:"text-sm font-medium",children:R.temp}),i.jsx("div",{className:"text-xs text-gray-600",children:R.storage}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Ce.length," prodotti"]})]})},R.id)})}),g&&i.jsxs("div",{className:"border-t pt-4",children:[i.jsxs("h4",{className:"font-medium mb-3",children:["Prodotti ",(Wt=mi.find(R=>R.id===g))==null?void 0:Wt.name,":"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:g1.filter(R=>R.category===g).map(R=>i.jsx("button",{onClick:()=>Me(R),className:"p-3 text-left bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors group",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-sm text-green-900",children:R.name}),i.jsx("div",{className:"text-xs text-green-700 mt-1",children:r.length>0?Ee(R.category):"Nessun frigorifero registrato"}),R.allergens.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:R.allergens.map(Ce=>{const He=Ul.find(tt=>tt.id===Ce);return i.jsx("span",{className:`px-1 py-0.5 text-xs rounded ${He==null?void 0:He.color}`,children:He==null?void 0:He.name},Ce)})})]}),i.jsx(zi,{className:"h-4 w-4 text-green-600 group-hover:text-green-800"})]})},R.id))})]}),!g&&i.jsxs("div",{className:"text-center py-6 text-gray-500",children:[i.jsx(wr,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),i.jsx("p",{className:"text-sm",children:"Seleziona una categoria sopra per vedere i prodotti disponibili"})]})]})]}),i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs(Lt,{children:["Prodotti nell'inventario (",Mt.length,")"]}),i.jsx("div",{className:"flex gap-2",children:e.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(ye,{onClick:()=>C(!0),className:"flex items-center gap-2",variant:"outline",children:" Rimuovi Prodotti"}),i.jsx(ye,{onClick:()=>oe(!0),className:"flex items-center gap-2",variant:"destructive",children:" Cancella Tutto l'Inventario"})]})})]})}),i.jsx(Ze,{children:Mt.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(wr,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),i.jsx("p",{className:"text-gray-600",children:e.length===0?"Inventario vuoto. Inizia aggiungendo prodotti con i pulsanti categoria sopra!":"Nessun prodotto trovato con i filtri attuali"})]}):i.jsx("div",{className:"space-y-3",children:Mt.map(R=>{const Ce=mi.find(tt=>tt.id===R.category),He=Ve(R.expiryDate);return i.jsx("div",{className:"border rounded-lg p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h3",{className:"font-medium",children:R.name}),i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Ce==null?void 0:Ce.color}`,children:Ce==null?void 0:Ce.name}),i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${He.color}`,children:He.label})]}),i.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[i.jsxs("div",{children:[" ",R.location]}),i.jsxs("div",{children:[" Scade: ",new Date(R.expiryDate).toLocaleDateString("it-IT")]}),i.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 pt-2 border-t border-gray-100",children:[R.lotNumber&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-blue-600",children:""}),i.jsx("span",{className:"font-medium",children:"Lotto:"}),i.jsx("span",{children:R.lotNumber})]}),R.batchDeliveryDate&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-green-600",children:""}),i.jsx("span",{className:"font-medium",children:"Consegna:"}),i.jsx("span",{children:new Date(R.batchDeliveryDate).toLocaleDateString("it-IT")})]}),R.supplierName&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-purple-600",children:""}),i.jsx("span",{className:"font-medium",children:"Fornitore:"}),i.jsx("span",{children:R.supplierName})]}),R.associatedOrderId&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-orange-600",children:""}),i.jsx("span",{className:"font-medium",children:"Fattura:"}),i.jsx("span",{children:R.associatedOrderId})]})]}),R.allergens&&R.allergens.length>0&&i.jsxs("div",{className:"flex gap-1 flex-wrap",children:[i.jsx("span",{children:""}),R.allergens.map(tt=>{const It=Ul.find(At=>At.id===tt);return i.jsx("span",{className:`px-2 py-1 text-xs rounded ${It==null?void 0:It.color}`,children:It==null?void 0:It.name},tt)})]}),R.addedByName&&i.jsxs("div",{className:"text-xs text-gray-500",children:["Aggiunto da: ",R.addedByName,"  ",new Date(R.createdAt).toLocaleDateString("it-IT")]})]})]}),i.jsxs("div",{className:"flex gap-2 ml-4",children:[i.jsx(ye,{size:"sm",variant:"outline",onClick:()=>Oe(R),children:i.jsx(Uu,{className:"h-4 w-4"})}),i.jsx(ye,{size:"sm",variant:"outline",onClick:()=>et(R.id),className:"text-red-600 hover:text-red-800",children:i.jsx(br,{className:"h-4 w-4"})})]})]})},R.id)})})})]}),$&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:" Rimuovi Prodotti"}),i.jsx(ye,{onClick:()=>{C(!1),me(""),Y(""),Se(""),B("")},variant:"outline",size:"sm",children:" Chiudi"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(st,{placeholder:"Cerca prodotti da rimuovere...",value:ce,onChange:R=>me(R.target.value),className:"w-full pl-10"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("select",{value:M,onChange:R=>Y(R.target.value),className:"px-3 py-2 border rounded-md",children:[i.jsx("option",{value:"",children:"Tutte le categorie"}),mi.map(R=>i.jsx("option",{value:R.id,children:R.name},R.id))]}),i.jsxs("select",{value:K,onChange:R=>Se(R.target.value),className:"px-3 py-2 border rounded-md",children:[i.jsx("option",{value:"",children:"Tutte le scadenze"}),i.jsx("option",{value:"expired",children:"Scaduti"}),i.jsx("option",{value:"critical",children:"Critici (3 giorni)"}),i.jsx("option",{value:"warning",children:"In scadenza (7 giorni)"}),i.jsx("option",{value:"ok",children:"OK (>7 giorni)"})]}),i.jsxs("select",{value:L,onChange:R=>B(R.target.value),className:"px-3 py-2 border rounded-md",children:[i.jsx("option",{value:"",children:"Tutti gli allergeni"}),Ul.map(R=>i.jsx("option",{value:R.id,children:R.name},R.id))]})]}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Seleziona i prodotti da rimuovere dall'inventario:"}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Mt.filter(R=>{var At,Gt;const Ce=!ce||R.name.toLowerCase().includes(ce.toLowerCase())||((At=R.location)==null?void 0:At.toLowerCase().includes(ce.toLowerCase()))||((Gt=mi.find(Ot=>Ot.id===R.category))==null?void 0:Gt.name.toLowerCase().includes(ce.toLowerCase())),He=!M||R.category===M;let tt=!0;K&&(tt=Ve(R.expiryDate).status===K);const It=!L||R.allergens&&R.allergens.includes(L);return Ce&&He&&tt&&It}).map(R=>{const Ce=F.includes(R.id);return i.jsxs("div",{className:"flex items-center p-2 border rounded",children:[i.jsx("input",{type:"checkbox",checked:Ce,onChange:()=>ct(R.id),className:"mr-3 w-4 h-4"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:R.name}),i.jsx("div",{className:"text-sm text-gray-500",children:R.location})]})]},R.id)})})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(ye,{onClick:ut,disabled:F.length===0,variant:"destructive",children:[" Rimuovi Selezionati (",F.length,")"]}),i.jsx(ye,{onClick:()=>{C(!1),me(""),Y(""),Se(""),B("")},variant:"outline",size:"sm",children:" Chiudi"})]})]})}),Q&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[i.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:" Conferma Cancellazione"}),i.jsxs("p",{className:"text-gray-700 mb-6",children:["Sei sicuro di voler ",i.jsx("strong",{children:"cancellare tutto l'inventario"}),"? Questa operazione canceller ",i.jsx("strong",{children:"tutti gli ingredienti registrati nell'app"}),"e ",i.jsx("strong",{children:"non pu essere annullata"}),"."]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(ye,{onClick:St,variant:"destructive",children:" S, Cancella Tutto"}),i.jsx(ye,{onClick:()=>oe(!1),variant:"outline",children:"Annulla"})]})]})}),re&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:" Lista della Spesa"}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("p",{className:"text-gray-600 mb-4",children:["Prodotti selezionati per la lista della spesa (",H.length,"):"]}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:e.filter(R=>H.includes(R.id)).map(R=>{const Ce=mi.find(He=>He.id===R.category);return i.jsx("div",{className:"p-3 border rounded-lg",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:R.name}),i.jsxs("div",{className:"text-sm text-gray-600",children:[Ce==null?void 0:Ce.name,"  ",R.location]})]}),i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Ce==null?void 0:Ce.color}`,children:Ce==null?void 0:Ce.name})]})},R.id)})})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(ye,{onClick:Tt,className:"flex-1",children:" Genera PDF"}),i.jsx(ye,{onClick:()=>{fe(!1),Z([])},variant:"outline",children:"Annulla"})]})]})}),De&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:" Crea Nuovo Ordine"}),i.jsxs("form",{onSubmit:Re,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Qe,{children:"Numero Ordine *"}),i.jsx(st,{value:_e.orderId,onChange:R=>ee({..._e,orderId:R.target.value}),placeholder:"es. ORD-2024-001",required:!0})]}),i.jsxs("div",{children:[i.jsx(Qe,{children:"Fornitore *"}),i.jsx(st,{value:_e.supplierName,onChange:R=>ee({..._e,supplierName:R.target.value}),placeholder:"es. Fornitore ABC",required:!0})]}),i.jsxs("div",{children:[i.jsx(Qe,{children:"Data Ordine *"}),i.jsx(st,{type:"date",value:_e.orderDate,onChange:R=>ee({..._e,orderDate:R.target.value}),required:!0})]}),i.jsxs("div",{children:[i.jsx(Qe,{children:"Data Consegna Prevista *"}),i.jsx(st,{type:"date",value:_e.expectedDelivery,onChange:R=>ee({..._e,expectedDelivery:R.target.value}),required:!0})]})]}),i.jsxs("div",{children:[i.jsx(Qe,{children:"Note"}),i.jsx(st,{value:_e.notes,onChange:R=>ee({..._e,notes:R.target.value}),placeholder:"Note aggiuntive sull'ordine..."})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsxs("h3",{className:"font-medium mb-3",children:["Prodotti selezionati (",pe.length,"):"]}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.filter(R=>pe.includes(R.id)).map(R=>{const Ce=mi.find(He=>He.id===R.category);return i.jsx("div",{className:"p-2 border rounded",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm",children:R.name}),i.jsx("div",{className:"text-xs text-gray-600",children:R.location})]}),i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Ce==null?void 0:Ce.color}`,children:Ce==null?void 0:Ce.name})]})},R.id)})})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(ye,{type:"submit",className:"flex-1",children:" Crea Ordine"}),i.jsx(ye,{onClick:()=>{Ie(!1),ve([]),ee({orderId:"",supplierName:"",orderDate:"",expectedDelivery:"",notes:""})},variant:"outline",children:"Annulla"})]})]})]})})]})}function E4({productLabels:e=[],setProductLabels:t,products:n=[],currentUser:r}){var ha,vs,Ga,pr,Gi,Bn,ys,fa;const[s,a]=he.useState("scanner"),[l,u]=he.useState(!1),[d,p]=he.useState("");he.useState(null);const[g,x]=he.useState(""),[w,m]=he.useState(!1),[_,k]=he.useState(!1),[E,y]=he.useState(null),[N,A]=he.useState(!1),[U,X]=he.useState(null),[ae,G]=he.useState(!1),[S,z]=he.useState([]),[$,C]=he.useState(!1),[F,J]=he.useState([]),[Q,oe]=he.useState(!1),[ce,me]=he.useState(""),[M,Y]=he.useState([]),[K,Se]=he.useState(null),[L,B]=he.useState(!1),[H,Z]=he.useState([]),[re,fe]=he.useState(""),[pe,ve]=he.useState(""),[De,Ie]=he.useState(""),[_e,ee]=he.useState(1),[we,de]=he.useState(20),[W,Ve]=he.useState(new Set),[Je,Ee]=he.useState("medium"),[Me,Be]=he.useState(!1),[Oe,et]=he.useState([]),[nt,ct]=he.useState([]),[ut,St]=he.useState(""),[Tt,rt]=he.useState(!1),[ht,Re]=he.useState(null),[Mt,vt]=he.useState(""),[Wt,R]=he.useState(null);he.useState(null),he.useState(!1);const[Ce,He]=he.useState(!1),[tt,It]=he.useState(!1);he.useState("");const[At,Gt]=he.useState(!1),[Ot,Bt]=he.useState(""),[qe,gt]=he.useState({productName:"",barcode:"",expiryDate:"",lotNumber:"",category:"",location:"",notes:"",photo:null,allergens:[]});he.useEffect(()=>{Ha(),Ui()},[e]);const Ui=()=>{const O=localStorage.getItem("haccp-label-groups");O&&Y(JSON.parse(O))},Kt=O=>{Y(O),localStorage.setItem("haccp-label-groups",JSON.stringify(O))},$r=()=>{C(!$),J([])},Ar=O=>{J(Ne=>Ne.includes(O)?Ne.filter(ze=>ze!==O):[...Ne,O])},at=()=>{const O=Vi.map(Ne=>Ne.id);J(O)},Cr=()=>{J([])},Hr=()=>{if(F.length===0){alert("Seleziona almeno una etichetta");return}oe(!0)},Rn=()=>{if(!ce.trim()){alert("Inserisci un nome per il gruppo");return}const Ne=e.filter(ot=>F.includes(ot.id)).reduce((ot,mt)=>{const Ct=new Date(mt.createdAt);return Ct>ot?Ct:ot},new Date(0)),ze={id:`group_${Date.now()}`,name:ce,labelIds:F,labelCount:F.length,createdAt:new Date().toISOString(),createdBy:r.name,lastUpdate:Ne.toISOString()},yt=[...M,ze];Kt(yt),J([]),C(!1),oe(!1),me("")},gn=()=>{const O=prompt("Nome del nuovo gruppo:");if(!O)return;const Ne={id:`group_${Date.now()}`,name:O,labelIds:[],labelCount:0,createdAt:new Date().toISOString(),createdBy:r.name,lastUpdate:new Date().toISOString()},ze=[...M,Ne];Kt(ze)},rn=O=>M.find(Ne=>Ne.labelIds.includes(O)),rr=()=>{if(!K)return;const O=e.filter(Ne=>!K.labelIds.includes(Ne.id));et(O),ct([]),St(""),Be(!0)},fs=()=>{if(!K||nt.length===0)return;const O=[],Ne=[];if(nt.forEach(ot=>{var Ct;const mt=rn(ot);mt&&Ne.push({labelId:ot,labelName:(Ct=e.find(on=>on.id===ot))==null?void 0:Ct.productName,fromGroup:mt.name}),O.push(ot)}),Ne.length>0){const ot=Ne.map(Ct=>` "${Ct.labelName}" verr spostata da "${Ct.fromGroup}"`).join(`
`);if(!confirm(`ATTENZIONE: Le seguenti etichette verranno spostate:

${ot}

Continuare?`))return}const ze=M.map(ot=>{if(ot.id===K.id){const mt=[...ot.labelIds,...O],Ct=[...new Set(mt)];return{...ot,labelIds:Ct,labelCount:Ct.length,lastUpdate:new Date().toISOString()}}else{const mt=ot.labelIds.filter(Ct=>!O.includes(Ct));return{...ot,labelIds:mt,labelCount:mt.length,lastUpdate:mt.length!==ot.labelIds.length?new Date().toISOString():ot.lastUpdate}}});Kt(ze);const yt=ze.find(ot=>ot.id===K.id);Se(yt),Be(!1),ct([])},Vr=O=>{ct(Ne=>Ne.includes(O)?Ne.filter(ze=>ze!==O):[...Ne,O])},Pr=()=>{const O=Oe.filter(Ne=>Ne.productName.toLowerCase().includes(ut.toLowerCase())||Ne.barcode.includes(ut)||Ne.lotNumber.toLowerCase().includes(ut.toLowerCase())).map(Ne=>Ne.id);ct(O)},_r=()=>{K&&(Re(K),vt(K.name),rt(!0))},hr=()=>{if(!Mt.trim()||!ht)return;const O=M.map(Ne=>Ne.id===ht.id?{...Ne,name:Mt.trim(),lastUpdate:new Date().toISOString()}:Ne);Kt(O),K&&K.id===ht.id&&Se({...K,name:Mt.trim(),lastUpdate:new Date().toISOString()}),rt(!1),Re(null),vt("")},Wr=O=>{Re(O),vt(O.name),rt(!0)},fr=O=>{const Ne=e.find(mt=>mt.id===O);if(!Ne||!confirm(`Eliminare l'etichetta "${Ne.productName}"?

Questa azione non pu essere annullata.`))return;const yt=e.filter(mt=>mt.id!==O);t(yt),localStorage.setItem("haccp-product-labels",JSON.stringify(yt));const ot=M.map(mt=>({...mt,labelIds:mt.labelIds.filter(Ct=>Ct!==O),labelCount:mt.labelIds.filter(Ct=>Ct!==O).length,lastUpdate:mt.labelIds.includes(O)?new Date().toISOString():mt.lastUpdate}));if(Kt(ot),K&&K.labelIds.includes(O)){const mt=ot.find(Ct=>Ct.id===K.id);Se(mt)}},An=[{id:"latticini",name:"Latticini e Formaggi",color:"bg-blue-100 text-blue-800",emoji:""},{id:"carni",name:"Carni e Salumi",color:"bg-red-100 text-red-800",emoji:""},{id:"verdure",name:"Verdure e Ortaggi",color:"bg-green-100 text-green-800",emoji:""},{id:"frutta",name:"Frutta Fresca",color:"bg-orange-100 text-orange-800",emoji:""},{id:"pesce",name:"Pesce e Frutti di Mare",color:"bg-cyan-100 text-cyan-800",emoji:""},{id:"surgelati",name:"Surgelati",color:"bg-indigo-100 text-indigo-800",emoji:""},{id:"dispensa",name:"Dispensa Secca",color:"bg-yellow-100 text-yellow-800",emoji:""},{id:"condimenti",name:"Oli e Condimenti",color:"bg-amber-100 text-amber-800",emoji:""}],$i=O=>{Wt===O?R(null):(R(O),Se(null))},ps=()=>{B(!L),Z([])},Hi=O=>{Z(Ne=>Ne.includes(O)?Ne.filter(ze=>ze!==O):[...Ne,O])},ms=()=>{const O=Gr.map(Ne=>Ne.id);Z(O)},gs=()=>{Z([])},Ha=()=>{const O=new Date,Ne=e.filter(ze=>new Date(ze.expiryDate)<O&&ze.photo);Ne.length>0&&(z(Ne),G(!0))},tl=()=>{m(!0),setTimeout(()=>{const O=["8001234567890","8001234567891","8001234567892","8001234567893","8001234567894"],Ne=O[Math.floor(Math.random()*O.length)];x(Ne),gt(ze=>({...ze,barcode:Ne})),m(!1),u(!0)},2e3)},nl=()=>{if(!qe.productName||!qe.expiryDate){alert("Nome prodotto e data scadenza sono obbligatori");return}It(!0)},xs=()=>{const O={id:`label_${Date.now()}`,...qe,createdAt:new Date().toISOString(),createdBy:r.name,status:"active"},Ne=[...e,O];t(Ne),localStorage.setItem("haccp-product-labels",JSON.stringify(Ne));const ze={id:`prod_${Date.now()}`,name:qe.productName,category:qe.category.startsWith("group_")?"latticini":qe.category,expiryDate:qe.expiryDate,location:qe.location||"Posizione da definire",allergens:qe.allergens||[],notes:`${qe.notes?qe.notes+" - ":""}Generato automaticamente da etichetta. Lotto: ${qe.lotNumber||"N/A"}`,addedBy:r==null?void 0:r.id,addedByName:r==null?void 0:r.name,createdAt:new Date().toISOString(),status:"active",fromLabel:!0,labelId:O.id,barcode:qe.barcode,lotNumber:qe.lotNumber||"",batchDeliveryDate:"",associatedOrderId:"",supplierName:""},ot=[...JSON.parse(localStorage.getItem("haccp-products")||"[]"),ze];if(localStorage.setItem("haccp-products",JSON.stringify(ot)),qe.category&&qe.category.startsWith("group_")){const mt=qe.category.replace("group_",""),Ct=M.map(on=>on.id===mt?{...on,labelIds:[...on.labelIds,O.id],labelCount:on.labelCount+1,lastUpdate:new Date().toISOString()}:on);Kt(Ct)}gt({productName:"",barcode:"",expiryDate:"",lotNumber:"",category:"",location:"",notes:"",photo:null,allergens:[]}),u(!1),x(""),It(!1)},Va=O=>{const Ne=O.target.files[0];if(Ne){const ze=new FileReader;ze.onload=yt=>{const ot=new Image;ot.onload=()=>{const mt=document.createElement("canvas"),Ct=mt.getContext("2d"),on=800,ki=600;let{width:Et,height:ir}=ot;Et>ir?Et>on&&(ir=ir*on/Et,Et=on):ir>ki&&(Et=Et*ki/ir,ir=ki),mt.width=Et,mt.height=ir,Ct.drawImage(ot,0,0,Et,ir);const ws=mt.toDataURL("image/jpeg",.7);gt(Ja=>({...Ja,photo:ws}))},ot.src=yt.target.result},ze.readAsDataURL(Ne)}},rl=O=>{y(O),k(!0)},da=()=>{const O=e.map(Ne=>S.some(ze=>ze.id===Ne.id)?{...Ne,photo:null,cleanedAt:new Date().toISOString()}:Ne);t(O),localStorage.setItem("haccp-product-labels",JSON.stringify(O)),G(!1),z([])},Vi=e.filter(O=>{if(K)return K.labelIds.includes(O.id);if(Wt){const Ne=O.category===Wt,ze=O.productName.toLowerCase().includes(d.toLowerCase())||O.barcode.includes(d)||O.lotNumber.toLowerCase().includes(d.toLowerCase());return Ne&&ze}return O.productName.toLowerCase().includes(d.toLowerCase())||O.barcode.includes(d)||O.lotNumber.toLowerCase().includes(d.toLowerCase())}),Gr=e.filter(O=>{if(!O.photo)return!1;const Ne=!re||O.productName.toLowerCase().includes(re.toLowerCase())||O.barcode.includes(re)||O.lotNumber.toLowerCase().includes(re.toLowerCase()),ze=!pe||new Date(O.createdAt).toDateString()===new Date(pe).toDateString(),yt=!De||(()=>{const ot=new Date(O.expiryDate),Ct=Math.ceil((ot-new Date)/(1e3*60*60*24));switch(De){case"expired":return Ct<0;case"expiring":return Ct>=0&&Ct<=7;case"fresh":return Ct>7;default:return!0}})();return Ne&&ze&&yt}),Cn=Math.ceil(Gr.length/we),Jr=Gr.slice((_e-1)*we,_e*we),il=(O,Ne=Je)=>{if(!O)return"";if(O.startsWith("data:image/")&&Ne==="low"&&O.length>5e4){const ze=document.createElement("canvas"),yt=ze.getContext("2d"),ot=new Image;return new Promise(mt=>{ot.onload=()=>{ze.width=Math.min(ot.width,200),ze.height=Math.min(ot.height,200),yt.drawImage(ot,0,0,ze.width,ze.height),mt(ze.toDataURL("image/jpeg",.5))},ot.src=O})}return O};he.useEffect(()=>{const O=e.filter(Ne=>Ne.photo).map(Ne=>Ne.id);Ve(new Set(O))},[e]),he.useEffect(()=>{ee(1)},[re,pe,De]);const an=()=>{const O=Jr.map(Ne=>Ne.id);Z(Ne=>[...new Set([...Ne,...O])])},Wa=()=>{const O=e.filter(yt=>yt.photo).length,Ne=O>100,ze=O>500;return{totalPhotos:O,isLargeDataset:Ne,isVeryLargeDataset:ze,recommendedPhotosPerPage:ze?12:Ne?20:50}},Wi={total:e.length,withPhotos:e.filter(O=>O.photo).length,expiringSoon:e.filter(O=>{const Ne=new Date(O.expiryDate),yt=Math.ceil((Ne-new Date)/(1e3*60*60*24));return yt<=7&&yt>=0}).length,expired:e.filter(O=>new Date(O.expiryDate)<new Date).length};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(Gl,{className:"h-5 w-5"}),"Gestione Etichette Prodotti"]})}),i.jsx(Ze,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Wi.total}),i.jsx("div",{className:"text-sm text-blue-700",children:"Etichette Totali"})]}),i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:Wi.withPhotos}),i.jsx("div",{className:"text-sm text-green-700",children:"Con Foto"})]}),i.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:Wi.expiringSoon}),i.jsx("div",{className:"text-sm text-yellow-700",children:"In Scadenza"})]}),i.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:Wi.expired}),i.jsx("div",{className:"text-sm text-red-700",children:"Scaduti"})]})]})})]}),i.jsxs("div",{className:"flex gap-2 overflow-x-auto",children:[i.jsxs(ye,{variant:s==="scanner"?"default":"outline",onClick:()=>a("scanner"),className:"flex items-center gap-2 whitespace-nowrap",children:[i.jsx(Vm,{className:"h-4 w-4"}),"Scanner"]}),i.jsxs(ye,{variant:s==="labels"?"default":"outline",onClick:()=>a("labels"),className:"flex items-center gap-2 whitespace-nowrap",children:[i.jsx(ku,{className:"h-4 w-4"}),"Le Mie Etichette"]}),i.jsxs(ye,{variant:s==="photos"?"default":"outline",onClick:()=>a("photos"),className:"flex items-center gap-2 whitespace-nowrap",children:[i.jsx(Rl,{className:"h-4 w-4"}),"Foto Prodotti"]})]}),s==="scanner"&&i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(py,{className:"h-5 w-5"}),"Scanner Codici a Barre"]})}),i.jsx(Ze,{className:"space-y-4",children:i.jsx("div",{className:"text-center",children:w?i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx("div",{className:"animate-pulse",children:i.jsx(Gl,{className:"h-20 w-20 text-blue-500"})}),i.jsx("p",{className:"text-blue-600",children:"Scansione in corso..."})]}):i.jsxs("div",{className:"space-y-4",children:[g?i.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:i.jsxs("p",{className:"text-green-700",children:["Codice scansionato: ",i.jsx("strong",{children:g})]})}):i.jsxs("div",{className:"p-8 border-2 border-dashed border-gray-300 rounded-lg",children:[i.jsx(Gl,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:'Clicca "Avvia Scanner" per leggere un codice a barre'})]}),i.jsxs(ye,{onClick:tl,disabled:w,className:"w-full",children:[i.jsx(Vm,{className:"h-4 w-4 mr-2"}),"Avvia Scanner"]}),g&&i.jsxs(ye,{onClick:()=>u(!0),variant:"outline",className:"w-full",children:[i.jsx(zi,{className:"h-4 w-4 mr-2"}),"Crea Etichetta per questo Prodotto"]})]})})})]}),s==="labels"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ye,{children:i.jsx(Ze,{className:"pt-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(st,{placeholder:K?`Cerca in "${K.name}"...`:Wt?`Cerca in "${(ha=An.find(O=>O.id===Wt))==null?void 0:ha.name}"...`:"Cerca per nome, codice, lotto...",value:d,onChange:O=>p(O.target.value),className:"pl-10"})]})}),i.jsxs(ye,{onClick:()=>u(!0),className:"flex items-center gap-2",children:[i.jsx(zi,{className:"h-4 w-4"}),"Nuova Etichetta"]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(ye,{onClick:$r,variant:$?"default":"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Um,{className:"h-4 w-4"}),$?"Annulla Selezione":"Seleziona Etichette"]}),$&&i.jsxs(i.Fragment,{children:[i.jsxs(ye,{onClick:at,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Su,{className:"h-4 w-4"}),"Seleziona Tutto"]}),i.jsxs(ye,{onClick:Cr,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(zn,{className:"h-4 w-4"}),"Deseleziona Tutto"]}),i.jsxs(ye,{onClick:Hr,variant:"default",size:"sm",className:"flex items-center gap-2",disabled:F.length===0,children:[i.jsx(Sy,{className:"h-4 w-4"}),"Crea Gruppo (",F.length,")"]})]}),!K&&!$&&i.jsxs(ye,{onClick:gn,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx($m,{className:"h-4 w-4"}),"Crea Gruppo di Etichette"]}),!K&&$&&F.length>0&&i.jsxs(ye,{onClick:()=>Gt(!0),variant:"default",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Ii,{className:"h-4 w-4"}),"Sposta Etichette nel Gruppo..."]}),K&&i.jsxs(i.Fragment,{children:[i.jsxs(ye,{onClick:rr,variant:"default",size:"sm",className:"flex items-center gap-2",children:[i.jsx(zi,{className:"h-4 w-4"}),"Aggiungi Etichette al Gruppo"]}),i.jsxs(ye,{onClick:_r,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Ti,{className:"h-4 w-4"}),"Modifica Gruppo"]}),i.jsxs(ye,{onClick:()=>Se(null),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(zn,{className:"h-4 w-4"}),'Esci da "',K.name,'"']})]}),Wt&&i.jsxs(ye,{onClick:()=>R(null),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(zn,{className:"h-4 w-4"}),'Esci da "',(vs=An.find(O=>O.id===Wt))==null?void 0:vs.name,'"']})]}),$&&F.length>0&&i.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:i.jsxs("p",{className:"text-blue-700 text-sm",children:[F.length," etichett",F.length===1?"a selezionata":"e selezionate"]})})]})})}),!K&&!Wt&&i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(Ii,{className:"h-5 w-5"}),"I Miei Gruppi di Etichette"]}),M.length>0&&i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("div",{className:"relative",children:[i.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(st,{placeholder:"Cerca gruppi ed etichette...",value:Ot,onChange:O=>Bt(O.target.value),className:"pl-10 w-64"})]})})]})}),i.jsxs(Ze,{children:[Ot&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[i.jsx(Hs,{className:"h-4 w-4"}),'Risultati Ricerca: "',Ot,'"']}),(()=>{const O=M.filter(ze=>ze.name.toLowerCase().includes(Ot.toLowerCase())),Ne=e.filter(ze=>ze.productName.toLowerCase().includes(Ot.toLowerCase())||ze.barcode.includes(Ot)||ze.lotNumber.toLowerCase().includes(Ot.toLowerCase()));return O.length===0&&Ne.length===0?i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-sm text-gray-500",children:"Nessun risultato trovato"})}):i.jsxs("div",{className:"space-y-4",children:[O.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-xs font-medium text-gray-500 mb-2 flex items-center gap-1",children:[i.jsx(Ii,{className:"h-3 w-3"}),"GRUPPI (",O.length,")"]}),i.jsx("div",{className:"grid gap-2",children:O.map(ze=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors bg-blue-50 border-blue-200",onClick:()=>{Se(ze),Bt("")},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:[i.jsx(Ii,{className:"h-3 w-3"}),"GRUPPO"]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:ze.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:[ze.labelIds.length," etichette"]})]})]}),i.jsx("div",{className:"text-xs text-gray-400",children:"Click per aprire"})]},ze.id))})]}),Ne.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-xs font-medium text-gray-500 mb-2 flex items-center gap-1",children:[i.jsx(wr,{className:"h-3 w-3"}),"ETICHETTE (",Ne.length,")"]}),i.jsxs("div",{className:"grid gap-2",children:[Ne.slice(0,5).map(ze=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors bg-green-50 border-green-200",onClick:()=>{y(ze),k(!0),Bt("")},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:[i.jsx(wr,{className:"h-3 w-3"}),"ETICHETTA"]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:ze.productName}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Scadenza: ",ze.expiryDate,"  Lotto: ",ze.lotNumber]})]})]}),i.jsx("div",{className:"text-xs text-gray-400",children:"Click per visualizzare"})]},ze.id)),Ne.length>5&&i.jsx("div",{className:"text-center py-2",children:i.jsxs("p",{className:"text-xs text-gray-500",children:["... e altre ",Ne.length-5," etichette"]})})]})]})]})})(),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:i.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>Bt(""),className:"w-full",children:[i.jsx(zn,{className:"h-4 w-4 mr-2"}),"Chiudi Ricerca"]})})]}),!Ot&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[i.jsx(ku,{className:"h-4 w-4"}),"Categorie Ingredienti (Scelte Rapide)"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:An.map(O=>{const ze=e.filter(yt=>yt.category===O.id).length;return i.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>$i(O.id),className:`flex items-center gap-2 ${ze>0?"hover:shadow-md":"opacity-50 cursor-not-allowed"}`,disabled:ze===0,children:[i.jsx("span",{className:"text-lg",children:O.emoji}),i.jsx("span",{className:"hidden sm:inline",children:O.name}),i.jsx("span",{className:"sm:hidden",children:O.name.split(" ")[0]}),ze>0&&i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${O.color} ml-1`,children:ze})]},O.id)})}),i.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Clicca su una categoria per vedere le relative etichette"})]}),M.length>0&&i.jsx("div",{className:"border-t border-gray-200 my-4"}),M.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[i.jsx(ku,{className:"h-4 w-4"}),"Gruppi Personalizzati (Scelte Rapide)"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(O=>{const Ne=O.labelIds.length;return i.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>Se(O),className:`flex items-center gap-2 ${Ne>0?"hover:shadow-md":"opacity-50 cursor-not-allowed"}`,disabled:Ne===0,children:[i.jsx(Ii,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:O.name}),i.jsx("span",{className:"sm:hidden",children:O.name.split(" ")[0]}),Ne>0&&i.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800 ml-1",children:Ne})]},O.id)})}),i.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Clicca su un gruppo per vedere le relative etichette"})]}),!Ot&&i.jsx("div",{className:"border-t border-gray-200 my-4"}),!Ot&&i.jsx("div",{children:i.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[i.jsx(Ti,{className:"h-4 w-4"}),"Gestione Gruppi Personalizzati"]})}),!Ot&&i.jsx("div",{className:"grid gap-3",children:M.map(O=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 hover:shadow-md cursor-pointer transition-all",onClick:()=>Se(O),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ii,{className:"h-5 w-5 text-blue-500"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",children:O.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:[O.labelCount," etichett",O.labelCount===1?"a":"e","  Ultimo aggiornamento: ",new Date(O.lastUpdate).toLocaleDateString("it-IT")]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{variant:"outline",size:"sm",onClick:Ne=>{Ne.stopPropagation(),Wr(O)},title:"Modifica gruppo",children:i.jsx(Ti,{className:"h-4 w-4"})}),i.jsx(ye,{variant:"outline",size:"sm",onClick:Ne=>{if(Ne.stopPropagation(),confirm(`Eliminare il gruppo "${O.name}"? Le etichette non verranno eliminate.`)){const ze=M.filter(yt=>yt.id!==O.id);Kt(ze)}},title:"Elimina gruppo",children:i.jsx(br,{className:"h-4 w-4"})})]})]},O.id))}),!Ot&&M.length===0&&i.jsxs("div",{className:"text-center py-4",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Nessun gruppo personalizzato creato ancora."}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Usa "Seleziona Etichette" per creare gruppi dalle etichette esistenti'})]})]})]}),i.jsxs(i.Fragment,{children:[K&&i.jsx(Ye,{children:i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2 text-lg",children:[i.jsx(Ii,{className:"h-5 w-5 text-blue-600"}),"Gruppo: ",i.jsx("span",{className:"text-blue-600",children:K.name}),i.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:["(",K.labelIds.length," etichette)"]})]})})}),Wt&&i.jsx(Ye,{children:i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2 text-lg",children:[i.jsx(ku,{className:"h-5 w-5 text-green-600"}),"Categoria: ",i.jsx("span",{className:"text-green-600",children:(Ga=An.find(O=>O.id===Wt))==null?void 0:Ga.name}),i.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:["(",Vi.length," etichette)"]})]})})}),i.jsx(Ye,{children:i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(wr,{className:"h-5 w-5"}),"Etichette Registrate",i.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:["(",Vi.length," totali)"]})]})})})]}),i.jsxs("div",{className:"grid gap-4",children:[Vi.map(O=>{var on,ki;const Ne=new Date(O.expiryDate),ze=new Date,yt=Math.ceil((Ne-ze)/(1e3*60*60*24)),ot=Ne<ze,mt=yt<=7&&yt>=0,Ct=F.includes(O.id);return i.jsx(Ye,{className:`${ot?"border-red-200 bg-red-50":mt?"border-yellow-200 bg-yellow-50":""} ${Ct?"ring-2 ring-blue-500":""} ${$?"cursor-pointer hover:shadow-md transition-shadow":""}`,onClick:()=>$&&Ar(O.id),children:i.jsx(Ze,{className:"pt-6",children:i.jsxs("div",{className:"flex justify-between items-start",children:[$&&i.jsx("div",{className:"mr-3 mt-1",children:i.jsx("input",{type:"checkbox",checked:Ct,onChange:()=>Ar(O.id),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 pointer-events-none"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h3",{className:"font-semibold text-lg",children:O.productName}),O.photo&&i.jsx(Rl,{className:"h-4 w-4 text-blue-500"}),ot&&i.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded",children:"SCADUTO"}),mt&&!ot&&i.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"IN SCADENZA"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Codice:"})," ",O.barcode]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Lotto:"})," ",O.lotNumber]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Scadenza:"})," ",new Date(O.expiryDate).toLocaleDateString("it-IT")]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Categoria:"})," ",((on=An.find(Et=>Et.id===O.category))==null?void 0:on.name)||((ki=M.find(Et=>Et.id===O.category))==null?void 0:ki.name)||O.category||"Non specificata"]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("strong",{children:"Gruppo:"})," ",(()=>{const Et=rn(O.id);return Et?i.jsxs("span",{className:"inline-flex items-center gap-1 ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:[i.jsx(Ii,{className:"h-3 w-3"}),Et.name]}):i.jsx("span",{className:"text-gray-400 ml-2",children:"Nessun gruppo"})})()]})]}),O.location&&i.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[i.jsx("strong",{children:"Posizione:"})," ",O.location]}),O.notes&&i.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[i.jsx("strong",{children:"Note:"})," ",O.notes]}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Creata da ",O.createdBy," il ",new Date(O.createdAt).toLocaleDateString("it-IT")]})]}),i.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[i.jsxs(ye,{size:"sm",variant:"outline",onClick:Et=>{Et.stopPropagation(),y(O),k(!0)},className:"flex items-center gap-1",children:[i.jsx(Hf,{className:"h-3 w-3"}),"Visualizza"]}),i.jsxs(ye,{size:"sm",onClick:Et=>{Et.stopPropagation(),rl(O)},className:"flex items-center gap-1",children:[i.jsx(Ba,{className:"h-3 w-3"}),"Download"]}),O.photo&&i.jsxs(ye,{size:"sm",variant:"outline",onClick:Et=>{Et.stopPropagation(),X(O.photo),A(!0)},className:"flex items-center gap-1",children:[i.jsx(Rl,{className:"h-3 w-3"}),"Foto"]}),i.jsxs(ye,{size:"sm",variant:"destructive",onClick:Et=>{Et.stopPropagation(),fr(O.id)},className:"flex items-center gap-1",children:[i.jsx(br,{className:"h-3 w-3"}),"Elimina"]})]})]})})},O.id)}),Vi.length===0&&i.jsx(Ye,{children:i.jsxs(Ze,{className:"pt-6 text-center",children:[i.jsx(wr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:K?`Nessuna etichetta nel gruppo "${K.name}"`:Wt?`Nessuna etichetta nella categoria "${(pr=An.find(O=>O.id===Wt))==null?void 0:pr.name}"`:d?"Nessuna etichetta trovata":"Nessuna etichetta creata ancora"})]})})]})]}),s==="photos"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ye,{children:i.jsx(Ze,{className:"pt-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(st,{placeholder:"Cerca per nome, codice, lotto...",value:re,onChange:O=>fe(O.target.value),className:"pl-10"})]}),i.jsx(st,{type:"date",placeholder:"Filtra per data creazione",value:pe,onChange:O=>ve(O.target.value)}),i.jsxs("select",{value:De,onChange:O=>Ie(O.target.value),className:"p-2 border border-gray-300 rounded-md",children:[i.jsx("option",{value:"",children:"Tutte le scadenze"}),i.jsx("option",{value:"fresh",children:"Prodotti freschi (>7 giorni)"}),i.jsx("option",{value:"expiring",children:"In scadenza (7 giorni)"}),i.jsx("option",{value:"expired",children:"Scaduti"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(ye,{onClick:ps,variant:L?"default":"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Um,{className:"h-4 w-4"}),L?"Annulla Selezione":"Seleziona Foto"]}),L&&i.jsxs(i.Fragment,{children:[i.jsxs(ye,{onClick:ms,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Su,{className:"h-4 w-4"}),"Seleziona Tutte (",Gr.length,")"]}),i.jsxs(ye,{onClick:an,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Su,{className:"h-4 w-4"}),"Solo Pagina Corrente (",Jr.length,")"]}),i.jsxs(ye,{onClick:gs,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(zn,{className:"h-4 w-4"}),"Deseleziona Tutto"]}),i.jsxs(ye,{variant:"destructive",size:"sm",className:"flex items-center gap-2",disabled:H.length===0,onClick:()=>{if(confirm(`Eliminare ${H.length} foto selezionate?`)){const O=e.map(Ne=>H.includes(Ne.id)?{...Ne,photo:null}:Ne);t(O),localStorage.setItem("haccp-product-labels",JSON.stringify(O)),Z([]),B(!1)}},children:[i.jsx(br,{className:"h-4 w-4"}),"Elimina Selezionate (",H.length,")"]})]}),(re||pe||De)&&i.jsxs(ye,{onClick:()=>{fe(""),ve(""),Ie("")},variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(zn,{className:"h-4 w-4"}),"Cancella Filtri"]})]}),L&&H.length>0&&i.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:i.jsxs("p",{className:"text-blue-700 text-sm",children:[H.length," foto selezionat",H.length===1?"a":"e"]})}),(re||pe||De)&&i.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg",children:i.jsxs("p",{className:"text-yellow-700 text-sm",children:["Filtri attivi: ",Gr.length," foto di ",e.filter(O=>O.photo).length]})}),(()=>{const O=Wa();return O.isLargeDataset?i.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-blue-700 text-sm font-semibold",children:["Dataset grande: ",O.totalPhotos," foto"]}),i.jsxs("p",{className:"text-blue-600 text-xs",children:["Modalit ottimizzata attiva  Pagina ",_e," di ",Cn]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:we,onChange:Ne=>{de(Number(Ne.target.value)),ee(1)},className:"text-xs p-1 border rounded",children:[i.jsx("option",{value:12,children:"12 foto/pagina"}),i.jsx("option",{value:20,children:"20 foto/pagina"}),i.jsx("option",{value:50,children:"50 foto/pagina"}),i.jsx("option",{value:100,children:"100 foto/pagina"})]}),i.jsxs("select",{value:Je,onChange:Ne=>Ee(Ne.target.value),className:"text-xs p-1 border rounded",children:[i.jsx("option",{value:"low",children:"Qualit Bassa"}),i.jsx("option",{value:"medium",children:"Qualit Media"}),i.jsx("option",{value:"high",children:"Qualit Alta"})]})]})]})}):null})()]})})}),Cn>1&&i.jsx(Ye,{children:i.jsxs(Ze,{className:"pt-6",children:[i.jsxs("div",{className:"flex justify-center items-center gap-4",children:[i.jsx(ye,{onClick:()=>ee(O=>Math.max(1,O-1)),disabled:_e===1,variant:"outline",size:"sm",children:" Precedente"}),i.jsx("div",{className:"flex gap-1",children:[...Array(Math.min(5,Cn))].map((O,Ne)=>{let ze;return Cn<=5?ze=Ne+1:(ze=Math.max(1,_e-2)+Ne,ze>Cn&&(ze=Cn-(4-Ne))),i.jsx(ye,{onClick:()=>ee(ze),variant:_e===ze?"default":"outline",size:"sm",className:"w-8 h-8 p-0",children:ze},ze)})}),i.jsx(ye,{onClick:()=>ee(O=>Math.min(Cn,O+1)),disabled:_e===Cn,variant:"outline",size:"sm",children:"Successiva "})]}),i.jsx("div",{className:"text-center mt-2",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Pagina ",_e," di ",Cn,"  Mostrando ",Jr.length," di ",Gr.length," foto"]})})]})}),i.jsx("div",{className:`grid gap-4 ${we<=12?"grid-cols-2 md:grid-cols-3 lg:grid-cols-4":we<=20?"grid-cols-2 md:grid-cols-4 lg:grid-cols-5":"grid-cols-3 md:grid-cols-5 lg:grid-cols-6"}`,children:Jr.map(O=>{const Ne=H.includes(O.id),ze=new Date(O.expiryDate),yt=new Date,ot=Math.ceil((ze-yt)/(1e3*60*60*24)),mt=ze<yt,Ct=ot<=7&&ot>=0;return i.jsxs(Ye,{className:`overflow-hidden ${Ne?"ring-2 ring-blue-500":""} ${L?"cursor-pointer hover:shadow-md transition-shadow":""}`,onClick:()=>L&&Hi(O.id),children:[i.jsxs("div",{className:"relative",children:[L&&i.jsx("div",{className:"absolute top-2 left-2 z-10",children:i.jsx("input",{type:"checkbox",checked:Ne,onChange:()=>Hi(O.id),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 pointer-events-none"})}),(mt||Ct)&&i.jsx("div",{className:"absolute top-2 right-2 z-10",children:i.jsx("span",{className:`px-2 py-1 text-xs rounded ${mt?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:mt?"SCADUTO":"SCADENZA"})}),i.jsxs("div",{className:"aspect-square bg-gray-100 cursor-pointer overflow-hidden",onClick:on=>{L||(on.stopPropagation(),X(O.photo),A(!0))},children:[i.jsx("img",{src:il(O.photo),alt:O.productName,className:"w-full h-full object-cover transition-opacity duration-200",loading:"lazy",onError:on=>{on.target.style.display="none",on.target.nextSibling.style.display="flex"}}),i.jsx("div",{className:"w-full h-full hidden items-center justify-center bg-red-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Qo,{className:"h-6 w-6 text-red-400 mx-auto mb-1"}),i.jsx("p",{className:"text-xs text-red-600",children:"Errore caricamento"})]})})]})]}),i.jsxs(Ze,{className:"pt-4",children:[i.jsx("h4",{className:"font-semibold text-sm truncate",children:O.productName}),i.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[i.jsxs("p",{children:["Scad: ",new Date(O.expiryDate).toLocaleDateString("it-IT")]}),i.jsxs("p",{children:["Creata: ",new Date(O.createdAt).toLocaleDateString("it-IT")]}),O.lotNumber&&i.jsxs("p",{children:["Lotto: ",O.lotNumber]})]})]})]},O.id)})}),Cn>1&&Jr.length>0&&i.jsx(Ye,{children:i.jsx(Ze,{className:"pt-6",children:i.jsxs("div",{className:"flex justify-center items-center gap-2",children:[i.jsx(ye,{onClick:()=>ee(1),disabled:_e===1,variant:"outline",size:"sm",children:"Prima"}),i.jsx(ye,{onClick:()=>ee(O=>Math.max(1,O-1)),disabled:_e===1,variant:"outline",size:"sm",children:""}),i.jsxs("span",{className:"px-4 py-2 text-sm bg-gray-100 rounded",children:[_e," / ",Cn]}),i.jsx(ye,{onClick:()=>ee(O=>Math.min(Cn,O+1)),disabled:_e===Cn,variant:"outline",size:"sm",children:""}),i.jsx(ye,{onClick:()=>ee(Cn),disabled:_e===Cn,variant:"outline",size:"sm",children:"Ultima"})]})})}),Gr.length===0&&e.filter(O=>O.photo).length>0&&i.jsx(Ye,{children:i.jsxs(Ze,{className:"pt-6 text-center",children:[i.jsx(vy,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Nessuna foto trovata con i filtri attuali"})]})}),e.filter(O=>O.photo).length===0&&i.jsx(Ye,{children:i.jsxs(Ze,{className:"pt-6 text-center",children:[i.jsx(Rl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Nessuna foto caricata ancora"})]})})]}),l&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs(Ye,{className:"w-full max-w-md max-h-[90vh] overflow-y-auto",children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Nuova Etichetta Prodotto"}),i.jsx(ye,{variant:"outline",size:"sm",onClick:()=>{u(!1),gt({productName:"",barcode:"",expiryDate:"",lotNumber:"",category:"",location:"",notes:"",photo:null,allergens:[]})},children:i.jsx(zn,{className:"h-4 w-4"})})]})}),i.jsxs(Ze,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"productName",children:"Nome Prodotto *"}),i.jsx(st,{id:"productName",value:qe.productName,onChange:O=>gt(Ne=>({...Ne,productName:O.target.value})),placeholder:"es. Mozzarella di Bufala"})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"barcode",children:"Codice a Barre"}),i.jsx(st,{id:"barcode",value:qe.barcode,onChange:O=>gt(Ne=>({...Ne,barcode:O.target.value})),placeholder:"Scansiona o inserisci manualmente"})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"expiryDate",children:"Data Scadenza *"}),i.jsx(st,{id:"expiryDate",type:"date",value:qe.expiryDate,onChange:O=>gt(Ne=>({...Ne,expiryDate:O.target.value}))})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"lotNumber",children:"Numero Lotto"}),i.jsx(st,{id:"lotNumber",value:qe.lotNumber,onChange:O=>gt(Ne=>({...Ne,lotNumber:O.target.value})),placeholder:"es. L240315A"})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"category",children:"Categoria"}),i.jsxs("select",{id:"category",value:qe.category,onChange:O=>gt(Ne=>({...Ne,category:O.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[i.jsx("option",{value:"",children:"Seleziona categoria"}),i.jsxs("optgroup",{label:" Categorie Standard",children:[i.jsx("option",{value:"latticini",children:"Latticini e Formaggi"}),i.jsx("option",{value:"carni",children:"Carni e Salumi"}),i.jsx("option",{value:"verdure",children:"Verdure e Ortaggi"}),i.jsx("option",{value:"frutta",children:"Frutta Fresca"}),i.jsx("option",{value:"pesce",children:"Pesce e Frutti di Mare"}),i.jsx("option",{value:"surgelati",children:"Surgelati"}),i.jsx("option",{value:"dispensa",children:"Dispensa Secca"}),i.jsx("option",{value:"condimenti",children:"Oli e Condimenti"})]}),M.length>0&&i.jsx("optgroup",{label:" I Miei Gruppi di Etichette",children:M.map(O=>i.jsxs("option",{value:`group_${O.id}`,children:[O.name," (",O.labelCount," etichett",O.labelCount===1?"a":"e",")"]},O.id))})]})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"location",children:"Posizione"}),i.jsx(st,{id:"location",value:qe.location,onChange:O=>gt(Ne=>({...Ne,location:O.target.value})),placeholder:"es. Frigo A - Ripiano intermedio"})]}),i.jsxs("div",{children:[i.jsx(Qe,{children:"Allergeni"}),i.jsx("div",{className:"grid grid-cols-3 md:grid-cols-7 gap-2 mt-2",children:ALLERGENS.map(O=>i.jsx("button",{type:"button",onClick:()=>{const Ne=qe.allergens.includes(O.id);gt(ze=>({...ze,allergens:Ne?ze.allergens.filter(yt=>yt!==O.id):[...ze.allergens,O.id]}))},className:`px-2 py-1 text-xs rounded transition-colors ${qe.allergens.includes(O.id)?O.color:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:O.name},O.id))})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"notes",children:"Note"}),i.jsx("textarea",{id:"notes",value:qe.notes,onChange:O=>gt(Ne=>({...Ne,notes:O.target.value})),placeholder:"Note aggiuntive...",className:"w-full p-2 border border-gray-300 rounded-md h-20 resize-none"})]}),i.jsxs("div",{children:[i.jsx(Qe,{children:"Foto Prodotto"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:Va,className:"w-full p-2 border border-gray-300 rounded-md"}),qe.photo&&i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:qe.photo,alt:"Preview",className:"w-full h-32 object-cover rounded-md border"}),i.jsx(ye,{size:"sm",variant:"outline",onClick:()=>gt(O=>({...O,photo:null})),className:"absolute top-2 right-2",children:i.jsx(zn,{className:"h-3 w-3"})})]})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsxs(ye,{onClick:nl,className:"flex-1",children:[i.jsx(Js,{className:"h-4 w-4 mr-2"}),"Salva Etichetta"]}),i.jsx(ye,{variant:"outline",onClick:()=>{u(!1),gt({productName:"",barcode:"",expiryDate:"",lotNumber:"",category:"",location:"",notes:"",photo:null,allergens:[]})},children:"Annulla"})]})]})]})}),_&&E&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs(Ye,{className:"w-full max-w-md",children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Anteprima Etichetta"}),i.jsx(ye,{variant:"outline",size:"sm",onClick:()=>k(!1),children:i.jsx(zn,{className:"h-4 w-4"})})]})}),i.jsxs(Ze,{children:[i.jsx("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg bg-white",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h2",{className:"text-lg font-bold",children:E.productName}),i.jsxs("div",{className:"text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Codice:"})," ",E.barcode]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Lotto:"})," ",E.lotNumber]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Scadenza:"})," ",new Date(E.expiryDate).toLocaleDateString("it-IT")]}),E.location&&i.jsxs("div",{children:[i.jsx("strong",{children:"Posizione:"})," ",E.location]})]}),i.jsx("div",{className:"flex justify-center my-4",children:i.jsx("div",{className:"w-16 h-16 bg-black border-2 border-gray-300 flex items-center justify-center",children:i.jsx(Gl,{className:"h-12 w-12 text-white"})})}),i.jsxs("div",{className:"text-xs text-gray-600",children:["Creata il ",new Date(E.createdAt).toLocaleDateString("it-IT")]})]})}),i.jsx("div",{className:"mt-4 text-center",children:i.jsxs(ye,{onClick:()=>alert("Funzione stampa in sviluppo"),children:[i.jsx(Ba,{className:"h-4 w-4 mr-2"}),"Scarica Etichetta PDF"]})})]})]})}),N&&U&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"relative max-w-4xl max-h-[90vh]",children:[i.jsx(ye,{variant:"outline",size:"sm",onClick:()=>A(!1),className:"absolute top-4 right-4 z-10",children:i.jsx(zn,{className:"h-4 w-4"})}),i.jsx("img",{src:U,alt:"Foto prodotto",className:"max-w-full max-h-full object-contain rounded-lg"})]})}),ae&&S.length>0&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs(Ye,{className:"w-full max-w-md",children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(Qo,{className:"h-5 w-5 text-orange-500"}),"Pulizia Automatica"]})}),i.jsxs(Ze,{children:[i.jsxs("p",{className:"mb-4",children:["Trovati ",i.jsx("strong",{children:S.length})," prodotti scaduti con foto. Vuoi eliminare le foto per liberare spazio in memoria?"]}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto mb-4",children:S.map(O=>i.jsxs("div",{className:"flex justify-between items-center p-2 bg-red-50 rounded",children:[i.jsx("span",{className:"text-sm",children:O.productName}),i.jsxs("span",{className:"text-xs text-red-600",children:["Scad: ",new Date(O.expiryDate).toLocaleDateString("it-IT")]})]},O.id))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{onClick:da,className:"flex-1",variant:"destructive",children:[i.jsx(br,{className:"h-4 w-4 mr-2"}),"Elimina Foto"]}),i.jsx(ye,{variant:"outline",onClick:()=>G(!1),children:"Mantieni"})]})]})]})}),Q&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs(Ye,{className:"w-full max-w-md",children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Crea Nuovo Gruppo"}),i.jsx(ye,{variant:"outline",size:"sm",onClick:()=>{oe(!1),me("")},children:i.jsx(zn,{className:"h-4 w-4"})})]})}),i.jsxs(Ze,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"groupName",children:"Nome del Gruppo"}),i.jsx(st,{id:"groupName",value:ce,onChange:O=>me(O.target.value),placeholder:"es. Etichette Salumi",onKeyPress:O=>O.key==="Enter"&&Rn()})]}),i.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:i.jsxs("p",{className:"text-blue-700 text-sm",children:["Il gruppo conterr ",F.length," etichett",F.length===1?"a":"e"," selezionat",F.length===1?"a":"e"]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{onClick:Rn,className:"flex-1",disabled:!ce.trim(),children:[i.jsx($m,{className:"h-4 w-4 mr-2"}),"Crea Gruppo"]}),i.jsx(ye,{variant:"outline",onClick:()=>{oe(!1),me("")},children:"Annulla"})]})]})]})}),Me&&K&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs(Ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center justify-between",children:[i.jsxs("span",{children:['Aggiungi Etichette al Gruppo "',K.name,'"']}),i.jsx(ye,{variant:"outline",size:"sm",onClick:()=>{Be(!1),ct([]),St("")},children:i.jsx(zn,{className:"h-4 w-4"})})]})}),i.jsxs(Ze,{className:"space-y-4 overflow-y-auto",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(st,{placeholder:"Cerca etichette da aggiungere...",value:ut,onChange:O=>St(O.target.value),className:"pl-10"})]})}),i.jsxs(ye,{onClick:Pr,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Su,{className:"h-4 w-4"}),"Seleziona Tutte"]}),i.jsxs(ye,{onClick:()=>ct([]),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(zn,{className:"h-4 w-4"}),"Deseleziona"]})]}),nt.length>0&&i.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:i.jsxs("p",{className:"text-blue-700 text-sm",children:[nt.length," etichett",nt.length===1?"a selezionata":"e selezionate"]})}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:i.jsxs("p",{className:"text-gray-700 text-sm",children:["Etichette disponibili: ",Oe.filter(O=>O.productName.toLowerCase().includes(ut.toLowerCase())||O.barcode.includes(ut)||O.lotNumber.toLowerCase().includes(ut.toLowerCase())).length," di ",Oe.length]})})]}),i.jsxs("div",{className:"max-h-96 overflow-y-auto space-y-2",children:[Oe.filter(O=>O.productName.toLowerCase().includes(ut.toLowerCase())||O.barcode.includes(ut)||O.lotNumber.toLowerCase().includes(ut.toLowerCase())).map(O=>{const Ne=nt.includes(O.id),ze=rn(O.id);return i.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors hover:shadow-md ${Ne?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-400"}`,onClick:()=>Vr(O.id),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",checked:Ne,onChange:()=>Vr(O.id),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 pointer-events-none"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"font-semibold",children:O.productName}),O.photo&&i.jsx(Rl,{className:"h-4 w-4 text-blue-500"}),ze&&i.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:['In "',ze.name,'"']})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Codice:"})," ",O.barcode]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Lotto:"})," ",O.lotNumber]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Scadenza:"})," ",new Date(O.expiryDate).toLocaleDateString("it-IT")]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Categoria:"})," ",O.category]})]})]})]})},O.id)}),Oe.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx(wr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Tutte le etichette sono gi in questo gruppo"})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[i.jsxs(ye,{onClick:fs,className:"flex-1",disabled:nt.length===0,children:[i.jsx(zi,{className:"h-4 w-4 mr-2"}),"Aggiungi ",nt.length," Etichett",nt.length===1?"a":"e"]}),i.jsx(ye,{variant:"outline",onClick:()=>{Be(!1),ct([]),St("")},children:"Annulla"})]})]})]})}),Tt&&ht&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs(Ye,{className:"w-full max-w-md",children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Modifica Gruppo"}),i.jsx(ye,{variant:"outline",size:"sm",onClick:()=>{rt(!1),Re(null),vt("")},children:i.jsx(zn,{className:"h-4 w-4"})})]})}),i.jsxs(Ze,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"editGroupName",children:"Nome del Gruppo"}),i.jsx(st,{id:"editGroupName",value:Mt,onChange:O=>vt(O.target.value),placeholder:"es. Etichette Salumi",onKeyPress:O=>O.key==="Enter"&&hr()})]}),i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[i.jsxs("p",{className:"text-blue-700 text-sm",children:["Il gruppo contiene ",ht.labelCount," etichett",ht.labelCount===1?"a":"e"]}),i.jsxs("p",{className:"text-blue-600 text-xs mt-1",children:["Creato da ",ht.createdBy," il ",new Date(ht.createdAt).toLocaleDateString("it-IT")]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{onClick:hr,className:"flex-1",disabled:!Mt.trim()||Mt.trim()===ht.name,children:[i.jsx(Ti,{className:"h-4 w-4 mr-2"}),"Salva Modifiche"]}),i.jsx(ye,{variant:"outline",onClick:()=>{rt(!1),Re(null),vt("")},children:"Annulla"})]})]})]})}),tt&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs(Ye,{className:"w-full max-w-md mx-4",children:[i.jsx(kt,{children:i.jsx(Lt,{className:"text-center text-orange-600",children:" Conferma Salvataggio Etichetta"})}),i.jsx(Ze,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Stai per salvare l'etichetta con questi dati:"}),i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-left space-y-2",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Prodotto:"})," ",qe.productName]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Scadenza:"})," ",qe.expiryDate]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Lotto:"})," ",qe.lotNumber||"Non specificato"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Categoria:"})," ",((Gi=An.find(O=>O.id===qe.category))==null?void 0:Gi.name)||((Bn=M.find(O=>O.id===qe.category))==null?void 0:Bn.name)||"Non specificata"]}),qe.photo&&i.jsxs("p",{children:[i.jsx("strong",{children:"Foto:"}),"  Allegata"]})]}),i.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[i.jsxs("p",{className:"text-sm text-red-700",children:[i.jsx("strong",{children:" ATTENZIONE:"}),i.jsx("br",{}),"Una volta salvata, l'etichetta ",i.jsx("strong",{children:"NON potr essere modificata"}),". In caso di errore sar necessario:"]}),i.jsxs("ul",{className:"text-xs text-red-600 mt-2 text-left",children:[i.jsx("li",{children:" Caricare una nuova foto"}),i.jsx("li",{children:" Rifare completamente la registrazione"})]}),i.jsx("p",{className:"text-sm text-red-700 mt-2",children:i.jsx("strong",{children:"Ricontrolla attentamente tutte le informazioni!"})})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ye,{variant:"outline",onClick:()=>It(!1),className:"flex-1",children:" Modifica Dati"}),i.jsx(ye,{onClick:xs,className:"flex-1 bg-green-600 hover:bg-green-700",children:" Conferma e Salva"})]})]})})]})}),_&&E&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs(Ye,{className:"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Hf,{className:"h-5 w-5"}),"Visualizzazione Etichetta"]}),i.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>{k(!1),y(null)},children:i.jsx(zn,{className:"h-4 w-4"})})]})}),i.jsx(Ze,{children:i.jsxs("div",{className:"space-y-4",children:[E.photo&&i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Foto Prodotto"}),i.jsxs("div",{className:"relative inline-block",children:[i.jsx("img",{src:E.photo,alt:"Foto prodotto",className:"w-32 h-32 object-cover rounded-lg border cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>He(!0)}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity bg-black bg-opacity-50 rounded-lg",children:i.jsx("span",{className:"text-white text-xs",children:"Clicca per ingrandire"})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Nome Prodotto"}),i.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:E.productName})]}),i.jsxs("div",{children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Codice/Barcode"}),i.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:E.barcode||"Non specificato"})]}),i.jsxs("div",{children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Data Scadenza"}),i.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:E.expiryDate})]}),i.jsxs("div",{children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Numero Lotto"}),i.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:E.lotNumber||"Non specificato"})]}),i.jsxs("div",{children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Categoria"}),i.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:((ys=An.find(O=>O.id===E.category))==null?void 0:ys.name)||((fa=M.find(O=>O.id===E.category))==null?void 0:fa.name)||"Non specificata"})]}),i.jsxs("div",{children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Posizione"}),i.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:E.location||"Non specificata"})]})]}),E.notes&&i.jsxs("div",{children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Note"}),i.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:E.notes})]}),i.jsx("div",{className:"border-t pt-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs text-gray-500",children:[i.jsxs("div",{children:[i.jsx(Qe,{className:"text-xs font-medium",children:"Creata da"}),i.jsx("p",{children:E.createdBy})]}),i.jsxs("div",{children:[i.jsx(Qe,{className:"text-xs font-medium",children:"Data Creazione"}),i.jsx("p",{children:new Date(E.createdAt).toLocaleString()})]})]})}),i.jsx("div",{className:"border-t pt-4 flex justify-center",children:i.jsx(ye,{variant:"outline",onClick:()=>{k(!1),y(null)},className:"px-8",children:"Chiudi"})})]})})]})}),Ce&&(E==null?void 0:E.photo)&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",onClick:()=>He(!1),children:i.jsxs("div",{className:"relative max-w-4xl max-h-4xl p-4",children:[i.jsx(ye,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 text-white hover:bg-white hover:bg-opacity-20",onClick:()=>He(!1),children:i.jsx(zn,{className:"h-6 w-6"})}),i.jsx("img",{src:E.photo,alt:"Foto prodotto ingrandita",className:"max-w-full max-h-full object-contain rounded-lg",onClick:O=>O.stopPropagation()})]})}),At&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs(Ye,{className:"w-full max-w-md mx-4",children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(Ii,{className:"h-5 w-5"}),"Sposta Etichette nel Gruppo"]})}),i.jsx(Ze,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:["Seleziona il gruppo dove spostare le ",F.length," etichette selezionate:"]}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:M.length===0?i.jsxs("div",{className:"text-center py-4",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Nessun gruppo disponibile."}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Crea prima un gruppo per spostare le etichette."})]}):M.map(O=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{const Ne=M.map(ze=>{if(ze.id===O.id){const yt=[...new Set([...ze.labelIds,...F])];return{...ze,labelIds:yt,labelCount:yt.length,lastUpdate:new Date().toISOString()}}else{const yt=ze.labelIds.filter(ot=>!F.includes(ot));return{...ze,labelIds:yt,labelCount:yt.length,lastUpdate:yt.length!==ze.labelIds.length?new Date().toISOString():ze.lastUpdate}}});Kt(Ne),J([]),C(!1),Gt(!1)},children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:O.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:[O.labelIds.length," etichette"]})]}),i.jsx(Ii,{className:"h-4 w-4 text-gray-400"})]},O.id))}),i.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[i.jsx(ye,{variant:"outline",onClick:()=>{Gt(!1)},className:"flex-1",children:"Annulla"}),i.jsxs(ye,{onClick:()=>{Gt(!1),oe(!0)},variant:"default",className:"flex-1",children:[i.jsx(zi,{className:"h-4 w-4 mr-2"}),"Nuovo Gruppo"]})]})]})})]})})]})}function D4({currentUser:e,currentSection:t,products:n=[],temperatures:r=[],cleaning:s=[],staff:a=[],onAction:l}){const[u,d]=he.useState([]),[p,g]=he.useState(""),[x,w]=he.useState(!1);he.useState([]);const[m,_]=he.useState(!1),[k,E]=he.useState(!1),[y,N]=he.useState(null),[A,U]=he.useState(!1),X=he.useRef(null),ae=()=>{var M;(M=X.current)==null||M.scrollIntoView({behavior:"smooth"})};he.useEffect(()=>{ae()},[u]),he.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const M=window.SpeechRecognition||window.webkitSpeechRecognition,Y=new M;Y.continuous=!1,Y.interimResults=!1,Y.lang="it-IT",Y.onstart=()=>{E(!0),G("assistant"," Ti sto ascoltando... Parla ora!","system")},Y.onresult=K=>{const Se=K.results[0][0].transcript;g(Se),G("assistant",` Ho sentito: "${Se}"`,"system")},Y.onerror=K=>{console.error("Speech recognition error:",K.error),E(!1),G("assistant"," Errore nel riconoscimento vocale. Riprova!","system")},Y.onend=()=>{E(!1)},N(Y)}},[]),he.useEffect(()=>{},[]);const G=(M,Y,K="text",Se=null)=>{const L={id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sender:M,content:Y,type:K,data:Se,timestamp:new Date().toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})};d(B=>[...B,L])},S=async()=>{if(!p.trim())return;const M=p.trim();g(""),G("user",M),w(!0),setTimeout(()=>{const Y=z(M,t);G("assistant",Y.content,Y.type,Y.data),w(!1)},1e3)},z=(M,Y)=>{const K=M.toLowerCase();switch(Y){case"inventory":return $(K);case"cleaning":return C(K);case"temperature":return F();case"staff":return J();case"dashboard":return Q();default:return oe(K)}},$=M=>{if(M.includes("aggiungere")||M.includes("nuovo prodotto"))return{content:`Per aggiungere un nuovo prodotto:

1. **Vai alla sezione "Inventario"**
2. **Clicca "Aggiungi Prodotto"**
3. **Compila i campi richiesti:**
   - Nome prodotto
   - Categoria
   - Posizione
   - Data scadenza
   - Allergeni (se presenti)

**Suggerimento**: Puoi anche usare le categorie predefinite per aggiunta rapida!`,type:"text"};if(M.includes("scadenza")||M.includes("scaduti")){const Y=n.filter(K=>{const Se=Math.ceil((new Date(K.expiryDate)-new Date)/864e5);return Se<=7&&Se>0});return Y.length>0?{content:` **Prodotti in scadenza** (${Y.length} prodotti):

${Y.map(K=>` ${K.name} - Scade il ${K.expiryDate}`).join(`
`)}

**Suggerimento**: Vuoi che generi delle ricette per utilizzare questi ingredienti?`,type:"alert",data:{products:Y}}:{content:" Nessun prodotto in scadenza nei prossimi 7 giorni!",type:"text"}}return{content:`Per l'inventario posso aiutarti con:
 Aggiungere prodotti
 Controllare scadenze
 Gestire categorie
 Suggerimenti ricette

Cosa ti serve?`,type:"text"}},C=M=>{if(M.includes("attivit")||M.includes("mansioni")){const Y=s.filter(K=>!K.completed);return{content:` **Attivit da svolgere** (${Y.length} totali):

${Y.slice(0,5).map(K=>` ${K.task} - Assegnato a: ${K.assignee}`).join(`
`)}
${Y.length>5?`
... e altre ${Y.length-5} attivit`:""}

**Suggerimento**: Usa le schede per filtrare per frequenza (Giornaliere/Settimanali/Mensili/Annuali)`,type:"text"}}return M.includes("temperatura")||M.includes("frigo")?{content:` **Ultime temperature registrate**:

${r.slice(-3).map(K=>` ${K.location}: ${K.temperature}C (${K.status})`).join(`
`)}

**Suggerimento**: Registra temperature regolarmente per monitorare la sicurezza alimentare!`,type:"text"}:{content:`Per la sezione pulizia posso aiutarti con:
 Gestione attivit
 Controlli temperatura
 Frequenze mansioni
 Report completamento

Cosa ti serve?`,type:"text"}},F=M=>({content:`Per i controlli temperatura posso aiutarti con:
 Registrare nuove temperature
 Monitorare trend
 Alert automatici
 Report periodici

Cosa ti serve?`,type:"text"}),J=M=>({content:`Per la gestione del personale posso aiutarti con:
 Aggiungere dipendenti
 Gestire ruoli
 Assegnare mansioni
 Report attivit

Cosa ti serve?`,type:"text"}),Q=M=>({content:`Per la dashboard posso aiutarti con:
 Panoramica generale
 Statistiche rapide
 Alert importanti
 Navigazione sezioni

Cosa ti serve?`,type:"text"}),oe=M=>M.includes("aiuto")||M.includes("help")?{content:` **Come posso aiutarti:**

** Inventario:**
 Aggiungere prodotti
 Controllare scadenze
 Suggerimenti ricette

** Pulizia:**
 Gestire attivit
 Controlli temperatura
 Frequenze mansioni

** Personale:**
 Gestire dipendenti
 Assegnare ruoli

** Dashboard:**
 Panoramica generale
 Statistiche

** Automatizzazioni:**
 Alert scadenze
 Ordini settimanali
 Suggerimenti ricette

Dimmi in quale sezione ti trovi o cosa ti serve!`,type:"text"}:{content:"Non sono sicuro di aver capito. Puoi essere pi specifico? Oppure dimmi in quale sezione ti trovi per ricevere aiuto mirato!",type:"text"},ce=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),S())},me=()=>{if(!y){G("assistant"," Riconoscimento vocale non supportato dal tuo browser. Usa Chrome o Edge!","system");return}k?y.stop():y.start()};return i.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:A?i.jsx(ye,{onClick:()=>U(!1),className:"w-12 h-12 rounded-full bg-blue-600 hover:bg-blue-700 shadow-lg",children:i.jsx(Gs,{className:"h-6 w-6 text-white"})}):i.jsxs(Ye,{className:"w-80 h-96 flex flex-col",children:[i.jsx(kt,{className:"pb-3",children:i.jsxs(Lt,{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Gs,{className:"h-4 w-4 text-blue-600"}),"Assistente IA",k&&i.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[i.jsx(xd,{className:"h-3 w-3 animate-pulse"}),i.jsx("span",{className:"text-xs",children:"Ascoltando..."})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>U(!0),className:"h-6 w-6 p-0",children:i.jsx(jy,{className:"h-3 w-3"})}),i.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>_(!m),className:"h-6 w-6 p-0",children:i.jsx(Ti,{className:"h-3 w-3"})})]})]})}),i.jsxs(Ze,{className:"flex-1 flex flex-col p-0",children:[i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[u.map(M=>i.jsx("div",{className:`flex ${M.sender==="user"?"justify-end":"justify-start"}`,children:i.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${M.sender==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[M.sender==="assistant"&&i.jsx(Gs,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm whitespace-pre-wrap",children:M.content}),i.jsx("div",{className:`text-xs mt-1 ${M.sender==="user"?"text-blue-100":"text-gray-500"}`,children:M.timestamp})]})]})})},M.id)),x&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Gs,{className:"h-4 w-4 text-blue-600"}),i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}),i.jsx("div",{ref:X})]}),i.jsx("div",{className:"p-4 border-t bg-white",children:i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsx(st,{value:p,onChange:M=>g(M.target.value),onKeyPress:ce,placeholder:"Scrivi un messaggio...",className:"flex-1 min-h-[40px]"}),i.jsx(ye,{onClick:me,disabled:x,size:"sm",className:`px-3 h-10 ${k?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:k?i.jsx(Pg,{className:"h-4 w-4"}):i.jsx(xd,{className:"h-4 w-4"})}),i.jsx(ye,{onClick:S,disabled:!p.trim()||x,size:"sm",className:"px-3 h-10",children:i.jsx(_g,{className:"h-4 w-4"})})]})})]})]})})}function z4({currentUser:e,products:t=[],temperatures:n=[],cleaning:r=[],staff:s=[],onAction:a}){const[l,u]=he.useState([]),[d,p]=he.useState(""),[g,x]=he.useState(!1),[w,m]=he.useState(!1),[_,k]=he.useState(null),[E,y]=he.useState(!1),[N,A]=he.useState([{id:1,name:"Alert Scadenze",enabled:!0,description:"Avvisa sui prodotti in scadenza"},{id:2,name:"Suggerimenti Ricette",enabled:!0,description:"Genera ricette per ingredienti in scadenza"},{id:3,name:"Ordini Settimanali",enabled:!1,description:"Crea ordini automatici ogni luned"},{id:4,name:"Alert Temperature",enabled:!0,description:"Avvisa su temperature critiche"}]);he.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const $=window.SpeechRecognition||window.webkitSpeechRecognition,C=new $;C.continuous=!1,C.interimResults=!1,C.lang="it-IT",C.onstart=()=>{m(!0),U("assistant"," Ti sto ascoltando... Parla ora!","system")},C.onresult=F=>{const J=F.results[0][0].transcript;p(J),U("assistant",` Ho sentito: "${J}"`,"system")},C.onerror=F=>{console.error("Speech recognition error:",F.error),m(!1),U("assistant"," Errore nel riconoscimento vocale. Riprova!","system")},C.onend=()=>{m(!1)},k(C)}},[]),he.useEffect(()=>{l.length===0&&U("assistant",`Ciao ${(e==null?void 0:e.name)||"utente"}!  Sono il tuo assistente IA per il sistema HACCP.

** Cosa posso fare:**
 **Gestione inventario** - Aggiungere prodotti, controllare scadenze
 **Controlli temperatura** - Registrare e monitorare temperature
 **Attivit di pulizia** - Gestire mansioni e frequenze
 **Automatizzazioni** - Alert intelligenti e suggerimenti
 ** Riconoscimento vocale** - Parla invece di scrivere!

** Automatizzazioni attive:**
${N.filter($=>$.enabled).map($=>` ${$.name}`).join(`
`)}

Dimmi cosa ti serve!`)},[]);const U=($,C,F="text",J=null)=>{const Q={id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sender:$,content:C,type:F,data:J,timestamp:new Date().toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})};u(oe=>[...oe,Q])},X=async()=>{if(!d.trim())return;const $=d.trim();p(""),U("user",$),x(!0),setTimeout(()=>{const C=ae($);U("assistant",C.content,C.type,C.data),x(!1)},1e3)},ae=$=>{const C=$.toLowerCase();if(C.includes("aiuto")||C.includes("help"))return{content:` **Come posso aiutarti:**

** Inventario:**
 "Aggiungi un nuovo prodotto"
 "Controlla le scadenze"
 "Mostra i prodotti in scadenza"

** Temperature:**
 "Registra una temperatura"
 "Mostra le ultime temperature"
 "Controlla i frigoriferi"

** Pulizia:**
 "Mostra le attivit da svolgere"
 "Aggiungi una nuova attivit"
 "Controlla le mansioni"

** Automatizzazioni:**
 "Attiva alert scadenze"
 "Genera ricette"
 "Configura automatizzazioni"

** Comandi vocali:**
 Parla chiaramente in italiano
 Usa frasi semplici e dirette
 Clicca il microfono per iniziare`,type:"text"};if(C.includes("scadenza")||C.includes("scaduti")){const F=t.filter(J=>{const Q=Math.ceil((new Date(J.expiryDate)-new Date)/864e5);return Q<=7&&Q>0});return F.length>0?{content:` **Prodotti in scadenza** (${F.length} prodotti):

${F.map(J=>` ${J.name} - Scade il ${J.expiryDate}`).join(`
`)}

**Suggerimento**: Vuoi che generi delle ricette per utilizzare questi ingredienti?`,type:"alert",data:{products:F}}:{content:" Nessun prodotto in scadenza nei prossimi 7 giorni!",type:"text"}}if(C.includes("attivit")||C.includes("mansioni")){const F=r.filter(J=>!J.completed);return{content:` **Attivit da svolgere** (${F.length} totali):

${F.slice(0,5).map(J=>` ${J.task} - Assegnato a: ${J.assignee}`).join(`
`)}
${F.length>5?`
... e altre ${F.length-5} attivit`:""}

**Suggerimento**: Usa le schede per filtrare per frequenza!`,type:"text"}}return C.includes("temperatura")||C.includes("frigo")?{content:` **Ultime temperature registrate**:

${n.slice(-3).map(J=>` ${J.location}: ${J.temperature}C (${J.status})`).join(`
`)}

**Suggerimento**: Registra temperature regolarmente per monitorare la sicurezza alimentare!`,type:"text"}:{content:'Non sono sicuro di aver capito. Prova a dire "aiuto" per vedere tutti i comandi disponibili!',type:"text"}},G=()=>{if(!_){U("assistant"," Riconoscimento vocale non supportato dal tuo browser. Usa Chrome o Edge!","system");return}w?_.stop():_.start()},S=$=>{A(C=>C.map(F=>F.id===$?{...F,enabled:!F.enabled}:F))},z=$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),X())};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"IA Assistant"}),i.jsx("p",{className:"text-gray-600",children:"Il tuo assistente intelligente per la gestione HACCP"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ye,{onClick:G,disabled:g,className:`${w?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:[w?i.jsx(Pg,{className:"h-4 w-4 mr-2"}):i.jsx(xd,{className:"h-4 w-4 mr-2"}),w?"Ferma Ascolto":"Parla"]}),i.jsxs(ye,{variant:"outline",onClick:()=>y(!E),children:[i.jsx(Ti,{className:"h-4 w-4 mr-2"}),"Impostazioni"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(Ye,{className:"h-96",children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(Gs,{className:"h-5 w-5 text-blue-600"}),"Chat con l'IA",w&&i.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[i.jsx(xd,{className:"h-3 w-3 animate-pulse"}),i.jsx("span",{className:"text-xs",children:"Ascoltando..."})]})]})}),i.jsxs(Ze,{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 mb-4",children:[l.map($=>i.jsx("div",{className:`flex ${$.sender==="user"?"justify-end":"justify-start"}`,children:i.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${$.sender==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[$.sender==="assistant"&&i.jsx(Gs,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm whitespace-pre-wrap",children:$.content}),i.jsx("div",{className:`text-xs mt-1 ${$.sender==="user"?"text-blue-100":"text-gray-500"}`,children:$.timestamp})]})]})})},$.id)),g&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Gs,{className:"h-4 w-4 text-blue-600"}),i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(st,{value:d,onChange:$=>p($.target.value),onKeyPress:z,placeholder:"Scrivi un messaggio o parla...",className:"flex-1"}),i.jsx(ye,{onClick:X,disabled:!d.trim()||g,children:i.jsx(_g,{className:"h-4 w-4"})})]})]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(Ly,{className:"h-5 w-5 text-yellow-600"}),"Automatizzazioni"]})}),i.jsx(Ze,{children:i.jsx("div",{className:"space-y-3",children:N.map($=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-sm",children:$.name}),i.jsx("p",{className:"text-xs text-gray-600",children:$.description})]}),i.jsx(ye,{size:"sm",variant:$.enabled?"default":"outline",onClick:()=>S($.id),children:$.enabled?"Attiva":"Disattiva"})]},$.id))})})]}),i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(Zp,{className:"h-5 w-5 text-purple-600"}),"Azioni Rapide"]})}),i.jsx(Ze,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ye,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>p("Controlla le scadenze"),children:[i.jsx(wr,{className:"h-4 w-4 mr-2"}),"Controlla Scadenze"]}),i.jsxs(ye,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>p("Mostra le attivit da svolgere"),children:[i.jsx(Js,{className:"h-4 w-4 mr-2"}),"Attivit da Svolgere"]}),i.jsxs(ye,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>p("Mostra le ultime temperature"),children:[i.jsx(zr,{className:"h-4 w-4 mr-2"}),"Ultime Temperature"]}),i.jsxs(ye,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>p("Aiuto"),children:[i.jsx(wy,{className:"h-4 w-4 mr-2"}),"Aiuto"]})]})})]})]})]})]})}function T4({products:e=[],onRecipeSuggestion:t}){const[n,r]=he.useState([]),[s,a]=he.useState(!1),[l,u]=he.useState([]);he.useEffect(()=>{(()=>{const x=new Date,w=e.filter(m=>{if(!m.expiryDate)return!1;const _=new Date(m.expiryDate),k=Math.ceil((_-x)/(1e3*60*60*24));return k<=7&&k>0});r(w)})()},[e]);const d=()=>{const g=[];n.forEach(x=>{const w=p(x);w&&g.push(w)}),u(g),a(!0)},p=g=>({"Mozzarella di Bufala":{name:"Insalata Caprese",ingredients:["Mozzarella di Bufala","Pomodoro","Basilico","Olio EVO"],instructions:"Taglia mozzarella e pomodoro a fette, alterna su piatto, guarnisci con basilico e olio.",difficulty:"Facile",time:"10 minuti"},"Parmigiano Reggiano":{name:"Risotto al Parmigiano",ingredients:["Riso Carnaroli","Parmigiano Reggiano","Burro","Brodo"],instructions:"Prepara risotto classico, manteca con parmigiano e burro.",difficulty:"Media",time:"25 minuti"},"Prosciutto Crudo":{name:"Antipasto Prosciutto e Melone",ingredients:["Prosciutto Crudo","Melone","Rucola"],instructions:"Avvolgi fette di prosciutto su cubetti di melone, guarnisci con rucola.",difficulty:"Facile",time:"5 minuti"},Salmone:{name:"Salmone al Forno con Erbe",ingredients:["Salmone","Limone","Erbe aromatiche","Olio EVO"],instructions:"Condisci salmone con erbe, limone e olio, cuoci in forno a 180C per 15 min.",difficulty:"Facile",time:"20 minuti"},"Basilico Fresco":{name:"Pesto alla Genovese",ingredients:["Basilico Fresco","Parmigiano","Pine Nuts","Olio EVO","Aglio"],instructions:"Frulla tutti gli ingredienti fino a ottenere una crema omogenea.",difficulty:"Facile",time:"10 minuti"}})[g.name]||{name:`Ricetta con ${g.name}`,ingredients:[g.name,"Altri ingredienti disponibili"],instructions:"Crea una ricetta utilizzando questo ingrediente prima che scada.",difficulty:"Media",time:"15 minuti"};return n.length===0?null:i.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-md",children:i.jsxs(Ye,{className:"border-orange-200 bg-orange-50",children:[i.jsx(kt,{className:"pb-3",children:i.jsxs(Lt,{className:"flex items-center gap-2 text-orange-800",children:[i.jsx(Qo,{className:"h-5 w-5"}),"Prodotti in Scadenza"]})}),i.jsxs(Ze,{className:"space-y-3",children:[i.jsxs("div",{className:"text-sm text-orange-700",children:[i.jsxs("p",{className:"font-medium mb-2",children:[n.length," prodotto",n.length>1?"i":""," in scadenza:"]}),i.jsx("ul",{className:"space-y-1",children:n.map(g=>i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Xp,{className:"h-3 w-3"}),i.jsx("span",{children:g.name}),i.jsxs("span",{className:"text-xs",children:["(scade il ",new Date(g.expiryDate).toLocaleDateString("it-IT"),")"]})]},g.id))})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{onClick:d,className:"bg-orange-600 hover:bg-orange-700 text-white",size:"sm",children:[i.jsx(my,{className:"h-4 w-4 mr-1"}),"Suggerisci Ricette"]}),i.jsxs(ye,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-300",children:[i.jsx(br,{className:"h-4 w-4 mr-1"}),"Rimuovi Alert"]})]}),s&&l.length>0&&i.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg border",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Ricette Suggerite:"}),i.jsx("div",{className:"space-y-2",children:l.map((g,x)=>i.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[i.jsx("h5",{className:"font-medium text-sm",children:g.name}),i.jsxs("p",{className:"text-xs text-gray-600",children:["Tempo: ",g.time,"  Difficolt: ",g.difficulty]}),i.jsx("p",{className:"text-xs text-gray-700 mt-1",children:g.instructions})]},x))})]})]})]})})}function M4({temperatures:e,cleaning:t,products:n,refrigerators:r,setTemperatures:s,setCleaning:a,setProducts:l,setRefrigerators:u}){const[d,p]=he.useState(!1),[g,x]=he.useState({temperatures:0,cleaning:0,products:0,refrigerators:0,totalSize:0});he.useEffect(()=>{(()=>{const y=JSON.stringify(e).length,N=JSON.stringify(t).length,A=JSON.stringify(n).length,U=JSON.stringify(r).length;x({temperatures:e.length,cleaning:t.length,products:n.length,refrigerators:r.length,totalSize:y+N+A+U})})()},[e,t,n,r]);const w=()=>{if(!d)return;const E=new Date;E.setDate(E.getDate()-30);const y=e.filter(G=>new Date(G.timestamp)<E),N=e.filter(G=>new Date(G.timestamp)>=E),A=t.filter(G=>G.completed&&new Date(G.createdAt)<E),U=t.filter(G=>!G.completed||new Date(G.createdAt)>=E),X={temperatures:y,cleaning:A,archivedAt:new Date().toISOString()},ae=JSON.parse(localStorage.getItem("haccp-archives")||"[]");ae.push(X),localStorage.setItem("haccp-archives",JSON.stringify(ae)),s(N),a(U),alert(`Archiviazione completata! Rimossi ${y.length} record temperature e ${A.length} attivit completate.`)};he.useEffect(()=>{if(!d)return;const E=setInterval(()=>{w()},24*60*60*1e3);return()=>clearInterval(E)},[d]);const m=E=>Math.min(E/5242880*100,100),_=E=>E<50?"text-green-600":E<80?"text-yellow-600":"text-red-600",k=E=>{if(E===0)return"0 Bytes";const y=1024,N=["Bytes","KB","MB","GB"],A=Math.floor(Math.log(E)/Math.log(y));return parseFloat((E/Math.pow(y,A)).toFixed(2))+" "+N[A]};return i.jsx("div",{className:"space-y-6",children:i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(yy,{className:"h-5 w-5"}),"Gestione Storage"]})}),i.jsxs(Ze,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-4",children:"Utilizzo Storage"}),i.jsxs("div",{className:"relative w-48 h-48 mx-auto",children:[i.jsxs("svg",{className:"w-48 h-48 transform -rotate-90",viewBox:"0 0 100 100",children:[i.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#3B82F6",strokeWidth:"8",strokeDasharray:`${g.temperatures/(g.temperatures+g.cleaning+g.products+g.refrigerators)*251.2} 251.2`,strokeDashoffset:"0"}),i.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#10B981",strokeWidth:"8",strokeDasharray:`${g.cleaning/(g.temperatures+g.cleaning+g.products+g.refrigerators)*251.2} 251.2`,strokeDashoffset:`-${g.temperatures/(g.temperatures+g.cleaning+g.products+g.refrigerators)*251.2}`}),i.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#F59E0B",strokeWidth:"8",strokeDasharray:`${g.products/(g.temperatures+g.cleaning+g.products+g.refrigerators)*251.2} 251.2`,strokeDashoffset:`-${(g.temperatures+g.cleaning)/(g.temperatures+g.cleaning+g.products+g.refrigerators)*251.2}`}),i.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#8B5CF6",strokeWidth:"8",strokeDasharray:`${g.refrigerators/(g.temperatures+g.cleaning+g.products+g.refrigerators)*251.2} 251.2`,strokeDashoffset:`-${(g.temperatures+g.cleaning+g.products)/(g.temperatures+g.cleaning+g.products+g.refrigerators)*251.2}`})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`text-2xl font-bold ${_(m(g.totalSize))}`,children:k(g.totalSize)}),i.jsx("div",{className:"text-sm text-gray-600",children:"Utilizzato"})]})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-4",children:"Dettaglio Dati"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium",children:"Temperature"})]}),i.jsxs("span",{className:"text-sm text-gray-600",children:[g.temperatures," record"]})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium",children:"Attivit"})]}),i.jsxs("span",{className:"text-sm text-gray-600",children:[g.cleaning," record"]})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium",children:"Prodotti"})]}),i.jsxs("span",{className:"text-sm text-gray-600",children:[g.products," record"]})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium",children:"Frigoriferi"})]}),i.jsxs("span",{className:"text-sm text-gray-600",children:[g.refrigerators," record"]})]})]})]})]}),i.jsxs("div",{className:"border-t pt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[i.jsx(Bm,{className:"h-4 w-4"}),"Archiviazione Automatica"]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Rimuove automaticamente i dati vecchi per mantenere l'app veloce"})]}),i.jsx(ye,{variant:d?"default":"outline",onClick:()=>p(!d),className:"flex items-center gap-2",children:d?i.jsxs(i.Fragment,{children:[i.jsx(Js,{className:"h-4 w-4"}),"Abilitata"]}):i.jsxs(i.Fragment,{children:[i.jsx(Ti,{className:"h-4 w-4"}),"Disabilitata"]})})]}),d&&i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Cosa fa l'archiviazione automatica:"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:" Rimuove le registrazioni temperature pi vecchie di 30 giorni"}),i.jsx("li",{children:" Archivia le attivit completate pi vecchie di 30 giorni"}),i.jsx("li",{children:" Mantiene tutti i prodotti e frigoriferi attivi"}),i.jsx("li",{children:" Crea un backup dei dati rimossi"}),i.jsx("li",{children:" Si esegue automaticamente ogni 24 ore"})]}),i.jsx("div",{className:"mt-3",children:i.jsxs(ye,{onClick:w,className:"flex items-center gap-2",size:"sm",children:[i.jsx(Bm,{className:"h-4 w-4"}),"Archivia Ora"]})})]})]}),i.jsxs("div",{className:"border-t pt-6",children:[i.jsx("h3",{className:"font-semibold mb-4",children:"Azioni Manuali"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs(ye,{variant:"outline",className:"flex items-center gap-2",onClick:()=>{const E={temperatures:e,cleaning:t,products:n,refrigerators:r,exportedAt:new Date().toISOString()},y=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),N=URL.createObjectURL(y),A=document.createElement("a");A.href=N,A.download=`haccp-backup-${new Date().toISOString().split("T")[0]}.json`,A.click()},children:[i.jsx(Ba,{className:"h-4 w-4"}),"Esporta Tutti i Dati"]}),i.jsxs(ye,{variant:"outline",className:"flex items-center gap-2",onClick:()=>{confirm("Sei sicuro di voler eliminare tutti i dati? Questa azione non pu essere annullata.")&&(s([]),a([]),l([]),u([]),alert("Tutti i dati sono stati eliminati."))},children:[i.jsx(br,{className:"h-4 w-4"}),"Elimina Tutti i Dati"]})]})]})]})]})})}function O4(){const[e,t]=he.useState(null),[n,r]=he.useState(!1),[s,a]=he.useState(!1);he.useEffect(()=>{const d=()=>window.matchMedia("(display-mode: standalone)").matches?(a(!0),!0):!1,p=localStorage.getItem("pwa-install-rejected");return!d()&&!p&&(window.addEventListener("beforeinstallprompt",g=>{g.preventDefault(),t(g),r(!0)}),window.addEventListener("appinstalled",()=>{a(!0),r(!1),t(null)})),()=>{window.removeEventListener("beforeinstallprompt",()=>{}),window.removeEventListener("appinstalled",()=>{})}},[]);const l=async()=>{if(!e)return;e.prompt();const{outcome:d}=await e.userChoice;d==="accepted"?(console.log("PWA installata con successo!"),a(!0)):(console.log("Installazione PWA rifiutata"),localStorage.setItem("pwa-install-rejected","true")),t(null),r(!1)},u=()=>{r(!1),localStorage.setItem("pwa-install-rejected","true")};return s||!n?null:i.jsx("div",{className:"fixed bottom-4 left-4 right-4 bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-50",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ba,{className:"h-5 w-5 text-blue-600"}),i.jsx("h3",{className:"font-semibold text-gray-900",children:"Installa l'App"})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Installa Mini-ePackPro sul tuo dispositivo per un accesso pi veloce e funzionalit offline."}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{onClick:l,size:"sm",className:"flex items-center gap-2",children:[i.jsx(Ba,{className:"h-4 w-4"}),"Installa"]}),i.jsxs(ye,{onClick:u,variant:"outline",size:"sm",children:[i.jsx(zn,{className:"h-4 w-4"}),"Non ora"]})]})]})})})}function R4({isOpen:e,onClose:t,onLogin:n,users:r,onAddUser:s}){const[a,l]=he.useState(""),[u,d]=he.useState(""),[p,g]=he.useState(!1),[x,w]=he.useState(!1),[m,_]=he.useState(""),[k,E]=he.useState({name:"",pin:"",role:"employee",department:""}),[y,N]=he.useState([]),[A,U]=he.useState([]);he.useEffect(()=>{const z=localStorage.getItem("haccp-departments"),$=localStorage.getItem("haccp-departments-version"),C=["Banconisti","Cuochi","Amministrazione"];if($!=="2.0"||!z)N(C),U(C);else try{const J=JSON.parse(z).filter(oe=>oe.isCustom).map(oe=>oe.name),Q=[...J];C.forEach(oe=>{J.includes(oe)||Q.push(oe)}),N(Q),U(C)}catch(F){console.error("Errore nel caricamento reparti:",F),N(C),U(C)}},[]);const X=()=>{if(!a||!u){_("Seleziona utente e inserisci PIN");return}const z=r.find($=>$.id===a);if(!z){_("Utente non trovato");return}if(z.pin!==u){_("PIN non corretto");return}n(z),G()},ae=()=>{if(!k.name.trim()||!k.pin.trim()){_("Nome e PIN sono obbligatori");return}if(k.pin.length!==4){_("Il PIN deve essere di 4 cifre");return}if(r.some(z=>z.pin===k.pin)){_("PIN gi in uso, scegline un altro");return}s(k),g(!1),E({name:"",pin:"",role:"employee",department:""}),_("")},G=()=>{l(""),d(""),_(""),g(!1),w(!1)},S=()=>{G(),t()};return e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[i.jsx("h2",{className:"text-xl font-semibold",children:p?"Aggiungi Nuovo Utente":"Inizia il Turno"}),i.jsx(ye,{variant:"ghost",size:"sm",onClick:S,children:i.jsx(zn,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"p-6",children:[m&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:m}),p?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"new-name",children:"Nome Completo"}),i.jsx(st,{id:"new-name",value:k.name,onChange:z=>E({...k,name:z.target.value}),placeholder:"es. Mario Rossi"})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"new-pin",children:"PIN (4 cifre)"}),i.jsx(st,{id:"new-pin",type:"password",value:k.pin,onChange:z=>{const $=z.target.value.replace(/\D/g,"").slice(0,4);E({...k,pin:$})},maxLength:4,placeholder:""})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"new-role",children:"Ruolo"}),i.jsxs("select",{id:"new-role",value:k.role,onChange:z=>E({...k,role:z.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"-- Seleziona ruolo --"}),i.jsx("option",{value:"dipendente",children:"Dipendente (Staff Fisso) (Consigliato)"}),i.jsx("option",{value:"responsabile",children:"Responsabile (Consigliato)"}),i.jsx("option",{value:"collaboratore",children:"Collaboratore Occasionale (Consigliato)"}),i.jsx("option",{value:"admin",children:"Amministratore (Consigliato)"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:`I ruoli contrassegnati come "Consigliato" sono provvisori e verranno sostituiti dalle categorie create dall'amministratore.`})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"new-department",children:"Reparto"}),i.jsxs("select",{id:"new-department",value:k.department,onChange:z=>E({...k,department:z.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"-- Seleziona reparto --"}),y.map(z=>{const $=A.includes(z);return i.jsxs("option",{value:z,children:[z," ",$?"(Consigliato)":""]},z)})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:`I reparti contrassegnati come "Consigliato" sono provvisori e verranno sostituiti dalle categorie create dall'amministratore.`})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsxs(ye,{onClick:ae,className:"flex-1",disabled:!k.name.trim()||k.pin.length!==4,children:[i.jsx(zi,{className:"mr-2 h-4 w-4"}),"Crea Utente"]}),i.jsx(ye,{variant:"outline",onClick:()=>{g(!1),_("")},children:"Indietro"})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"user-select",children:"Seleziona Utente"}),i.jsxs("select",{id:"user-select",value:a,onChange:z=>{l(z.target.value),_("")},className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"-- Scegli utente --"}),r.map(z=>i.jsxs("option",{value:z.id,children:[z.name," (",z.department,")",z.role==="admin"&&" - Admin"]},z.id))]})]}),i.jsxs("div",{children:[i.jsx(Qe,{htmlFor:"pin",children:"PIN (4 cifre)"}),i.jsxs("div",{className:"relative",children:[i.jsx(st,{id:"pin",type:x?"text":"password",value:u,onChange:z=>{const $=z.target.value.replace(/\D/g,"").slice(0,4);d($),_("")},maxLength:4,placeholder:"",className:"pr-10"}),i.jsx(ye,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>w(!x),children:x?i.jsx(gy,{className:"h-4 w-4"}):i.jsx(Hf,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsxs(ye,{onClick:X,className:"flex-1",disabled:!a||u.length!==4,children:[i.jsx(Ig,{className:"mr-2 h-4 w-4"}),"Entra"]}),i.jsx(ye,{variant:"outline",onClick:S,children:"Annulla"})]}),i.jsx("div",{className:"pt-4 border-t",children:i.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"w-full",children:[i.jsx(zi,{className:"mr-2 h-4 w-4"}),"Aggiungi Nuovo Utente"]})})]})]})]})}):null}function B4({activeTab:e,temperatures:t}){const[n,r]=he.useState(!1);he.useEffect(()=>{r(e==="temperature")},[e]);const s=()=>{if(typeof window.jspdf>"u"){alert("Errore: Librerie PDF non caricate. Ricarica la pagina e riprova.");return}if(t.length===0){alert("Nessuna temperatura registrata da esportare.");return}try{const a=["Posizione","Temperatura","Orario"],l=[];t.forEach(w=>{l.push([w.location,`${w.temperature}C`,w.time])});const{jsPDF:u}=window.jspdf,d=new u;d.setFontSize(18),d.text("Report: Temperature HACCP",14,22),d.setFontSize(12);const p=new Date().toLocaleDateString("it-IT");d.text(`Data esportazione: ${p}`,14,32),d.text(`Totale rilevazioni: ${t.length}`,14,40),d.autoTable({startY:50,head:[a],body:l,theme:"striped",styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[25,118,210],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{0:{cellWidth:60},1:{cellWidth:40,halign:"center"},2:{cellWidth:50}}});const g=d.internal.getNumberOfPages();d.setFontSize(8);for(let w=1;w<=g;w++)d.setPage(w),d.text(`Mini-ePackPro HACCP - Pagina ${w} di ${g}`,14,d.internal.pageSize.height-10);const x=`report_Temperature_${new Date().toISOString().slice(0,10)}.pdf`;d.save(x)}catch(a){console.error("PDF export error:",a),alert("Errore durante l'esportazione del PDF. Riprova.")}};return n?i.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:i.jsxs(ye,{onClick:s,className:"bg-primary-500 hover:bg-primary-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 px-6 py-3 rounded-xl",size:"lg",children:[i.jsx(xy,{className:"h-5 w-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Esporta Temperature in PDF"}),i.jsx("span",{className:"sm:hidden",children:"PDF"})]})}):null}function q4({value:e,onValueChange:t,children:n}){return i.jsx("div",{className:"w-full",children:Eo.Children.map(n,r=>!r||!r.type?r:r.type===Zg?Eo.cloneElement(r,{value:e,onValueChange:t}):r.type===Rs?Eo.cloneElement(r,{currentValue:e}):r)})}function Zg({value:e,onValueChange:t,children:n,className:r=""}){return i.jsx("div",{className:`flex p-1 bg-gray-100 rounded-xl shadow-sm ${r}`,children:Eo.Children.map(n,s=>!s||!s.type?s:s.type===Os?Eo.cloneElement(s,{currentValue:e,onValueChange:t,isActive:e===s.props.value}):s)})}function Os({value:e,currentValue:t,onValueChange:n,isActive:r,children:s,className:a=""}){return i.jsx("button",{onClick:()=>n(e),className:`
        flex-1 px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 ease-in-out
        ${r?"bg-white text-blue-600 shadow-md transform scale-[1.02]":"text-gray-600 hover:text-gray-900 hover:bg-white/60 active:scale-[0.98]"}
        ${a}
      `,children:s})}function Rs({value:e,currentValue:t,children:n}){return t!==e?null:i.jsx("div",{className:"mt-6 animate-in fade-in-50 duration-200",children:n})}function U4(){var Q;const[e,t]=he.useState("dashboard"),[n,r]=he.useState([]),[s,a]=he.useState([]),[l,u]=he.useState([]),[d,p]=he.useState([]),[g,x]=he.useState([]),[w,m]=he.useState([]),[_,k]=he.useState([]),[E,y]=he.useState(null),[N,A]=he.useState([]),[U,X]=he.useState(!1);he.useEffect(()=>{const oe=localStorage.getItem("haccp-temperatures"),ce=localStorage.getItem("haccp-cleaning"),me=localStorage.getItem("haccp-refrigerators"),M=localStorage.getItem("haccp-staff"),Y=localStorage.getItem("haccp-products"),K=localStorage.getItem("haccp-departments"),Se=localStorage.getItem("haccp-product-labels"),L=localStorage.getItem("haccp-users");if(oe&&r(JSON.parse(oe)),ce&&a(JSON.parse(ce)),me&&u(JSON.parse(me)),M&&p(JSON.parse(M)),Y&&x(JSON.parse(Y)),K&&m(JSON.parse(K)),Se&&k(JSON.parse(Se)),L)A(JSON.parse(L));else{const B={id:"admin_001",name:"Admin",pin:"0000",role:"admin",department:"Amministrazione",createdAt:new Date().toISOString()};A([B]),localStorage.setItem("haccp-users",JSON.stringify([B]))}},[]),he.useEffect(()=>{localStorage.setItem("haccp-temperatures",JSON.stringify(n))},[n]),he.useEffect(()=>{localStorage.setItem("haccp-refrigerators",JSON.stringify(l))},[l]),he.useEffect(()=>{localStorage.setItem("haccp-cleaning",JSON.stringify(s))},[s]),he.useEffect(()=>{localStorage.setItem("haccp-staff",JSON.stringify(d))},[d]),he.useEffect(()=>{localStorage.setItem("haccp-products",JSON.stringify(g))},[g]),he.useEffect(()=>{localStorage.setItem("haccp-departments",JSON.stringify(w))},[w]),he.useEffect(()=>{localStorage.setItem("haccp-product-labels",JSON.stringify(_))},[_]);const ae=oe=>{y(oe),X(!1);const ce={id:Date.now(),timestamp:new Date().toISOString(),user:oe.id,userName:oe.name,type:"login",description:`Accesso di ${oe.name}`},me=JSON.parse(localStorage.getItem("haccp-actions")||"[]");me.push(ce),localStorage.setItem("haccp-actions",JSON.stringify(me))},G=()=>{if(E){const oe={id:Date.now(),timestamp:new Date().toISOString(),user:E.id,userName:E.name,type:"logout",description:`Disconnessione di ${E.name}`},ce=JSON.parse(localStorage.getItem("haccp-actions")||"[]");ce.push(oe),localStorage.setItem("haccp-actions",JSON.stringify(ce))}y(null),t("dashboard")},S=oe=>{const ce={...oe,id:`user_${Date.now()}`,createdAt:new Date().toISOString()},me=[...N,ce];A(me),localStorage.setItem("haccp-users",JSON.stringify(me));const M={id:`staff_${Date.now()}`,name:oe.name,role:oe.role==="admin"?"Amministratore":oe.role==="dipendente"?"Dipendente":oe.role==="responsabile"?"Responsabile":oe.role==="collaboratore"?"Collaboratore Occasionale":"Dipendente",department:oe.department||"Non assegnato",certification:"",notes:`Utente registrato il ${new Date().toLocaleDateString("it-IT")}`,addedDate:new Date().toLocaleDateString("it-IT"),addedTime:new Date().toLocaleString("it-IT"),isRegisteredUser:!0,userId:ce.id},Y=[...d,M];p(Y),localStorage.setItem("haccp-staff",JSON.stringify(Y))},z=()=>E&&E.role==="admin",C=(()=>{const oe=n.filter(K=>K.status==="ok").length,ce=n.filter(K=>K.status==="danger").length,me=s.filter(K=>!K.completed).length,M=new Date,Y=g.filter(K=>{const L=new Date(K.expiryDate)-M,B=Math.ceil(L/(1e3*60*60*24));return B<=7&&B>=0}).length;return{temperatureOk:oe,temperatureProblems:ce,cleaningPending:me,expiringToday:Y}})(),F=()=>{const oe={temperatures:n,cleaningTasks:s,staff:d,products:g,departments:w,productLabels:_,exportDate:new Date().toISOString()},ce=new Blob([JSON.stringify(oe,null,2)],{type:"application/json"}),me=URL.createObjectURL(ce),M=document.createElement("a");M.href=me,M.download=`haccp-data-${new Date().toISOString().split("T")[0]}.json`,M.click(),URL.revokeObjectURL(me)},J=oe=>{const ce=oe.target.files[0];if(!ce)return;const me=new FileReader;me.onload=M=>{try{const Y=JSON.parse(M.target.result);Y.temperatures&&(r(Y.temperatures),localStorage.setItem("haccp-temperatures",JSON.stringify(Y.temperatures))),Y.cleaningTasks&&(a(Y.cleaningTasks),localStorage.setItem("haccp-cleaning",JSON.stringify(Y.cleaningTasks))),Y.staff&&(p(Y.staff),localStorage.setItem("haccp-staff",JSON.stringify(Y.staff))),Y.products&&(x(Y.products),localStorage.setItem("haccp-products",JSON.stringify(Y.products))),Y.departments&&(m(Y.departments),localStorage.setItem("haccp-departments",JSON.stringify(Y.departments))),Y.productLabels&&(k(Y.productLabels),localStorage.setItem("haccp-product-labels",JSON.stringify(Y.productLabels))),alert("Dati importati con successo!")}catch(Y){alert("Errore durante l'importazione del file"),console.error("Import error:",Y)}},me.readAsText(ce)};return E?i.jsx("div",{className:"min-h-screen bg-gray-50",children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Business HACCP Manager"}),i.jsxs("p",{className:"text-gray-600",children:["Benvenuto, ",i.jsxs("span",{className:"font-['Dancing_Script'] font-semibold text-2xl text-purple-600",children:[E.name," - ",E.role==="admin"?"Admin":"Dipendente"]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ye,{onClick:F,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Ba,{className:"h-4 w-4"}),"Esporta"]}),i.jsxs("label",{className:"cursor-pointer",children:[i.jsx(ye,{variant:"outline",size:"sm",className:"flex items-center gap-2",asChild:!0,children:i.jsxs("span",{children:[i.jsx(Gm,{className:"h-4 w-4"}),"Importa"]})}),i.jsx("input",{type:"file",accept:".json",onChange:J,className:"hidden"})]})]})]}),i.jsxs(q4,{value:e,onValueChange:t,children:[i.jsxs(Zg,{className:`grid w-full ${z()?"grid-cols-3 md:grid-cols-8":"grid-cols-3 md:grid-cols-7"} gap-1 mb-8`,children:[i.jsxs(Os,{value:"dashboard",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[i.jsx(qm,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),i.jsxs(Os,{value:"refrigerators",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[i.jsx(zr,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Frigoriferi e Freezer"})]}),i.jsxs(Os,{value:"cleaning",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[i.jsx(Zp,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Attivit e Mansioni"})]}),i.jsxs(Os,{value:"inventory",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[i.jsx(wr,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Inventario"})]}),i.jsxs(Os,{value:"labels",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[i.jsx(Gl,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Etichette"})]}),i.jsxs(Os,{value:"ai-assistant",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[i.jsx(Gs,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"IA Assistant"})]}),z()&&i.jsxs(Os,{value:"staff",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[i.jsx(La,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Gestione"})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[z()&&i.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>t("staff"),className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm h-9 px-3",children:[i.jsx(Ti,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Impostazioni"})]}),i.jsxs(ye,{variant:"outline",size:"sm",onClick:G,className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm h-9 px-3",children:[i.jsx(by,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Esci"})]})]})]}),i.jsx(Rs,{value:"dashboard",children:i.jsx(Ay,{temperatures:n,cleaning:s,staff:d,products:g,currentUser:E,setActiveTab:t})}),i.jsx(Rs,{value:"refrigerators",children:i.jsx(Iy,{temperatures:n,setTemperatures:r,currentUser:E,refrigerators:l,setRefrigerators:u})}),i.jsx(Rs,{value:"cleaning",children:i.jsx(_y,{cleaning:s,setCleaning:a,temperatures:n,setTemperatures:r,currentUser:E,refrigerators:l,setRefrigerators:u})}),i.jsx(Rs,{value:"inventory",children:i.jsx(F4,{products:g,setProducts:x,currentUser:E,refrigerators:l})}),i.jsx(Rs,{value:"labels",children:i.jsx(E4,{productLabels:_,setProductLabels:k,products:g,currentUser:E})}),i.jsx(Rs,{value:"ai-assistant",children:i.jsx(z4,{currentUser:E,products:g,temperatures:n,cleaning:s,staff:d,onAction:oe=>{console.log("AI Action:",oe)}})}),z()&&i.jsx(Rs,{value:"staff",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx(Fy,{staff:d,setStaff:p,users:N,setUsers:A,currentUser:E,cleaning:s,setCleaning:a}),i.jsx(M4,{temperatures:n,cleaning:s,products:g,refrigerators:l,setTemperatures:r,setCleaning:a,setProducts:x,setRefrigerators:u})]})})]}),i.jsx(B4,{activeTab:e,temperatures:n}),E&&i.jsx(D4,{currentUser:E,currentSection:e,products:g,temperatures:n,cleaning:s,staff:d,onAction:oe=>{console.log("AI Action:",oe)}}),E&&i.jsx(T4,{products:g,onRecipeSuggestion:oe=>{console.log("Recipe suggestions:",oe)}}),i.jsx(O4,{})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Business HACCP Manager"}),i.jsx("p",{className:"text-gray-600",children:"Sistema di Gestione HACCP per Ristoranti"})]}),i.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:i.jsxs(Ye,{children:[i.jsx(kt,{children:i.jsxs(Lt,{className:"flex items-center gap-2",children:[i.jsx(qm,{className:"h-5 w-5"}),"Report Giornalieri - ",new Date().toLocaleDateString("it-IT")]})}),i.jsx(Ze,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:C.temperatureOk}),i.jsx("div",{className:"text-sm text-green-700",children:"Temperature OK"})]}),i.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:C.temperatureProblems}),i.jsx("div",{className:"text-sm text-red-700",children:"Problemi Temp."})]}),i.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:C.cleaningPending}),i.jsx("div",{className:"text-sm text-yellow-700",children:"Pulizie Pending"})]}),i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:C.expiringToday}),i.jsx("div",{className:"text-sm text-blue-700",children:"Scadenze Prodotti"})]})]})})]})}),i.jsx("div",{className:"max-w-md mx-auto mb-4",children:i.jsx(Ye,{children:i.jsx(Ze,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-2 justify-center",children:[i.jsxs(ye,{onClick:F,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Ba,{className:"h-4 w-4"}),"Esporta"]}),i.jsxs("label",{className:"cursor-pointer",children:[i.jsx(ye,{variant:"outline",size:"sm",className:"flex items-center gap-2",asChild:!0,children:i.jsxs("span",{children:[i.jsx(Gm,{className:"h-4 w-4"}),"Importa"]})}),i.jsx("input",{type:"file",accept:".json",onChange:J,className:"hidden"})]})]})})})}),i.jsxs("div",{className:"max-w-md mx-auto",children:[N.length>1&&i.jsx(Ye,{className:"mb-4",children:i.jsx(Ze,{className:"pt-6",children:i.jsxs("div",{className:"text-center text-gray-600",children:[i.jsx("div",{className:"text-sm",children:"Ultimo accesso:"}),i.jsx("div",{className:"font-semibold",children:(Q=N[N.length-1])==null?void 0:Q.name})]})})}),i.jsx("div",{className:"text-center",children:i.jsxs(ye,{size:"lg",className:"text-lg px-8 py-4",onClick:()=>X(!0),children:[i.jsx(Ny,{className:"mr-2 h-5 w-5"})," INIZIA TURNO"]})})]})]}),i.jsx(R4,{isOpen:U,onClose:()=>X(!1),onLogin:ae,users:N,onAddUser:S})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e),e.addEventListener("updatefound",()=>{const t=e.installing;t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&confirm("Nuova versione disponibile. Ricaricare la pagina?")&&window.location.reload()})})}).catch(e=>{console.log("SW registration failed: ",e)})});Kh.createRoot(document.getElementById("root")).render(i.jsx(Eo.StrictMode,{children:i.jsx(U4,{})}));export{$t as _,$4 as c,M5 as g};
