(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var lN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var b1={exports:{}},Cd={},j1={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lc=Symbol.for("react.element"),Gx=Symbol.for("react.portal"),Wx=Symbol.for("react.fragment"),Jx=Symbol.for("react.strict_mode"),Xx=Symbol.for("react.profiler"),Yx=Symbol.for("react.provider"),Kx=Symbol.for("react.context"),Qx=Symbol.for("react.forward_ref"),Zx=Symbol.for("react.suspense"),e5=Symbol.for("react.memo"),t5=Symbol.for("react.lazy"),Em=Symbol.iterator;function n5(e){return e===null||typeof e!="object"?null:(e=Em&&e[Em]||e["@@iterator"],typeof e=="function"?e:null)}var S1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C1=Object.assign,k1={};function tl(e,t,n){this.props=e,this.context=t,this.refs=k1,this.updater=n||S1}tl.prototype.isReactComponent={};tl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function L1(){}L1.prototype=tl.prototype;function op(e,t,n){this.props=e,this.context=t,this.refs=k1,this.updater=n||S1}var lp=op.prototype=new L1;lp.constructor=op;C1(lp,tl.prototype);lp.isPureReactComponent=!0;var Fm=Array.isArray,A1=Object.prototype.hasOwnProperty,cp={current:null},_1={key:!0,ref:!0,__self:!0,__source:!0};function P1(e,t,n){var i,a={},s=null,l=null;if(t!=null)for(i in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)A1.call(t,i)&&!_1.hasOwnProperty(i)&&(a[i]=t[i]);var c=arguments.length-2;if(c===1)a.children=n;else if(1<c){for(var d=Array(c),p=0;p<c;p++)d[p]=arguments[p+2];a.children=d}if(e&&e.defaultProps)for(i in c=e.defaultProps,c)a[i]===void 0&&(a[i]=c[i]);return{$$typeof:Lc,type:e,key:s,ref:l,props:a,_owner:cp.current}}function r5(e,t){return{$$typeof:Lc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function up(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lc}function i5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Om=/\/+/g;function yh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?i5(""+e.key):t.toString(36)}function Eu(e,t,n,i,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Lc:case Gx:l=!0}}if(l)return l=e,a=a(l),e=i===""?"."+yh(l,0):i,Fm(a)?(n="",e!=null&&(n=e.replace(Om,"$&/")+"/"),Eu(a,t,n,"",function(p){return p})):a!=null&&(up(a)&&(a=r5(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Om,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=i===""?".":i+":",Fm(e))for(var c=0;c<e.length;c++){s=e[c];var d=i+yh(s,c);l+=Eu(s,t,n,d,a)}else if(d=n5(e),typeof d=="function")for(e=d.call(e),c=0;!(s=e.next()).done;)s=s.value,d=i+yh(s,c++),l+=Eu(s,t,n,d,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function hu(e,t,n){if(e==null)return e;var i=[],a=0;return Eu(e,i,"","",function(s){return t.call(n,s,a++)}),i}function a5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yr={current:null},Fu={transition:null},s5={ReactCurrentDispatcher:yr,ReactCurrentBatchConfig:Fu,ReactCurrentOwner:cp};function I1(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:hu,forEach:function(e,t,n){hu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return hu(e,function(){t++}),t},toArray:function(e){return hu(e,function(t){return t})||[]},only:function(e){if(!up(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_t.Component=tl;_t.Fragment=Wx;_t.Profiler=Xx;_t.PureComponent=op;_t.StrictMode=Jx;_t.Suspense=Zx;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s5;_t.act=I1;_t.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=C1({},e.props),a=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=cp.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)A1.call(t,d)&&!_1.hasOwnProperty(d)&&(i[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){c=Array(d);for(var p=0;p<d;p++)c[p]=arguments[p+2];i.children=c}return{$$typeof:Lc,type:e.type,key:a,ref:s,props:i,_owner:l}};_t.createContext=function(e){return e={$$typeof:Kx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Yx,_context:e},e.Consumer=e};_t.createElement=P1;_t.createFactory=function(e){var t=P1.bind(null,e);return t.type=e,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(e){return{$$typeof:Qx,render:e}};_t.isValidElement=up;_t.lazy=function(e){return{$$typeof:t5,_payload:{_status:-1,_result:e},_init:a5}};_t.memo=function(e,t){return{$$typeof:e5,type:e,compare:t===void 0?null:t}};_t.startTransition=function(e){var t=Fu.transition;Fu.transition={};try{e()}finally{Fu.transition=t}};_t.unstable_act=I1;_t.useCallback=function(e,t){return yr.current.useCallback(e,t)};_t.useContext=function(e){return yr.current.useContext(e)};_t.useDebugValue=function(){};_t.useDeferredValue=function(e){return yr.current.useDeferredValue(e)};_t.useEffect=function(e,t){return yr.current.useEffect(e,t)};_t.useId=function(){return yr.current.useId()};_t.useImperativeHandle=function(e,t,n){return yr.current.useImperativeHandle(e,t,n)};_t.useInsertionEffect=function(e,t){return yr.current.useInsertionEffect(e,t)};_t.useLayoutEffect=function(e,t){return yr.current.useLayoutEffect(e,t)};_t.useMemo=function(e,t){return yr.current.useMemo(e,t)};_t.useReducer=function(e,t,n){return yr.current.useReducer(e,t,n)};_t.useRef=function(e){return yr.current.useRef(e)};_t.useState=function(e){return yr.current.useState(e)};_t.useSyncExternalStore=function(e,t,n){return yr.current.useSyncExternalStore(e,t,n)};_t.useTransition=function(){return yr.current.useTransition()};_t.version="18.3.1";j1.exports=_t;var se=j1.exports;const Fo=Hx(se);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o5=se,l5=Symbol.for("react.element"),c5=Symbol.for("react.fragment"),u5=Object.prototype.hasOwnProperty,d5=o5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h5={key:!0,ref:!0,__self:!0,__source:!0};function T1(e,t,n){var i,a={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(i in t)u5.call(t,i)&&!h5.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)a[i]===void 0&&(a[i]=t[i]);return{$$typeof:l5,type:e,key:s,ref:l,props:a,_owner:d5.current}}Cd.Fragment=c5;Cd.jsx=T1;Cd.jsxs=T1;b1.exports=Cd;var r=b1.exports,ef={},D1={exports:{}},Yr={},M1={exports:{}},z1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,he){var ne=X.length;X.push(he);e:for(;0<ne;){var Le=ne-1>>>1,k=X[Le];if(0<a(k,he))X[Le]=he,X[ne]=k,ne=Le;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var he=X[0],ne=X.pop();if(ne!==he){X[0]=ne;e:for(var Le=0,k=X.length,q=k>>>1;Le<q;){var G=2*(Le+1)-1,Y=X[G],Z=G+1,K=X[Z];if(0>a(Y,ne))Z<k&&0>a(K,Y)?(X[Le]=K,X[Z]=ne,Le=Z):(X[Le]=Y,X[G]=ne,Le=G);else if(Z<k&&0>a(K,ne))X[Le]=K,X[Z]=ne,Le=Z;else break e}}return he}function a(X,he){var ne=X.sortIndex-he.sortIndex;return ne!==0?ne:X.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],p=[],x=1,m=null,y=3,g=!1,_=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(X){for(var he=n(p);he!==null;){if(he.callback===null)i(p);else if(he.startTime<=X)i(p),he.sortIndex=he.expirationTime,t(d,he);else break;he=n(p)}}function J(X){if(b=!1,L(X),!_)if(n(d)!==null)_=!0,ue(ee);else{var he=n(p);he!==null&&ye(J,he.startTime-X)}}function ee(X,he){_=!1,b&&(b=!1,N(R),R=-1),g=!0;var ne=y;try{for(L(he),m=n(d);m!==null&&(!(m.expirationTime>he)||X&&!D());){var Le=m.callback;if(typeof Le=="function"){m.callback=null,y=m.priorityLevel;var k=Le(m.expirationTime<=he);he=e.unstable_now(),typeof k=="function"?m.callback=k:m===n(d)&&i(d),L(he)}else i(d);m=n(d)}if(m!==null)var q=!0;else{var G=n(p);G!==null&&ye(J,G.startTime-he),q=!1}return q}finally{m=null,y=ne,g=!1}}var fe=!1,H=null,R=-1,te=5,oe=-1;function D(){return!(e.unstable_now()-oe<te)}function z(){if(H!==null){var X=e.unstable_now();oe=X;var he=!0;try{he=H(!0,X)}finally{he?E():(fe=!1,H=null)}}else fe=!1}var E;if(typeof w=="function")E=function(){w(z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,re=$.port2;$.port1.onmessage=z,E=function(){re.postMessage(null)}}else E=function(){A(z,0)};function ue(X){H=X,fe||(fe=!0,E())}function ye(X,he){R=A(function(){X(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){_||g||(_=!0,ue(ee))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(X){switch(y){case 1:case 2:case 3:var he=3;break;default:he=y}var ne=y;y=he;try{return X()}finally{y=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,he){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ne=y;y=X;try{return he()}finally{y=ne}},e.unstable_scheduleCallback=function(X,he,ne){var Le=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Le+ne:Le):ne=Le,X){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ne+k,X={id:x++,callback:he,priorityLevel:X,startTime:ne,expirationTime:k,sortIndex:-1},ne>Le?(X.sortIndex=ne,t(p,X),n(d)===null&&X===n(p)&&(b?(N(R),R=-1):b=!0,ye(J,ne-Le))):(X.sortIndex=k,t(d,X),_||g||(_=!0,ue(ee))),X},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(X){var he=y;return function(){var ne=y;y=he;try{return X.apply(this,arguments)}finally{y=ne}}}})(z1);M1.exports=z1;var f5=M1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p5=se,Xr=f5;function Be(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E1=new Set,lc={};function Us(e,t){Jo(e,t),Jo(e+"Capture",t)}function Jo(e,t){for(lc[e]=t,e=0;e<t.length;e++)E1.add(t[e])}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tf=Object.prototype.hasOwnProperty,m5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rm={},Bm={};function g5(e){return tf.call(Bm,e)?!0:tf.call(Rm,e)?!1:m5.test(e)?Bm[e]=!0:(Rm[e]=!0,!1)}function x5(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function v5(e,t,n,i){if(t===null||typeof t>"u"||x5(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nr(e,t,n,i,a,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var Qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qn[e]=new Nr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qn[t]=new Nr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qn[e]=new Nr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qn[e]=new Nr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qn[e]=new Nr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qn[e]=new Nr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qn[e]=new Nr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qn[e]=new Nr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qn[e]=new Nr(e,5,!1,e.toLowerCase(),null,!1,!1)});var dp=/[\-:]([a-z])/g;function hp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dp,hp);Qn[t]=new Nr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dp,hp);Qn[t]=new Nr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dp,hp);Qn[t]=new Nr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qn[e]=new Nr(e,1,!1,e.toLowerCase(),null,!1,!1)});Qn.xlinkHref=new Nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qn[e]=new Nr(e,1,!1,e.toLowerCase(),null,!0,!0)});function fp(e,t,n,i){var a=Qn.hasOwnProperty(t)?Qn[t]:null;(a!==null?a.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(v5(t,n,a,i)&&(n=null),i||a===null?g5(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,i=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var va=p5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fu=Symbol.for("react.element"),jo=Symbol.for("react.portal"),So=Symbol.for("react.fragment"),pp=Symbol.for("react.strict_mode"),nf=Symbol.for("react.profiler"),F1=Symbol.for("react.provider"),O1=Symbol.for("react.context"),mp=Symbol.for("react.forward_ref"),rf=Symbol.for("react.suspense"),af=Symbol.for("react.suspense_list"),gp=Symbol.for("react.memo"),Ua=Symbol.for("react.lazy"),R1=Symbol.for("react.offscreen"),qm=Symbol.iterator;function Ml(e){return e===null||typeof e!="object"?null:(e=qm&&e[qm]||e["@@iterator"],typeof e=="function"?e:null)}var mn=Object.assign,Nh;function Hl(e){if(Nh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nh=t&&t[1]||""}return`
`+Nh+e}var wh=!1;function bh(e,t){if(!e||wh)return"";wh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var i=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){i=p}e.call(t.prototype)}else{try{throw Error()}catch(p){i=p}e()}}catch(p){if(p&&i&&typeof p.stack=="string"){for(var a=p.stack.split(`
`),s=i.stack.split(`
`),l=a.length-1,c=s.length-1;1<=l&&0<=c&&a[l]!==s[c];)c--;for(;1<=l&&0<=c;l--,c--)if(a[l]!==s[c]){if(l!==1||c!==1)do if(l--,c--,0>c||a[l]!==s[c]){var d=`
`+a[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=c);break}}}finally{wh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Hl(e):""}function y5(e){switch(e.tag){case 5:return Hl(e.type);case 16:return Hl("Lazy");case 13:return Hl("Suspense");case 19:return Hl("SuspenseList");case 0:case 2:case 15:return e=bh(e.type,!1),e;case 11:return e=bh(e.type.render,!1),e;case 1:return e=bh(e.type,!0),e;default:return""}}function sf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case So:return"Fragment";case jo:return"Portal";case nf:return"Profiler";case pp:return"StrictMode";case rf:return"Suspense";case af:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O1:return(e.displayName||"Context")+".Consumer";case F1:return(e._context.displayName||"Context")+".Provider";case mp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gp:return t=e.displayName||null,t!==null?t:sf(e.type)||"Memo";case Ua:t=e._payload,e=e._init;try{return sf(e(t))}catch{}}return null}function N5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sf(t);case 8:return t===pp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ss(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function B1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w5(e){var t=B1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){i=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pu(e){e._valueTracker||(e._valueTracker=w5(e))}function q1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=B1(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Qu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function of(e,t){var n=t.checked;return mn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $m(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=ss(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $1(e,t){t=t.checked,t!=null&&fp(e,"checked",t,!1)}function lf(e,t){$1(e,t);var n=ss(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cf(e,t.type,n):t.hasOwnProperty("defaultValue")&&cf(e,t.type,ss(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Um(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cf(e,t,n){(t!=="number"||Qu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gl=Array.isArray;function Oo(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ss(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function uf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Be(91));return mn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Be(92));if(Gl(n)){if(1<n.length)throw Error(Be(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ss(n)}}function U1(e,t){var n=ss(t.value),i=ss(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Hm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function V1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function df(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?V1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mu,H1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(mu=mu||document.createElement("div"),mu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b5=["Webkit","ms","Moz","O"];Object.keys(Kl).forEach(function(e){b5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kl[t]=Kl[e]})});function G1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kl.hasOwnProperty(e)&&Kl[e]?(""+t).trim():t+"px"}function W1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,a=G1(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,a):e[n]=a}}var j5=mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hf(e,t){if(t){if(j5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Be(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Be(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Be(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Be(62))}}function ff(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pf=null;function xp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mf=null,Ro=null,Bo=null;function Gm(e){if(e=Pc(e)){if(typeof mf!="function")throw Error(Be(280));var t=e.stateNode;t&&(t=Pd(t),mf(e.stateNode,e.type,t))}}function J1(e){Ro?Bo?Bo.push(e):Bo=[e]:Ro=e}function X1(){if(Ro){var e=Ro,t=Bo;if(Bo=Ro=null,Gm(e),t)for(e=0;e<t.length;e++)Gm(t[e])}}function Y1(e,t){return e(t)}function K1(){}var jh=!1;function Q1(e,t,n){if(jh)return e(t,n);jh=!0;try{return Y1(e,t,n)}finally{jh=!1,(Ro!==null||Bo!==null)&&(K1(),X1())}}function uc(e,t){var n=e.stateNode;if(n===null)return null;var i=Pd(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Be(231,t,typeof n));return n}var gf=!1;if(pa)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){gf=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{gf=!1}function S5(e,t,n,i,a,s,l,c,d){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(x){this.onError(x)}}var Ql=!1,Zu=null,ed=!1,xf=null,C5={onError:function(e){Ql=!0,Zu=e}};function k5(e,t,n,i,a,s,l,c,d){Ql=!1,Zu=null,S5.apply(C5,arguments)}function L5(e,t,n,i,a,s,l,c,d){if(k5.apply(this,arguments),Ql){if(Ql){var p=Zu;Ql=!1,Zu=null}else throw Error(Be(198));ed||(ed=!0,xf=p)}}function Vs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Z1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wm(e){if(Vs(e)!==e)throw Error(Be(188))}function A5(e){var t=e.alternate;if(!t){if(t=Vs(e),t===null)throw Error(Be(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Wm(a),e;if(s===i)return Wm(a),t;s=s.sibling}throw Error(Be(188))}if(n.return!==i.return)n=a,i=s;else{for(var l=!1,c=a.child;c;){if(c===n){l=!0,n=a,i=s;break}if(c===i){l=!0,i=a,n=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===n){l=!0,n=s,i=a;break}if(c===i){l=!0,i=s,n=a;break}c=c.sibling}if(!l)throw Error(Be(189))}}if(n.alternate!==i)throw Error(Be(190))}if(n.tag!==3)throw Error(Be(188));return n.stateNode.current===n?e:t}function eg(e){return e=A5(e),e!==null?tg(e):null}function tg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tg(e);if(t!==null)return t;e=e.sibling}return null}var ng=Xr.unstable_scheduleCallback,Jm=Xr.unstable_cancelCallback,_5=Xr.unstable_shouldYield,P5=Xr.unstable_requestPaint,jn=Xr.unstable_now,I5=Xr.unstable_getCurrentPriorityLevel,vp=Xr.unstable_ImmediatePriority,rg=Xr.unstable_UserBlockingPriority,td=Xr.unstable_NormalPriority,T5=Xr.unstable_LowPriority,ig=Xr.unstable_IdlePriority,kd=null,$i=null;function D5(e){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(kd,e,void 0,(e.current.flags&128)===128)}catch{}}var Ci=Math.clz32?Math.clz32:E5,M5=Math.log,z5=Math.LN2;function E5(e){return e>>>=0,e===0?32:31-(M5(e)/z5|0)|0}var gu=64,xu=4194304;function Wl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nd(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~a;c!==0?i=Wl(c):(s&=l,s!==0&&(i=Wl(s)))}else l=n&~a,l!==0?i=Wl(l):s!==0&&(i=Wl(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&a)&&(a=i&-i,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Ci(t),a=1<<n,i|=e[n],t&=~a;return i}function F5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O5(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Ci(s),c=1<<l,d=a[l];d===-1?(!(c&n)||c&i)&&(a[l]=F5(c,t)):d<=t&&(e.expiredLanes|=c),s&=~c}}function vf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ag(){var e=gu;return gu<<=1,!(gu&4194240)&&(gu=64),e}function Sh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ac(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ci(t),e[t]=n}function R5(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Ci(n),s=1<<a;t[a]=0,i[a]=-1,e[a]=-1,n&=~s}}function yp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ci(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}var Jt=0;function sg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var og,Np,lg,cg,ug,yf=!1,vu=[],Qa=null,Za=null,es=null,dc=new Map,hc=new Map,Ha=[],B5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xm(e,t){switch(e){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":dc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(t.pointerId)}}function El(e,t,n,i,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Pc(t),t!==null&&Np(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function q5(e,t,n,i,a){switch(t){case"focusin":return Qa=El(Qa,e,t,n,i,a),!0;case"dragenter":return Za=El(Za,e,t,n,i,a),!0;case"mouseover":return es=El(es,e,t,n,i,a),!0;case"pointerover":var s=a.pointerId;return dc.set(s,El(dc.get(s)||null,e,t,n,i,a)),!0;case"gotpointercapture":return s=a.pointerId,hc.set(s,El(hc.get(s)||null,e,t,n,i,a)),!0}return!1}function dg(e){var t=Is(e.target);if(t!==null){var n=Vs(t);if(n!==null){if(t=n.tag,t===13){if(t=Z1(n),t!==null){e.blockedOn=t,ug(e.priority,function(){lg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ou(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);pf=i,n.target.dispatchEvent(i),pf=null}else return t=Pc(n),t!==null&&Np(t),e.blockedOn=n,!1;t.shift()}return!0}function Ym(e,t,n){Ou(e)&&n.delete(t)}function $5(){yf=!1,Qa!==null&&Ou(Qa)&&(Qa=null),Za!==null&&Ou(Za)&&(Za=null),es!==null&&Ou(es)&&(es=null),dc.forEach(Ym),hc.forEach(Ym)}function Fl(e,t){e.blockedOn===t&&(e.blockedOn=null,yf||(yf=!0,Xr.unstable_scheduleCallback(Xr.unstable_NormalPriority,$5)))}function fc(e){function t(a){return Fl(a,e)}if(0<vu.length){Fl(vu[0],e);for(var n=1;n<vu.length;n++){var i=vu[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Qa!==null&&Fl(Qa,e),Za!==null&&Fl(Za,e),es!==null&&Fl(es,e),dc.forEach(t),hc.forEach(t),n=0;n<Ha.length;n++)i=Ha[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Ha.length&&(n=Ha[0],n.blockedOn===null);)dg(n),n.blockedOn===null&&Ha.shift()}var qo=va.ReactCurrentBatchConfig,rd=!0;function U5(e,t,n,i){var a=Jt,s=qo.transition;qo.transition=null;try{Jt=1,wp(e,t,n,i)}finally{Jt=a,qo.transition=s}}function V5(e,t,n,i){var a=Jt,s=qo.transition;qo.transition=null;try{Jt=4,wp(e,t,n,i)}finally{Jt=a,qo.transition=s}}function wp(e,t,n,i){if(rd){var a=Nf(e,t,n,i);if(a===null)Mh(e,t,i,id,n),Xm(e,i);else if(q5(a,e,t,n,i))i.stopPropagation();else if(Xm(e,i),t&4&&-1<B5.indexOf(e)){for(;a!==null;){var s=Pc(a);if(s!==null&&og(s),s=Nf(e,t,n,i),s===null&&Mh(e,t,i,id,n),s===a)break;a=s}a!==null&&i.stopPropagation()}else Mh(e,t,i,null,n)}}var id=null;function Nf(e,t,n,i){if(id=null,e=xp(i),e=Is(e),e!==null)if(t=Vs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Z1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return id=e,null}function hg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I5()){case vp:return 1;case rg:return 4;case td:case T5:return 16;case ig:return 536870912;default:return 16}default:return 16}}var Ja=null,bp=null,Ru=null;function fg(){if(Ru)return Ru;var e,t=bp,n=t.length,i,a="value"in Ja?Ja.value:Ja.textContent,s=a.length;for(e=0;e<n&&t[e]===a[e];e++);var l=n-e;for(i=1;i<=l&&t[n-i]===a[s-i];i++);return Ru=a.slice(e,1<i?1-i:void 0)}function Bu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yu(){return!0}function Km(){return!1}function Kr(e){function t(n,i,a,s,l){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yu:Km,this.isPropagationStopped=Km,this}return mn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yu)},persist:function(){},isPersistent:yu}),t}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jp=Kr(nl),_c=mn({},nl,{view:0,detail:0}),H5=Kr(_c),Ch,kh,Ol,Ld=mn({},_c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ol&&(Ol&&e.type==="mousemove"?(Ch=e.screenX-Ol.screenX,kh=e.screenY-Ol.screenY):kh=Ch=0,Ol=e),Ch)},movementY:function(e){return"movementY"in e?e.movementY:kh}}),Qm=Kr(Ld),G5=mn({},Ld,{dataTransfer:0}),W5=Kr(G5),J5=mn({},_c,{relatedTarget:0}),Lh=Kr(J5),X5=mn({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),Y5=Kr(X5),K5=mn({},nl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Q5=Kr(K5),Z5=mn({},nl,{data:0}),Zm=Kr(Z5),ev={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nv[e])?!!t[e]:!1}function Sp(){return rv}var iv=mn({},_c,{key:function(e){if(e.key){var t=ev[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sp,charCode:function(e){return e.type==="keypress"?Bu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),av=Kr(iv),sv=mn({},Ld,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e0=Kr(sv),ov=mn({},_c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sp}),lv=Kr(ov),cv=mn({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),uv=Kr(cv),dv=mn({},Ld,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hv=Kr(dv),fv=[9,13,27,32],Cp=pa&&"CompositionEvent"in window,Zl=null;pa&&"documentMode"in document&&(Zl=document.documentMode);var pv=pa&&"TextEvent"in window&&!Zl,pg=pa&&(!Cp||Zl&&8<Zl&&11>=Zl),t0=String.fromCharCode(32),n0=!1;function mg(e,t){switch(e){case"keyup":return fv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Co=!1;function mv(e,t){switch(e){case"compositionend":return gg(t);case"keypress":return t.which!==32?null:(n0=!0,t0);case"textInput":return e=t.data,e===t0&&n0?null:e;default:return null}}function gv(e,t){if(Co)return e==="compositionend"||!Cp&&mg(e,t)?(e=fg(),Ru=bp=Ja=null,Co=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pg&&t.locale!=="ko"?null:t.data;default:return null}}var xv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xv[e.type]:t==="textarea"}function xg(e,t,n,i){J1(i),t=ad(t,"onChange"),0<t.length&&(n=new jp("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ec=null,pc=null;function vv(e){Ag(e,0)}function Ad(e){var t=Ao(e);if(q1(t))return e}function yv(e,t){if(e==="change")return t}var vg=!1;if(pa){var Ah;if(pa){var _h="oninput"in document;if(!_h){var i0=document.createElement("div");i0.setAttribute("oninput","return;"),_h=typeof i0.oninput=="function"}Ah=_h}else Ah=!1;vg=Ah&&(!document.documentMode||9<document.documentMode)}function a0(){ec&&(ec.detachEvent("onpropertychange",yg),pc=ec=null)}function yg(e){if(e.propertyName==="value"&&Ad(pc)){var t=[];xg(t,pc,e,xp(e)),Q1(vv,t)}}function Nv(e,t,n){e==="focusin"?(a0(),ec=t,pc=n,ec.attachEvent("onpropertychange",yg)):e==="focusout"&&a0()}function wv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ad(pc)}function bv(e,t){if(e==="click")return Ad(t)}function jv(e,t){if(e==="input"||e==="change")return Ad(t)}function Sv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Li=typeof Object.is=="function"?Object.is:Sv;function mc(e,t){if(Li(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!tf.call(t,a)||!Li(e[a],t[a]))return!1}return!0}function s0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o0(e,t){var n=s0(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s0(n)}}function Ng(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ng(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wg(){for(var e=window,t=Qu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qu(e.document)}return t}function kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Cv(e){var t=wg(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ng(n.ownerDocument.documentElement,n)){if(i!==null&&kp(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(i.start,a);i=i.end===void 0?s:Math.min(i.end,a),!e.extend&&s>i&&(a=i,i=s,s=a),a=o0(n,s);var l=o0(n,i);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kv=pa&&"documentMode"in document&&11>=document.documentMode,ko=null,wf=null,tc=null,bf=!1;function l0(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bf||ko==null||ko!==Qu(i)||(i=ko,"selectionStart"in i&&kp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),tc&&mc(tc,i)||(tc=i,i=ad(wf,"onSelect"),0<i.length&&(t=new jp("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ko)))}function Nu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lo={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},Ph={},bg={};pa&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function _d(e){if(Ph[e])return Ph[e];if(!Lo[e])return e;var t=Lo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bg)return Ph[e]=t[n];return e}var jg=_d("animationend"),Sg=_d("animationiteration"),Cg=_d("animationstart"),kg=_d("transitionend"),Lg=new Map,c0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(e,t){Lg.set(e,t),Us(t,[e])}for(var Ih=0;Ih<c0.length;Ih++){var Th=c0[Ih],Lv=Th.toLowerCase(),Av=Th[0].toUpperCase()+Th.slice(1);us(Lv,"on"+Av)}us(jg,"onAnimationEnd");us(Sg,"onAnimationIteration");us(Cg,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(kg,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Us("onBeforeInput",["compositionend","keypress","textInput","paste"]);Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_v=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jl));function u0(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,L5(i,t,void 0,e),e.currentTarget=null}function Ag(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var l=i.length-1;0<=l;l--){var c=i[l],d=c.instance,p=c.currentTarget;if(c=c.listener,d!==s&&a.isPropagationStopped())break e;u0(a,c,p),s=d}else for(l=0;l<i.length;l++){if(c=i[l],d=c.instance,p=c.currentTarget,c=c.listener,d!==s&&a.isPropagationStopped())break e;u0(a,c,p),s=d}}}if(ed)throw e=xf,ed=!1,xf=null,e}function sn(e,t){var n=t[Lf];n===void 0&&(n=t[Lf]=new Set);var i=e+"__bubble";n.has(i)||(_g(t,e,2,!1),n.add(i))}function Dh(e,t,n){var i=0;t&&(i|=4),_g(n,e,i,t)}var wu="_reactListening"+Math.random().toString(36).slice(2);function gc(e){if(!e[wu]){e[wu]=!0,E1.forEach(function(n){n!=="selectionchange"&&(_v.has(n)||Dh(n,!1,e),Dh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wu]||(t[wu]=!0,Dh("selectionchange",!1,t))}}function _g(e,t,n,i){switch(hg(t)){case 1:var a=U5;break;case 4:a=V5;break;default:a=wp}n=a.bind(null,t,n,e),a=void 0,!gf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Mh(e,t,n,i,a){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var c=i.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(l===4)for(l=i.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;l=l.return}for(;c!==null;){if(l=Is(c),l===null)return;if(d=l.tag,d===5||d===6){i=s=l;continue e}c=c.parentNode}}i=i.return}Q1(function(){var p=s,x=xp(n),m=[];e:{var y=Lg.get(e);if(y!==void 0){var g=jp,_=e;switch(e){case"keypress":if(Bu(n)===0)break e;case"keydown":case"keyup":g=av;break;case"focusin":_="focus",g=Lh;break;case"focusout":_="blur",g=Lh;break;case"beforeblur":case"afterblur":g=Lh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Qm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=W5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=lv;break;case jg:case Sg:case Cg:g=Y5;break;case kg:g=uv;break;case"scroll":g=H5;break;case"wheel":g=hv;break;case"copy":case"cut":case"paste":g=Q5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=e0}var b=(t&4)!==0,A=!b&&e==="scroll",N=b?y!==null?y+"Capture":null:y;b=[];for(var w=p,L;w!==null;){L=w;var J=L.stateNode;if(L.tag===5&&J!==null&&(L=J,N!==null&&(J=uc(w,N),J!=null&&b.push(xc(w,J,L)))),A)break;w=w.return}0<b.length&&(y=new g(y,_,null,n,x),m.push({event:y,listeners:b}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",y&&n!==pf&&(_=n.relatedTarget||n.fromElement)&&(Is(_)||_[ma]))break e;if((g||y)&&(y=x.window===x?x:(y=x.ownerDocument)?y.defaultView||y.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=p,_=_?Is(_):null,_!==null&&(A=Vs(_),_!==A||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=p),g!==_)){if(b=Qm,J="onMouseLeave",N="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(b=e0,J="onPointerLeave",N="onPointerEnter",w="pointer"),A=g==null?y:Ao(g),L=_==null?y:Ao(_),y=new b(J,w+"leave",g,n,x),y.target=A,y.relatedTarget=L,J=null,Is(x)===p&&(b=new b(N,w+"enter",_,n,x),b.target=L,b.relatedTarget=A,J=b),A=J,g&&_)t:{for(b=g,N=_,w=0,L=b;L;L=xo(L))w++;for(L=0,J=N;J;J=xo(J))L++;for(;0<w-L;)b=xo(b),w--;for(;0<L-w;)N=xo(N),L--;for(;w--;){if(b===N||N!==null&&b===N.alternate)break t;b=xo(b),N=xo(N)}b=null}else b=null;g!==null&&d0(m,y,g,b,!1),_!==null&&A!==null&&d0(m,A,_,b,!0)}}e:{if(y=p?Ao(p):window,g=y.nodeName&&y.nodeName.toLowerCase(),g==="select"||g==="input"&&y.type==="file")var ee=yv;else if(r0(y))if(vg)ee=jv;else{ee=wv;var fe=Nv}else(g=y.nodeName)&&g.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(ee=bv);if(ee&&(ee=ee(e,p))){xg(m,ee,n,x);break e}fe&&fe(e,y,p),e==="focusout"&&(fe=y._wrapperState)&&fe.controlled&&y.type==="number"&&cf(y,"number",y.value)}switch(fe=p?Ao(p):window,e){case"focusin":(r0(fe)||fe.contentEditable==="true")&&(ko=fe,wf=p,tc=null);break;case"focusout":tc=wf=ko=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,l0(m,n,x);break;case"selectionchange":if(kv)break;case"keydown":case"keyup":l0(m,n,x)}var H;if(Cp)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Co?mg(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(pg&&n.locale!=="ko"&&(Co||R!=="onCompositionStart"?R==="onCompositionEnd"&&Co&&(H=fg()):(Ja=x,bp="value"in Ja?Ja.value:Ja.textContent,Co=!0)),fe=ad(p,R),0<fe.length&&(R=new Zm(R,e,null,n,x),m.push({event:R,listeners:fe}),H?R.data=H:(H=gg(n),H!==null&&(R.data=H)))),(H=pv?mv(e,n):gv(e,n))&&(p=ad(p,"onBeforeInput"),0<p.length&&(x=new Zm("onBeforeInput","beforeinput",null,n,x),m.push({event:x,listeners:p}),x.data=H))}Ag(m,t)})}function xc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ad(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=uc(e,n),s!=null&&i.unshift(xc(e,s,a)),s=uc(e,t),s!=null&&i.push(xc(e,s,a))),e=e.return}return i}function xo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function d0(e,t,n,i,a){for(var s=t._reactName,l=[];n!==null&&n!==i;){var c=n,d=c.alternate,p=c.stateNode;if(d!==null&&d===i)break;c.tag===5&&p!==null&&(c=p,a?(d=uc(n,s),d!=null&&l.unshift(xc(n,d,c))):a||(d=uc(n,s),d!=null&&l.push(xc(n,d,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Pv=/\r\n?/g,Iv=/\u0000|\uFFFD/g;function h0(e){return(typeof e=="string"?e:""+e).replace(Pv,`
`).replace(Iv,"")}function bu(e,t,n){if(t=h0(t),h0(e)!==t&&n)throw Error(Be(425))}function sd(){}var jf=null,Sf=null;function Cf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kf=typeof setTimeout=="function"?setTimeout:void 0,Tv=typeof clearTimeout=="function"?clearTimeout:void 0,f0=typeof Promise=="function"?Promise:void 0,Dv=typeof queueMicrotask=="function"?queueMicrotask:typeof f0<"u"?function(e){return f0.resolve(null).then(e).catch(Mv)}:kf;function Mv(e){setTimeout(function(){throw e})}function zh(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(i===0){e.removeChild(a),fc(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=a}while(n);fc(t)}function ts(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function p0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rl=Math.random().toString(36).slice(2),Ri="__reactFiber$"+rl,vc="__reactProps$"+rl,ma="__reactContainer$"+rl,Lf="__reactEvents$"+rl,zv="__reactListeners$"+rl,Ev="__reactHandles$"+rl;function Is(e){var t=e[Ri];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[Ri]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=p0(e);e!==null;){if(n=e[Ri])return n;e=p0(e)}return t}e=n,n=e.parentNode}return null}function Pc(e){return e=e[Ri]||e[ma],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ao(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Be(33))}function Pd(e){return e[vc]||null}var Af=[],_o=-1;function ds(e){return{current:e}}function ln(e){0>_o||(e.current=Af[_o],Af[_o]=null,_o--)}function rn(e,t){_o++,Af[_o]=e.current,e.current=t}var os={},ur=ds(os),Ir=ds(!1),Fs=os;function Xo(e,t){var n=e.type.contextTypes;if(!n)return os;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in n)a[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Tr(e){return e=e.childContextTypes,e!=null}function od(){ln(Ir),ln(ur)}function m0(e,t,n){if(ur.current!==os)throw Error(Be(168));rn(ur,t),rn(Ir,n)}function Pg(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var a in i)if(!(a in t))throw Error(Be(108,N5(e)||"Unknown",a));return mn({},n,i)}function ld(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||os,Fs=ur.current,rn(ur,e),rn(Ir,Ir.current),!0}function g0(e,t,n){var i=e.stateNode;if(!i)throw Error(Be(169));n?(e=Pg(e,t,Fs),i.__reactInternalMemoizedMergedChildContext=e,ln(Ir),ln(ur),rn(ur,e)):ln(Ir),rn(Ir,n)}var ua=null,Id=!1,Eh=!1;function Ig(e){ua===null?ua=[e]:ua.push(e)}function Fv(e){Id=!0,Ig(e)}function hs(){if(!Eh&&ua!==null){Eh=!0;var e=0,t=Jt;try{var n=ua;for(Jt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}ua=null,Id=!1}catch(a){throw ua!==null&&(ua=ua.slice(e+1)),ng(vp,hs),a}finally{Jt=t,Eh=!1}}return null}var Po=[],Io=0,cd=null,ud=0,li=[],ci=0,Os=null,da=1,ha="";function Ls(e,t){Po[Io++]=ud,Po[Io++]=cd,cd=e,ud=t}function Tg(e,t,n){li[ci++]=da,li[ci++]=ha,li[ci++]=Os,Os=e;var i=da;e=ha;var a=32-Ci(i)-1;i&=~(1<<a),n+=1;var s=32-Ci(t)+a;if(30<s){var l=a-a%5;s=(i&(1<<l)-1).toString(32),i>>=l,a-=l,da=1<<32-Ci(t)+a|n<<a|i,ha=s+e}else da=1<<s|n<<a|i,ha=e}function Lp(e){e.return!==null&&(Ls(e,1),Tg(e,1,0))}function Ap(e){for(;e===cd;)cd=Po[--Io],Po[Io]=null,ud=Po[--Io],Po[Io]=null;for(;e===Os;)Os=li[--ci],li[ci]=null,ha=li[--ci],li[ci]=null,da=li[--ci],li[ci]=null}var Jr=null,Hr=null,cn=!1,Si=null;function Dg(e,t){var n=ui(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function x0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jr=e,Hr=ts(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jr=e,Hr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Os!==null?{id:da,overflow:ha}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ui(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Jr=e,Hr=null,!0):!1;default:return!1}}function _f(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pf(e){if(cn){var t=Hr;if(t){var n=t;if(!x0(e,t)){if(_f(e))throw Error(Be(418));t=ts(n.nextSibling);var i=Jr;t&&x0(e,t)?Dg(i,n):(e.flags=e.flags&-4097|2,cn=!1,Jr=e)}}else{if(_f(e))throw Error(Be(418));e.flags=e.flags&-4097|2,cn=!1,Jr=e}}}function v0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jr=e}function ju(e){if(e!==Jr)return!1;if(!cn)return v0(e),cn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cf(e.type,e.memoizedProps)),t&&(t=Hr)){if(_f(e))throw Mg(),Error(Be(418));for(;t;)Dg(e,t),t=ts(t.nextSibling)}if(v0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Be(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Hr=ts(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Hr=null}}else Hr=Jr?ts(e.stateNode.nextSibling):null;return!0}function Mg(){for(var e=Hr;e;)e=ts(e.nextSibling)}function Yo(){Hr=Jr=null,cn=!1}function _p(e){Si===null?Si=[e]:Si.push(e)}var Ov=va.ReactCurrentBatchConfig;function Rl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Be(309));var i=n.stateNode}if(!i)throw Error(Be(147,e));var a=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var c=a.refs;l===null?delete c[s]:c[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(Be(284));if(!n._owner)throw Error(Be(290,e))}return e}function Su(e,t){throw e=Object.prototype.toString.call(t),Error(Be(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function y0(e){var t=e._init;return t(e._payload)}function zg(e){function t(N,w){if(e){var L=N.deletions;L===null?(N.deletions=[w],N.flags|=16):L.push(w)}}function n(N,w){if(!e)return null;for(;w!==null;)t(N,w),w=w.sibling;return null}function i(N,w){for(N=new Map;w!==null;)w.key!==null?N.set(w.key,w):N.set(w.index,w),w=w.sibling;return N}function a(N,w){return N=as(N,w),N.index=0,N.sibling=null,N}function s(N,w,L){return N.index=L,e?(L=N.alternate,L!==null?(L=L.index,L<w?(N.flags|=2,w):L):(N.flags|=2,w)):(N.flags|=1048576,w)}function l(N){return e&&N.alternate===null&&(N.flags|=2),N}function c(N,w,L,J){return w===null||w.tag!==6?(w=Uh(L,N.mode,J),w.return=N,w):(w=a(w,L),w.return=N,w)}function d(N,w,L,J){var ee=L.type;return ee===So?x(N,w,L.props.children,J,L.key):w!==null&&(w.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Ua&&y0(ee)===w.type)?(J=a(w,L.props),J.ref=Rl(N,w,L),J.return=N,J):(J=Wu(L.type,L.key,L.props,null,N.mode,J),J.ref=Rl(N,w,L),J.return=N,J)}function p(N,w,L,J){return w===null||w.tag!==4||w.stateNode.containerInfo!==L.containerInfo||w.stateNode.implementation!==L.implementation?(w=Vh(L,N.mode,J),w.return=N,w):(w=a(w,L.children||[]),w.return=N,w)}function x(N,w,L,J,ee){return w===null||w.tag!==7?(w=zs(L,N.mode,J,ee),w.return=N,w):(w=a(w,L),w.return=N,w)}function m(N,w,L){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Uh(""+w,N.mode,L),w.return=N,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fu:return L=Wu(w.type,w.key,w.props,null,N.mode,L),L.ref=Rl(N,null,w),L.return=N,L;case jo:return w=Vh(w,N.mode,L),w.return=N,w;case Ua:var J=w._init;return m(N,J(w._payload),L)}if(Gl(w)||Ml(w))return w=zs(w,N.mode,L,null),w.return=N,w;Su(N,w)}return null}function y(N,w,L,J){var ee=w!==null?w.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ee!==null?null:c(N,w,""+L,J);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case fu:return L.key===ee?d(N,w,L,J):null;case jo:return L.key===ee?p(N,w,L,J):null;case Ua:return ee=L._init,y(N,w,ee(L._payload),J)}if(Gl(L)||Ml(L))return ee!==null?null:x(N,w,L,J,null);Su(N,L)}return null}function g(N,w,L,J,ee){if(typeof J=="string"&&J!==""||typeof J=="number")return N=N.get(L)||null,c(w,N,""+J,ee);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case fu:return N=N.get(J.key===null?L:J.key)||null,d(w,N,J,ee);case jo:return N=N.get(J.key===null?L:J.key)||null,p(w,N,J,ee);case Ua:var fe=J._init;return g(N,w,L,fe(J._payload),ee)}if(Gl(J)||Ml(J))return N=N.get(L)||null,x(w,N,J,ee,null);Su(w,J)}return null}function _(N,w,L,J){for(var ee=null,fe=null,H=w,R=w=0,te=null;H!==null&&R<L.length;R++){H.index>R?(te=H,H=null):te=H.sibling;var oe=y(N,H,L[R],J);if(oe===null){H===null&&(H=te);break}e&&H&&oe.alternate===null&&t(N,H),w=s(oe,w,R),fe===null?ee=oe:fe.sibling=oe,fe=oe,H=te}if(R===L.length)return n(N,H),cn&&Ls(N,R),ee;if(H===null){for(;R<L.length;R++)H=m(N,L[R],J),H!==null&&(w=s(H,w,R),fe===null?ee=H:fe.sibling=H,fe=H);return cn&&Ls(N,R),ee}for(H=i(N,H);R<L.length;R++)te=g(H,N,R,L[R],J),te!==null&&(e&&te.alternate!==null&&H.delete(te.key===null?R:te.key),w=s(te,w,R),fe===null?ee=te:fe.sibling=te,fe=te);return e&&H.forEach(function(D){return t(N,D)}),cn&&Ls(N,R),ee}function b(N,w,L,J){var ee=Ml(L);if(typeof ee!="function")throw Error(Be(150));if(L=ee.call(L),L==null)throw Error(Be(151));for(var fe=ee=null,H=w,R=w=0,te=null,oe=L.next();H!==null&&!oe.done;R++,oe=L.next()){H.index>R?(te=H,H=null):te=H.sibling;var D=y(N,H,oe.value,J);if(D===null){H===null&&(H=te);break}e&&H&&D.alternate===null&&t(N,H),w=s(D,w,R),fe===null?ee=D:fe.sibling=D,fe=D,H=te}if(oe.done)return n(N,H),cn&&Ls(N,R),ee;if(H===null){for(;!oe.done;R++,oe=L.next())oe=m(N,oe.value,J),oe!==null&&(w=s(oe,w,R),fe===null?ee=oe:fe.sibling=oe,fe=oe);return cn&&Ls(N,R),ee}for(H=i(N,H);!oe.done;R++,oe=L.next())oe=g(H,N,R,oe.value,J),oe!==null&&(e&&oe.alternate!==null&&H.delete(oe.key===null?R:oe.key),w=s(oe,w,R),fe===null?ee=oe:fe.sibling=oe,fe=oe);return e&&H.forEach(function(z){return t(N,z)}),cn&&Ls(N,R),ee}function A(N,w,L,J){if(typeof L=="object"&&L!==null&&L.type===So&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case fu:e:{for(var ee=L.key,fe=w;fe!==null;){if(fe.key===ee){if(ee=L.type,ee===So){if(fe.tag===7){n(N,fe.sibling),w=a(fe,L.props.children),w.return=N,N=w;break e}}else if(fe.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Ua&&y0(ee)===fe.type){n(N,fe.sibling),w=a(fe,L.props),w.ref=Rl(N,fe,L),w.return=N,N=w;break e}n(N,fe);break}else t(N,fe);fe=fe.sibling}L.type===So?(w=zs(L.props.children,N.mode,J,L.key),w.return=N,N=w):(J=Wu(L.type,L.key,L.props,null,N.mode,J),J.ref=Rl(N,w,L),J.return=N,N=J)}return l(N);case jo:e:{for(fe=L.key;w!==null;){if(w.key===fe)if(w.tag===4&&w.stateNode.containerInfo===L.containerInfo&&w.stateNode.implementation===L.implementation){n(N,w.sibling),w=a(w,L.children||[]),w.return=N,N=w;break e}else{n(N,w);break}else t(N,w);w=w.sibling}w=Vh(L,N.mode,J),w.return=N,N=w}return l(N);case Ua:return fe=L._init,A(N,w,fe(L._payload),J)}if(Gl(L))return _(N,w,L,J);if(Ml(L))return b(N,w,L,J);Su(N,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,w!==null&&w.tag===6?(n(N,w.sibling),w=a(w,L),w.return=N,N=w):(n(N,w),w=Uh(L,N.mode,J),w.return=N,N=w),l(N)):n(N,w)}return A}var Ko=zg(!0),Eg=zg(!1),dd=ds(null),hd=null,To=null,Pp=null;function Ip(){Pp=To=hd=null}function Tp(e){var t=dd.current;ln(dd),e._currentValue=t}function If(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function $o(e,t){hd=e,Pp=To=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pr=!0),e.firstContext=null)}function hi(e){var t=e._currentValue;if(Pp!==e)if(e={context:e,memoizedValue:t,next:null},To===null){if(hd===null)throw Error(Be(308));To=e,hd.dependencies={lanes:0,firstContext:e}}else To=To.next=e;return t}var Ts=null;function Dp(e){Ts===null?Ts=[e]:Ts.push(e)}function Fg(e,t,n,i){var a=t.interleaved;return a===null?(n.next=n,Dp(t)):(n.next=a.next,a.next=n),t.interleaved=n,ga(e,i)}function ga(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Va=!1;function Mp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Og(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ns(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Et&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,ga(e,n)}return a=i.interleaved,a===null?(t.next=t,Dp(i)):(t.next=a.next,a.next=t),i.interleaved=t,ga(e,n)}function qu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,yp(e,n)}}function N0(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?a=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?a=s=t:s=s.next=t}else a=s=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fd(e,t,n,i){var a=e.updateQueue;Va=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var d=c,p=d.next;d.next=null,l===null?s=p:l.next=p,l=d;var x=e.alternate;x!==null&&(x=x.updateQueue,c=x.lastBaseUpdate,c!==l&&(c===null?x.firstBaseUpdate=p:c.next=p,x.lastBaseUpdate=d))}if(s!==null){var m=a.baseState;l=0,x=p=d=null,c=s;do{var y=c.lane,g=c.eventTime;if((i&y)===y){x!==null&&(x=x.next={eventTime:g,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var _=e,b=c;switch(y=t,g=n,b.tag){case 1:if(_=b.payload,typeof _=="function"){m=_.call(g,m,y);break e}m=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=b.payload,y=typeof _=="function"?_.call(g,m,y):_,y==null)break e;m=mn({},m,y);break e;case 2:Va=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,y=a.effects,y===null?a.effects=[c]:y.push(c))}else g={eventTime:g,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},x===null?(p=x=g,d=m):x=x.next=g,l|=y;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;y=c,c=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(1);if(x===null&&(d=m),a.baseState=d,a.firstBaseUpdate=p,a.lastBaseUpdate=x,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Bs|=l,e.lanes=l,e.memoizedState=m}}function w0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(a!==null){if(i.callback=null,i=n,typeof a!="function")throw Error(Be(191,a));a.call(i)}}}var Ic={},Ui=ds(Ic),yc=ds(Ic),Nc=ds(Ic);function Ds(e){if(e===Ic)throw Error(Be(174));return e}function zp(e,t){switch(rn(Nc,t),rn(yc,e),rn(Ui,Ic),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:df(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=df(t,e)}ln(Ui),rn(Ui,t)}function Qo(){ln(Ui),ln(yc),ln(Nc)}function Rg(e){Ds(Nc.current);var t=Ds(Ui.current),n=df(t,e.type);t!==n&&(rn(yc,e),rn(Ui,n))}function Ep(e){yc.current===e&&(ln(Ui),ln(yc))}var fn=ds(0);function pd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fh=[];function Fp(){for(var e=0;e<Fh.length;e++)Fh[e]._workInProgressVersionPrimary=null;Fh.length=0}var $u=va.ReactCurrentDispatcher,Oh=va.ReactCurrentBatchConfig,Rs=0,pn=null,zn=null,Un=null,md=!1,nc=!1,wc=0,Rv=0;function nr(){throw Error(Be(321))}function Op(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Li(e[n],t[n]))return!1;return!0}function Rp(e,t,n,i,a,s){if(Rs=s,pn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$u.current=e===null||e.memoizedState===null?Uv:Vv,e=n(i,a),nc){s=0;do{if(nc=!1,wc=0,25<=s)throw Error(Be(301));s+=1,Un=zn=null,t.updateQueue=null,$u.current=Hv,e=n(i,a)}while(nc)}if($u.current=gd,t=zn!==null&&zn.next!==null,Rs=0,Un=zn=pn=null,md=!1,t)throw Error(Be(300));return e}function Bp(){var e=wc!==0;return wc=0,e}function Oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?pn.memoizedState=Un=e:Un=Un.next=e,Un}function fi(){if(zn===null){var e=pn.alternate;e=e!==null?e.memoizedState:null}else e=zn.next;var t=Un===null?pn.memoizedState:Un.next;if(t!==null)Un=t,zn=e;else{if(e===null)throw Error(Be(310));zn=e,e={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Un===null?pn.memoizedState=Un=e:Un=Un.next=e}return Un}function bc(e,t){return typeof t=="function"?t(e):t}function Rh(e){var t=fi(),n=t.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=e;var i=zn,a=i.baseQueue,s=n.pending;if(s!==null){if(a!==null){var l=a.next;a.next=s.next,s.next=l}i.baseQueue=a=s,n.pending=null}if(a!==null){s=a.next,i=i.baseState;var c=l=null,d=null,p=s;do{var x=p.lane;if((Rs&x)===x)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),i=p.hasEagerState?p.eagerState:e(i,p.action);else{var m={lane:x,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(c=d=m,l=i):d=d.next=m,pn.lanes|=x,Bs|=x}p=p.next}while(p!==null&&p!==s);d===null?l=i:d.next=c,Li(i,t.memoizedState)||(Pr=!0),t.memoizedState=i,t.baseState=l,t.baseQueue=d,n.lastRenderedState=i}if(e=n.interleaved,e!==null){a=e;do s=a.lane,pn.lanes|=s,Bs|=s,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bh(e){var t=fi(),n=t.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,s=t.memoizedState;if(a!==null){n.pending=null;var l=a=a.next;do s=e(s,l.action),l=l.next;while(l!==a);Li(s,t.memoizedState)||(Pr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Bg(){}function qg(e,t){var n=pn,i=fi(),a=t(),s=!Li(i.memoizedState,a);if(s&&(i.memoizedState=a,Pr=!0),i=i.queue,qp(Vg.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||Un!==null&&Un.memoizedState.tag&1){if(n.flags|=2048,jc(9,Ug.bind(null,n,i,a,t),void 0,null),Hn===null)throw Error(Be(349));Rs&30||$g(n,t,a)}return a}function $g(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pn.updateQueue,t===null?(t={lastEffect:null,stores:null},pn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ug(e,t,n,i){t.value=n,t.getSnapshot=i,Hg(t)&&Gg(e)}function Vg(e,t,n){return n(function(){Hg(t)&&Gg(e)})}function Hg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Li(e,n)}catch{return!0}}function Gg(e){var t=ga(e,1);t!==null&&ki(t,e,1,-1)}function b0(e){var t=Oi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bc,lastRenderedState:e},t.queue=e,e=e.dispatch=$v.bind(null,pn,e),[t.memoizedState,e]}function jc(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=pn.updateQueue,t===null?(t={lastEffect:null,stores:null},pn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Wg(){return fi().memoizedState}function Uu(e,t,n,i){var a=Oi();pn.flags|=e,a.memoizedState=jc(1|t,n,void 0,i===void 0?null:i)}function Td(e,t,n,i){var a=fi();i=i===void 0?null:i;var s=void 0;if(zn!==null){var l=zn.memoizedState;if(s=l.destroy,i!==null&&Op(i,l.deps)){a.memoizedState=jc(t,n,s,i);return}}pn.flags|=e,a.memoizedState=jc(1|t,n,s,i)}function j0(e,t){return Uu(8390656,8,e,t)}function qp(e,t){return Td(2048,8,e,t)}function Jg(e,t){return Td(4,2,e,t)}function Xg(e,t){return Td(4,4,e,t)}function Yg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kg(e,t,n){return n=n!=null?n.concat([e]):null,Td(4,4,Yg.bind(null,t,e),n)}function $p(){}function Qg(e,t){var n=fi();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Op(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Zg(e,t){var n=fi();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Op(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function e2(e,t,n){return Rs&21?(Li(n,t)||(n=ag(),pn.lanes|=n,Bs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pr=!0),e.memoizedState=n)}function Bv(e,t){var n=Jt;Jt=n!==0&&4>n?n:4,e(!0);var i=Oh.transition;Oh.transition={};try{e(!1),t()}finally{Jt=n,Oh.transition=i}}function t2(){return fi().memoizedState}function qv(e,t,n){var i=is(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},n2(e))r2(t,n);else if(n=Fg(e,t,n,i),n!==null){var a=vr();ki(n,e,i,a),i2(n,t,i)}}function $v(e,t,n){var i=is(e),a={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(n2(e))r2(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,c=s(l,n);if(a.hasEagerState=!0,a.eagerState=c,Li(c,l)){var d=t.interleaved;d===null?(a.next=a,Dp(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}n=Fg(e,t,a,i),n!==null&&(a=vr(),ki(n,e,i,a),i2(n,t,i))}}function n2(e){var t=e.alternate;return e===pn||t!==null&&t===pn}function r2(e,t){nc=md=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function i2(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,yp(e,n)}}var gd={readContext:hi,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},Uv={readContext:hi,useCallback:function(e,t){return Oi().memoizedState=[e,t===void 0?null:t],e},useContext:hi,useEffect:j0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Uu(4194308,4,Yg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uu(4,2,e,t)},useMemo:function(e,t){var n=Oi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Oi();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=qv.bind(null,pn,e),[i.memoizedState,e]},useRef:function(e){var t=Oi();return e={current:e},t.memoizedState=e},useState:b0,useDebugValue:$p,useDeferredValue:function(e){return Oi().memoizedState=e},useTransition:function(){var e=b0(!1),t=e[0];return e=Bv.bind(null,e[1]),Oi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=pn,a=Oi();if(cn){if(n===void 0)throw Error(Be(407));n=n()}else{if(n=t(),Hn===null)throw Error(Be(349));Rs&30||$g(i,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,j0(Vg.bind(null,i,s,e),[e]),i.flags|=2048,jc(9,Ug.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=Oi(),t=Hn.identifierPrefix;if(cn){var n=ha,i=da;n=(i&~(1<<32-Ci(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=wc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vv={readContext:hi,useCallback:Qg,useContext:hi,useEffect:qp,useImperativeHandle:Kg,useInsertionEffect:Jg,useLayoutEffect:Xg,useMemo:Zg,useReducer:Rh,useRef:Wg,useState:function(){return Rh(bc)},useDebugValue:$p,useDeferredValue:function(e){var t=fi();return e2(t,zn.memoizedState,e)},useTransition:function(){var e=Rh(bc)[0],t=fi().memoizedState;return[e,t]},useMutableSource:Bg,useSyncExternalStore:qg,useId:t2,unstable_isNewReconciler:!1},Hv={readContext:hi,useCallback:Qg,useContext:hi,useEffect:qp,useImperativeHandle:Kg,useInsertionEffect:Jg,useLayoutEffect:Xg,useMemo:Zg,useReducer:Bh,useRef:Wg,useState:function(){return Bh(bc)},useDebugValue:$p,useDeferredValue:function(e){var t=fi();return zn===null?t.memoizedState=e:e2(t,zn.memoizedState,e)},useTransition:function(){var e=Bh(bc)[0],t=fi().memoizedState;return[e,t]},useMutableSource:Bg,useSyncExternalStore:qg,useId:t2,unstable_isNewReconciler:!1};function wi(e,t){if(e&&e.defaultProps){t=mn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tf(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:mn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dd={isMounted:function(e){return(e=e._reactInternals)?Vs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=vr(),a=is(e),s=fa(i,a);s.payload=t,n!=null&&(s.callback=n),t=ns(e,s,a),t!==null&&(ki(t,e,a,i),qu(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=vr(),a=is(e),s=fa(i,a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ns(e,s,a),t!==null&&(ki(t,e,a,i),qu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vr(),i=is(e),a=fa(n,i);a.tag=2,t!=null&&(a.callback=t),t=ns(e,a,i),t!==null&&(ki(t,e,i,n),qu(t,e,i))}};function S0(e,t,n,i,a,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,l):t.prototype&&t.prototype.isPureReactComponent?!mc(n,i)||!mc(a,s):!0}function a2(e,t,n){var i=!1,a=os,s=t.contextType;return typeof s=="object"&&s!==null?s=hi(s):(a=Tr(t)?Fs:ur.current,i=t.contextTypes,s=(i=i!=null)?Xo(e,a):os),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dd,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function C0(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Dd.enqueueReplaceState(t,t.state,null)}function Df(e,t,n,i){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Mp(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=hi(s):(s=Tr(t)?Fs:ur.current,a.context=Xo(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Tf(e,t,s,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Dd.enqueueReplaceState(a,a.state,null),fd(e,n,a,i),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Zo(e,t){try{var n="",i=t;do n+=y5(i),i=i.return;while(i);var a=n}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function qh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Gv=typeof WeakMap=="function"?WeakMap:Map;function s2(e,t,n){n=fa(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){vd||(vd=!0,Vf=i),Mf(e,t)},n}function o2(e,t,n){n=fa(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var a=t.value;n.payload=function(){return i(a)},n.callback=function(){Mf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mf(e,t),typeof i!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function k0(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Gv;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(a.add(n),e=sy.bind(null,e,t,n),t.then(e,e))}function L0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function A0(e,t,n,i,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fa(-1,1),t.tag=2,ns(n,t,1))),n.lanes|=1),e)}var Wv=va.ReactCurrentOwner,Pr=!1;function gr(e,t,n,i){t.child=e===null?Eg(t,null,n,i):Ko(t,e.child,n,i)}function _0(e,t,n,i,a){n=n.render;var s=t.ref;return $o(t,a),i=Rp(e,t,n,i,s,a),n=Bp(),e!==null&&!Pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xa(e,t,a)):(cn&&n&&Lp(t),t.flags|=1,gr(e,t,i,a),t.child)}function P0(e,t,n,i,a){if(e===null){var s=n.type;return typeof s=="function"&&!Yp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,l2(e,t,s,i,a)):(e=Wu(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:mc,n(l,i)&&e.ref===t.ref)return xa(e,t,a)}return t.flags|=1,e=as(s,i),e.ref=t.ref,e.return=t,t.child=e}function l2(e,t,n,i,a){if(e!==null){var s=e.memoizedProps;if(mc(s,i)&&e.ref===t.ref)if(Pr=!1,t.pendingProps=i=s,(e.lanes&a)!==0)e.flags&131072&&(Pr=!0);else return t.lanes=e.lanes,xa(e,t,a)}return zf(e,t,n,i,a)}function c2(e,t,n){var i=t.pendingProps,a=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(Mo,Vr),Vr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rn(Mo,Vr),Vr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,rn(Mo,Vr),Vr|=i}else s!==null?(i=s.baseLanes|n,t.memoizedState=null):i=n,rn(Mo,Vr),Vr|=i;return gr(e,t,a,n),t.child}function u2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zf(e,t,n,i,a){var s=Tr(n)?Fs:ur.current;return s=Xo(t,s),$o(t,a),n=Rp(e,t,n,i,s,a),i=Bp(),e!==null&&!Pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xa(e,t,a)):(cn&&i&&Lp(t),t.flags|=1,gr(e,t,n,a),t.child)}function I0(e,t,n,i,a){if(Tr(n)){var s=!0;ld(t)}else s=!1;if($o(t,a),t.stateNode===null)Vu(e,t),a2(t,n,i),Df(t,n,i,a),i=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var d=l.context,p=n.contextType;typeof p=="object"&&p!==null?p=hi(p):(p=Tr(n)?Fs:ur.current,p=Xo(t,p));var x=n.getDerivedStateFromProps,m=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==i||d!==p)&&C0(t,l,i,p),Va=!1;var y=t.memoizedState;l.state=y,fd(t,i,l,a),d=t.memoizedState,c!==i||y!==d||Ir.current||Va?(typeof x=="function"&&(Tf(t,n,x,i),d=t.memoizedState),(c=Va||S0(t,n,c,i,y,d,p))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=d),l.props=i,l.state=d,l.context=p,i=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{l=t.stateNode,Og(e,t),c=t.memoizedProps,p=t.type===t.elementType?c:wi(t.type,c),l.props=p,m=t.pendingProps,y=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=hi(d):(d=Tr(n)?Fs:ur.current,d=Xo(t,d));var g=n.getDerivedStateFromProps;(x=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==m||y!==d)&&C0(t,l,i,d),Va=!1,y=t.memoizedState,l.state=y,fd(t,i,l,a);var _=t.memoizedState;c!==m||y!==_||Ir.current||Va?(typeof g=="function"&&(Tf(t,n,g,i),_=t.memoizedState),(p=Va||S0(t,n,p,i,y,_,d)||!1)?(x||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,_,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,_,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=_),l.props=i,l.state=_,l.context=d,i=p):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),i=!1)}return Ef(e,t,n,i,s,a)}function Ef(e,t,n,i,a,s){u2(e,t);var l=(t.flags&128)!==0;if(!i&&!l)return a&&g0(t,n,!1),xa(e,t,s);i=t.stateNode,Wv.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&l?(t.child=Ko(t,e.child,null,s),t.child=Ko(t,null,c,s)):gr(e,t,c,s),t.memoizedState=i.state,a&&g0(t,n,!0),t.child}function d2(e){var t=e.stateNode;t.pendingContext?m0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&m0(e,t.context,!1),zp(e,t.containerInfo)}function T0(e,t,n,i,a){return Yo(),_p(a),t.flags|=256,gr(e,t,n,i),t.child}var Ff={dehydrated:null,treeContext:null,retryLane:0};function Of(e){return{baseLanes:e,cachePool:null,transitions:null}}function h2(e,t,n){var i=t.pendingProps,a=fn.current,s=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),rn(fn,a&1),e===null)return Pf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Ed(l,i,0,null),e=zs(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Of(n),t.memoizedState=Ff,e):Up(t,l));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return Jv(e,t,l,i,c,a,n);if(s){s=i.fallback,l=t.mode,a=e.child,c=a.sibling;var d={mode:"hidden",children:i.children};return!(l&1)&&t.child!==a?(i=t.child,i.childLanes=0,i.pendingProps=d,t.deletions=null):(i=as(a,d),i.subtreeFlags=a.subtreeFlags&14680064),c!==null?s=as(c,s):(s=zs(s,l,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=e.child.memoizedState,l=l===null?Of(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ff,i}return s=e.child,e=s.sibling,i=as(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Up(e,t){return t=Ed({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cu(e,t,n,i){return i!==null&&_p(i),Ko(t,e.child,null,n),e=Up(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jv(e,t,n,i,a,s,l){if(n)return t.flags&256?(t.flags&=-257,i=qh(Error(Be(422))),Cu(e,t,l,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=Ed({mode:"visible",children:i.children},a,0,null),s=zs(s,a,l,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&Ko(t,e.child,null,l),t.child.memoizedState=Of(l),t.memoizedState=Ff,s);if(!(t.mode&1))return Cu(e,t,l,null);if(a.data==="$!"){if(i=a.nextSibling&&a.nextSibling.dataset,i)var c=i.dgst;return i=c,s=Error(Be(419)),i=qh(s,i,void 0),Cu(e,t,l,i)}if(c=(l&e.childLanes)!==0,Pr||c){if(i=Hn,i!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(i.suspendedLanes|l)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,ga(e,a),ki(i,e,a,-1))}return Xp(),i=qh(Error(Be(421))),Cu(e,t,l,i)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=oy.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Hr=ts(a.nextSibling),Jr=t,cn=!0,Si=null,e!==null&&(li[ci++]=da,li[ci++]=ha,li[ci++]=Os,da=e.id,ha=e.overflow,Os=t),t=Up(t,i.children),t.flags|=4096,t)}function D0(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),If(e.return,t,n)}function $h(e,t,n,i,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=a)}function f2(e,t,n){var i=t.pendingProps,a=i.revealOrder,s=i.tail;if(gr(e,t,i.children,n),i=fn.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&D0(e,n,t);else if(e.tag===19)D0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(rn(fn,i),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&pd(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),$h(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&pd(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}$h(t,!0,n,null,s);break;case"together":$h(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Be(153));if(t.child!==null){for(e=t.child,n=as(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=as(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xv(e,t,n){switch(t.tag){case 3:d2(t),Yo();break;case 5:Rg(t);break;case 1:Tr(t.type)&&ld(t);break;case 4:zp(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,a=t.memoizedProps.value;rn(dd,i._currentValue),i._currentValue=a;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(rn(fn,fn.current&1),t.flags|=128,null):n&t.child.childLanes?h2(e,t,n):(rn(fn,fn.current&1),e=xa(e,t,n),e!==null?e.sibling:null);rn(fn,fn.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return f2(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),rn(fn,fn.current),i)break;return null;case 22:case 23:return t.lanes=0,c2(e,t,n)}return xa(e,t,n)}var p2,Rf,m2,g2;p2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rf=function(){};m2=function(e,t,n,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,Ds(Ui.current);var s=null;switch(n){case"input":a=of(e,a),i=of(e,i),s=[];break;case"select":a=mn({},a,{value:void 0}),i=mn({},i,{value:void 0}),s=[];break;case"textarea":a=uf(e,a),i=uf(e,i),s=[];break;default:typeof a.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=sd)}hf(n,i);var l;n=null;for(p in a)if(!i.hasOwnProperty(p)&&a.hasOwnProperty(p)&&a[p]!=null)if(p==="style"){var c=a[p];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(lc.hasOwnProperty(p)?s||(s=[]):(s=s||[]).push(p,null));for(p in i){var d=i[p];if(c=a!=null?a[p]:void 0,i.hasOwnProperty(p)&&d!==c&&(d!=null||c!=null))if(p==="style")if(c){for(l in c)!c.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&c[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(s||(s=[]),s.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(s=s||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(s=s||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(lc.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&sn("scroll",e),s||c===d||(s=[])):(s=s||[]).push(p,d))}n&&(s=s||[]).push("style",n);var p=s;(t.updateQueue=p)&&(t.flags|=4)}};g2=function(e,t,n,i){n!==i&&(t.flags|=4)};function Bl(e,t){if(!cn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function rr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&14680064,i|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Yv(e,t,n){var i=t.pendingProps;switch(Ap(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(t),null;case 1:return Tr(t.type)&&od(),rr(t),null;case 3:return i=t.stateNode,Qo(),ln(Ir),ln(ur),Fp(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ju(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Si!==null&&(Wf(Si),Si=null))),Rf(e,t),rr(t),null;case 5:Ep(t);var a=Ds(Nc.current);if(n=t.type,e!==null&&t.stateNode!=null)m2(e,t,n,i,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(Be(166));return rr(t),null}if(e=Ds(Ui.current),ju(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[Ri]=t,i[vc]=s,e=(t.mode&1)!==0,n){case"dialog":sn("cancel",i),sn("close",i);break;case"iframe":case"object":case"embed":sn("load",i);break;case"video":case"audio":for(a=0;a<Jl.length;a++)sn(Jl[a],i);break;case"source":sn("error",i);break;case"img":case"image":case"link":sn("error",i),sn("load",i);break;case"details":sn("toggle",i);break;case"input":$m(i,s),sn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},sn("invalid",i);break;case"textarea":Vm(i,s),sn("invalid",i)}hf(n,s),a=null;for(var l in s)if(s.hasOwnProperty(l)){var c=s[l];l==="children"?typeof c=="string"?i.textContent!==c&&(s.suppressHydrationWarning!==!0&&bu(i.textContent,c,e),a=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&bu(i.textContent,c,e),a=["children",""+c]):lc.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&sn("scroll",i)}switch(n){case"input":pu(i),Um(i,s,!0);break;case"textarea":pu(i),Hm(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=sd)}i=a,t.updateQueue=i,i!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=V1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),n==="select"&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[Ri]=t,e[vc]=i,p2(e,t,!1,!1),t.stateNode=e;e:{switch(l=ff(n,i),n){case"dialog":sn("cancel",e),sn("close",e),a=i;break;case"iframe":case"object":case"embed":sn("load",e),a=i;break;case"video":case"audio":for(a=0;a<Jl.length;a++)sn(Jl[a],e);a=i;break;case"source":sn("error",e),a=i;break;case"img":case"image":case"link":sn("error",e),sn("load",e),a=i;break;case"details":sn("toggle",e),a=i;break;case"input":$m(e,i),a=of(e,i),sn("invalid",e);break;case"option":a=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=mn({},i,{value:void 0}),sn("invalid",e);break;case"textarea":Vm(e,i),a=uf(e,i),sn("invalid",e);break;default:a=i}hf(n,a),c=a;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];s==="style"?W1(e,d):s==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&H1(e,d)):s==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&cc(e,d):typeof d=="number"&&cc(e,""+d):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(lc.hasOwnProperty(s)?d!=null&&s==="onScroll"&&sn("scroll",e):d!=null&&fp(e,s,d,l))}switch(n){case"input":pu(e),Um(e,i,!1);break;case"textarea":pu(e),Hm(e);break;case"option":i.value!=null&&e.setAttribute("value",""+ss(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?Oo(e,!!i.multiple,s,!1):i.defaultValue!=null&&Oo(e,!!i.multiple,i.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=sd)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rr(t),null;case 6:if(e&&t.stateNode!=null)g2(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(Be(166));if(n=Ds(Nc.current),Ds(Ui.current),ju(t)){if(i=t.stateNode,n=t.memoizedProps,i[Ri]=t,(s=i.nodeValue!==n)&&(e=Jr,e!==null))switch(e.tag){case 3:bu(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bu(i.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Ri]=t,t.stateNode=i}return rr(t),null;case 13:if(ln(fn),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(cn&&Hr!==null&&t.mode&1&&!(t.flags&128))Mg(),Yo(),t.flags|=98560,s=!1;else if(s=ju(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(Be(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Be(317));s[Ri]=t}else Yo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rr(t),s=!1}else Si!==null&&(Wf(Si),Si=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||fn.current&1?En===0&&(En=3):Xp())),t.updateQueue!==null&&(t.flags|=4),rr(t),null);case 4:return Qo(),Rf(e,t),e===null&&gc(t.stateNode.containerInfo),rr(t),null;case 10:return Tp(t.type._context),rr(t),null;case 17:return Tr(t.type)&&od(),rr(t),null;case 19:if(ln(fn),s=t.memoizedState,s===null)return rr(t),null;if(i=(t.flags&128)!==0,l=s.rendering,l===null)if(i)Bl(s,!1);else{if(En!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=pd(e),l!==null){for(t.flags|=128,Bl(s,!1),i=l.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rn(fn,fn.current&1|2),t.child}e=e.sibling}s.tail!==null&&jn()>el&&(t.flags|=128,i=!0,Bl(s,!1),t.lanes=4194304)}else{if(!i)if(e=pd(l),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!cn)return rr(t),null}else 2*jn()-s.renderingStartTime>el&&n!==1073741824&&(t.flags|=128,i=!0,Bl(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=jn(),t.sibling=null,n=fn.current,rn(fn,i?n&1|2:n&1),t):(rr(t),null);case 22:case 23:return Jp(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Vr&1073741824&&(rr(t),t.subtreeFlags&6&&(t.flags|=8192)):rr(t),null;case 24:return null;case 25:return null}throw Error(Be(156,t.tag))}function Kv(e,t){switch(Ap(t),t.tag){case 1:return Tr(t.type)&&od(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qo(),ln(Ir),ln(ur),Fp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ep(t),null;case 13:if(ln(fn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Be(340));Yo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ln(fn),null;case 4:return Qo(),null;case 10:return Tp(t.type._context),null;case 22:case 23:return Jp(),null;case 24:return null;default:return null}}var ku=!1,lr=!1,Qv=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Do(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){yn(e,t,i)}else n.current=null}function Bf(e,t,n){try{n()}catch(i){yn(e,t,i)}}var M0=!1;function Zv(e,t){if(jf=rd,e=wg(),kp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,c=-1,d=-1,p=0,x=0,m=e,y=null;t:for(;;){for(var g;m!==n||a!==0&&m.nodeType!==3||(c=l+a),m!==s||i!==0&&m.nodeType!==3||(d=l+i),m.nodeType===3&&(l+=m.nodeValue.length),(g=m.firstChild)!==null;)y=m,m=g;for(;;){if(m===e)break t;if(y===n&&++p===a&&(c=l),y===s&&++x===i&&(d=l),(g=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=g}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sf={focusedElem:e,selectionRange:n},rd=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){t=Ze;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var b=_.memoizedProps,A=_.memoizedState,N=t.stateNode,w=N.getSnapshotBeforeUpdate(t.elementType===t.type?b:wi(t.type,b),A);N.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(J){yn(t,t.return,J)}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}return _=M0,M0=!1,_}function rc(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&Bf(t,n,s)}a=a.next}while(a!==i)}}function Md(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function qf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function x2(e){var t=e.alternate;t!==null&&(e.alternate=null,x2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ri],delete t[vc],delete t[Lf],delete t[zv],delete t[Ev])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function v2(e){return e.tag===5||e.tag===3||e.tag===4}function z0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||v2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $f(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sd));else if(i!==4&&(e=e.child,e!==null))for($f(e,t,n),e=e.sibling;e!==null;)$f(e,t,n),e=e.sibling}function Uf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Uf(e,t,n),e=e.sibling;e!==null;)Uf(e,t,n),e=e.sibling}var Xn=null,ji=!1;function Ba(e,t,n){for(n=n.child;n!==null;)y2(e,t,n),n=n.sibling}function y2(e,t,n){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(kd,n)}catch{}switch(n.tag){case 5:lr||Do(n,t);case 6:var i=Xn,a=ji;Xn=null,Ba(e,t,n),Xn=i,ji=a,Xn!==null&&(ji?(e=Xn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xn.removeChild(n.stateNode));break;case 18:Xn!==null&&(ji?(e=Xn,n=n.stateNode,e.nodeType===8?zh(e.parentNode,n):e.nodeType===1&&zh(e,n),fc(e)):zh(Xn,n.stateNode));break;case 4:i=Xn,a=ji,Xn=n.stateNode.containerInfo,ji=!0,Ba(e,t,n),Xn=i,ji=a;break;case 0:case 11:case 14:case 15:if(!lr&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){a=i=i.next;do{var s=a,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Bf(n,t,l),a=a.next}while(a!==i)}Ba(e,t,n);break;case 1:if(!lr&&(Do(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){yn(n,t,c)}Ba(e,t,n);break;case 21:Ba(e,t,n);break;case 22:n.mode&1?(lr=(i=lr)||n.memoizedState!==null,Ba(e,t,n),lr=i):Ba(e,t,n);break;default:Ba(e,t,n)}}function E0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Qv),t.forEach(function(i){var a=ly.bind(null,e,i);n.has(i)||(n.add(i),i.then(a,a))})}}function vi(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];try{var s=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:Xn=c.stateNode,ji=!1;break e;case 3:Xn=c.stateNode.containerInfo,ji=!0;break e;case 4:Xn=c.stateNode.containerInfo,ji=!0;break e}c=c.return}if(Xn===null)throw Error(Be(160));y2(s,l,a),Xn=null,ji=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(p){yn(a,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)N2(t,e),t=t.sibling}function N2(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vi(t,e),zi(e),i&4){try{rc(3,e,e.return),Md(3,e)}catch(b){yn(e,e.return,b)}try{rc(5,e,e.return)}catch(b){yn(e,e.return,b)}}break;case 1:vi(t,e),zi(e),i&512&&n!==null&&Do(n,n.return);break;case 5:if(vi(t,e),zi(e),i&512&&n!==null&&Do(n,n.return),e.flags&32){var a=e.stateNode;try{cc(a,"")}catch(b){yn(e,e.return,b)}}if(i&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&$1(a,s),ff(c,l);var p=ff(c,s);for(l=0;l<d.length;l+=2){var x=d[l],m=d[l+1];x==="style"?W1(a,m):x==="dangerouslySetInnerHTML"?H1(a,m):x==="children"?cc(a,m):fp(a,x,m,p)}switch(c){case"input":lf(a,s);break;case"textarea":U1(a,s);break;case"select":var y=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Oo(a,!!s.multiple,g,!1):y!==!!s.multiple&&(s.defaultValue!=null?Oo(a,!!s.multiple,s.defaultValue,!0):Oo(a,!!s.multiple,s.multiple?[]:"",!1))}a[vc]=s}catch(b){yn(e,e.return,b)}}break;case 6:if(vi(t,e),zi(e),i&4){if(e.stateNode===null)throw Error(Be(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(b){yn(e,e.return,b)}}break;case 3:if(vi(t,e),zi(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{fc(t.containerInfo)}catch(b){yn(e,e.return,b)}break;case 4:vi(t,e),zi(e);break;case 13:vi(t,e),zi(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(Gp=jn())),i&4&&E0(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(lr=(p=lr)||x,vi(t,e),lr=p):vi(t,e),zi(e),i&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!x&&e.mode&1)for(Ze=e,x=e.child;x!==null;){for(m=Ze=x;Ze!==null;){switch(y=Ze,g=y.child,y.tag){case 0:case 11:case 14:case 15:rc(4,y,y.return);break;case 1:Do(y,y.return);var _=y.stateNode;if(typeof _.componentWillUnmount=="function"){i=y,n=y.return;try{t=i,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(b){yn(i,n,b)}}break;case 5:Do(y,y.return);break;case 22:if(y.memoizedState!==null){O0(m);continue}}g!==null?(g.return=y,Ze=g):O0(m)}x=x.sibling}e:for(x=null,m=e;;){if(m.tag===5){if(x===null){x=m;try{a=m.stateNode,p?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=m.stateNode,d=m.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=G1("display",l))}catch(b){yn(e,e.return,b)}}}else if(m.tag===6){if(x===null)try{m.stateNode.nodeValue=p?"":m.memoizedProps}catch(b){yn(e,e.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;x===m&&(x=null),m=m.return}x===m&&(x=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:vi(t,e),zi(e),i&4&&E0(e);break;case 21:break;default:vi(t,e),zi(e)}}function zi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(v2(n)){var i=n;break e}n=n.return}throw Error(Be(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(cc(a,""),i.flags&=-33);var s=z0(e);Uf(e,s,a);break;case 3:case 4:var l=i.stateNode.containerInfo,c=z0(e);$f(e,c,l);break;default:throw Error(Be(161))}}catch(d){yn(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ey(e,t,n){Ze=e,w2(e)}function w2(e,t,n){for(var i=(e.mode&1)!==0;Ze!==null;){var a=Ze,s=a.child;if(a.tag===22&&i){var l=a.memoizedState!==null||ku;if(!l){var c=a.alternate,d=c!==null&&c.memoizedState!==null||lr;c=ku;var p=lr;if(ku=l,(lr=d)&&!p)for(Ze=a;Ze!==null;)l=Ze,d=l.child,l.tag===22&&l.memoizedState!==null?R0(a):d!==null?(d.return=l,Ze=d):R0(a);for(;s!==null;)Ze=s,w2(s),s=s.sibling;Ze=a,ku=c,lr=p}F0(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Ze=s):F0(e)}}function F0(e){for(;Ze!==null;){var t=Ze;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lr||Md(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!lr)if(n===null)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:wi(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&w0(t,s,i);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}w0(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var x=p.memoizedState;if(x!==null){var m=x.dehydrated;m!==null&&fc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}lr||t.flags&512&&qf(t)}catch(y){yn(t,t.return,y)}}if(t===e){Ze=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ze=n;break}Ze=t.return}}function O0(e){for(;Ze!==null;){var t=Ze;if(t===e){Ze=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ze=n;break}Ze=t.return}}function R0(e){for(;Ze!==null;){var t=Ze;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Md(4,t)}catch(d){yn(t,n,d)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var a=t.return;try{i.componentDidMount()}catch(d){yn(t,a,d)}}var s=t.return;try{qf(t)}catch(d){yn(t,s,d)}break;case 5:var l=t.return;try{qf(t)}catch(d){yn(t,l,d)}}}catch(d){yn(t,t.return,d)}if(t===e){Ze=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Ze=c;break}Ze=t.return}}var ty=Math.ceil,xd=va.ReactCurrentDispatcher,Vp=va.ReactCurrentOwner,di=va.ReactCurrentBatchConfig,Et=0,Hn=null,In=null,Kn=0,Vr=0,Mo=ds(0),En=0,Sc=null,Bs=0,zd=0,Hp=0,ic=null,_r=null,Gp=0,el=1/0,la=null,vd=!1,Vf=null,rs=null,Lu=!1,Xa=null,yd=0,ac=0,Hf=null,Hu=-1,Gu=0;function vr(){return Et&6?jn():Hu!==-1?Hu:Hu=jn()}function is(e){return e.mode&1?Et&2&&Kn!==0?Kn&-Kn:Ov.transition!==null?(Gu===0&&(Gu=ag()),Gu):(e=Jt,e!==0||(e=window.event,e=e===void 0?16:hg(e.type)),e):1}function ki(e,t,n,i){if(50<ac)throw ac=0,Hf=null,Error(Be(185));Ac(e,n,i),(!(Et&2)||e!==Hn)&&(e===Hn&&(!(Et&2)&&(zd|=n),En===4&&Ga(e,Kn)),Dr(e,i),n===1&&Et===0&&!(t.mode&1)&&(el=jn()+500,Id&&hs()))}function Dr(e,t){var n=e.callbackNode;O5(e,t);var i=nd(e,e===Hn?Kn:0);if(i===0)n!==null&&Jm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Jm(n),t===1)e.tag===0?Fv(B0.bind(null,e)):Ig(B0.bind(null,e)),Dv(function(){!(Et&6)&&hs()}),n=null;else{switch(sg(i)){case 1:n=vp;break;case 4:n=rg;break;case 16:n=td;break;case 536870912:n=ig;break;default:n=td}n=_2(n,b2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function b2(e,t){if(Hu=-1,Gu=0,Et&6)throw Error(Be(327));var n=e.callbackNode;if(Uo()&&e.callbackNode!==n)return null;var i=nd(e,e===Hn?Kn:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Nd(e,i);else{t=i;var a=Et;Et|=2;var s=S2();(Hn!==e||Kn!==t)&&(la=null,el=jn()+500,Ms(e,t));do try{iy();break}catch(c){j2(e,c)}while(1);Ip(),xd.current=s,Et=a,In!==null?t=0:(Hn=null,Kn=0,t=En)}if(t!==0){if(t===2&&(a=vf(e),a!==0&&(i=a,t=Gf(e,a))),t===1)throw n=Sc,Ms(e,0),Ga(e,i),Dr(e,jn()),n;if(t===6)Ga(e,i);else{if(a=e.current.alternate,!(i&30)&&!ny(a)&&(t=Nd(e,i),t===2&&(s=vf(e),s!==0&&(i=s,t=Gf(e,s))),t===1))throw n=Sc,Ms(e,0),Ga(e,i),Dr(e,jn()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(Be(345));case 2:As(e,_r,la);break;case 3:if(Ga(e,i),(i&130023424)===i&&(t=Gp+500-jn(),10<t)){if(nd(e,0)!==0)break;if(a=e.suspendedLanes,(a&i)!==i){vr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=kf(As.bind(null,e,_r,la),t);break}As(e,_r,la);break;case 4:if(Ga(e,i),(i&4194240)===i)break;for(t=e.eventTimes,a=-1;0<i;){var l=31-Ci(i);s=1<<l,l=t[l],l>a&&(a=l),i&=~s}if(i=a,i=jn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ty(i/1960))-i,10<i){e.timeoutHandle=kf(As.bind(null,e,_r,la),i);break}As(e,_r,la);break;case 5:As(e,_r,la);break;default:throw Error(Be(329))}}}return Dr(e,jn()),e.callbackNode===n?b2.bind(null,e):null}function Gf(e,t){var n=ic;return e.current.memoizedState.isDehydrated&&(Ms(e,t).flags|=256),e=Nd(e,t),e!==2&&(t=_r,_r=n,t!==null&&Wf(t)),e}function Wf(e){_r===null?_r=e:_r.push.apply(_r,e)}function ny(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var a=n[i],s=a.getSnapshot;a=a.value;try{if(!Li(s(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(e,t){for(t&=~Hp,t&=~zd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ci(t),i=1<<n;e[n]=-1,t&=~i}}function B0(e){if(Et&6)throw Error(Be(327));Uo();var t=nd(e,0);if(!(t&1))return Dr(e,jn()),null;var n=Nd(e,t);if(e.tag!==0&&n===2){var i=vf(e);i!==0&&(t=i,n=Gf(e,i))}if(n===1)throw n=Sc,Ms(e,0),Ga(e,t),Dr(e,jn()),n;if(n===6)throw Error(Be(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,As(e,_r,la),Dr(e,jn()),null}function Wp(e,t){var n=Et;Et|=1;try{return e(t)}finally{Et=n,Et===0&&(el=jn()+500,Id&&hs())}}function qs(e){Xa!==null&&Xa.tag===0&&!(Et&6)&&Uo();var t=Et;Et|=1;var n=di.transition,i=Jt;try{if(di.transition=null,Jt=1,e)return e()}finally{Jt=i,di.transition=n,Et=t,!(Et&6)&&hs()}}function Jp(){Vr=Mo.current,ln(Mo)}function Ms(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Tv(n)),In!==null)for(n=In.return;n!==null;){var i=n;switch(Ap(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&od();break;case 3:Qo(),ln(Ir),ln(ur),Fp();break;case 5:Ep(i);break;case 4:Qo();break;case 13:ln(fn);break;case 19:ln(fn);break;case 10:Tp(i.type._context);break;case 22:case 23:Jp()}n=n.return}if(Hn=e,In=e=as(e.current,null),Kn=Vr=t,En=0,Sc=null,Hp=zd=Bs=0,_r=ic=null,Ts!==null){for(t=0;t<Ts.length;t++)if(n=Ts[t],i=n.interleaved,i!==null){n.interleaved=null;var a=i.next,s=n.pending;if(s!==null){var l=s.next;s.next=a,i.next=l}n.pending=i}Ts=null}return e}function j2(e,t){do{var n=In;try{if(Ip(),$u.current=gd,md){for(var i=pn.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}md=!1}if(Rs=0,Un=zn=pn=null,nc=!1,wc=0,Vp.current=null,n===null||n.return===null){En=1,Sc=t,In=null;break}e:{var s=e,l=n.return,c=n,d=t;if(t=Kn,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,x=c,m=x.tag;if(!(x.mode&1)&&(m===0||m===11||m===15)){var y=x.alternate;y?(x.updateQueue=y.updateQueue,x.memoizedState=y.memoizedState,x.lanes=y.lanes):(x.updateQueue=null,x.memoizedState=null)}var g=L0(l);if(g!==null){g.flags&=-257,A0(g,l,c,s,t),g.mode&1&&k0(s,p,t),t=g,d=p;var _=t.updateQueue;if(_===null){var b=new Set;b.add(d),t.updateQueue=b}else _.add(d);break e}else{if(!(t&1)){k0(s,p,t),Xp();break e}d=Error(Be(426))}}else if(cn&&c.mode&1){var A=L0(l);if(A!==null){!(A.flags&65536)&&(A.flags|=256),A0(A,l,c,s,t),_p(Zo(d,c));break e}}s=d=Zo(d,c),En!==4&&(En=2),ic===null?ic=[s]:ic.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var N=s2(s,d,t);N0(s,N);break e;case 1:c=d;var w=s.type,L=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(rs===null||!rs.has(L)))){s.flags|=65536,t&=-t,s.lanes|=t;var J=o2(s,c,t);N0(s,J);break e}}s=s.return}while(s!==null)}k2(n)}catch(ee){t=ee,In===n&&n!==null&&(In=n=n.return);continue}break}while(1)}function S2(){var e=xd.current;return xd.current=gd,e===null?gd:e}function Xp(){(En===0||En===3||En===2)&&(En=4),Hn===null||!(Bs&268435455)&&!(zd&268435455)||Ga(Hn,Kn)}function Nd(e,t){var n=Et;Et|=2;var i=S2();(Hn!==e||Kn!==t)&&(la=null,Ms(e,t));do try{ry();break}catch(a){j2(e,a)}while(1);if(Ip(),Et=n,xd.current=i,In!==null)throw Error(Be(261));return Hn=null,Kn=0,En}function ry(){for(;In!==null;)C2(In)}function iy(){for(;In!==null&&!_5();)C2(In)}function C2(e){var t=A2(e.alternate,e,Vr);e.memoizedProps=e.pendingProps,t===null?k2(e):In=t,Vp.current=null}function k2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Kv(n,t),n!==null){n.flags&=32767,In=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{En=6,In=null;return}}else if(n=Yv(n,t,Vr),n!==null){In=n;return}if(t=t.sibling,t!==null){In=t;return}In=t=e}while(t!==null);En===0&&(En=5)}function As(e,t,n){var i=Jt,a=di.transition;try{di.transition=null,Jt=1,ay(e,t,n,i)}finally{di.transition=a,Jt=i}return null}function ay(e,t,n,i){do Uo();while(Xa!==null);if(Et&6)throw Error(Be(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Be(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(R5(e,s),e===Hn&&(In=Hn=null,Kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lu||(Lu=!0,_2(td,function(){return Uo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=di.transition,di.transition=null;var l=Jt;Jt=1;var c=Et;Et|=4,Vp.current=null,Zv(e,n),N2(n,e),Cv(Sf),rd=!!jf,Sf=jf=null,e.current=n,ey(n),P5(),Et=c,Jt=l,di.transition=s}else e.current=n;if(Lu&&(Lu=!1,Xa=e,yd=a),s=e.pendingLanes,s===0&&(rs=null),D5(n.stateNode),Dr(e,jn()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(vd)throw vd=!1,e=Vf,Vf=null,e;return yd&1&&e.tag!==0&&Uo(),s=e.pendingLanes,s&1?e===Hf?ac++:(ac=0,Hf=e):ac=0,hs(),null}function Uo(){if(Xa!==null){var e=sg(yd),t=di.transition,n=Jt;try{if(di.transition=null,Jt=16>e?16:e,Xa===null)var i=!1;else{if(e=Xa,Xa=null,yd=0,Et&6)throw Error(Be(331));var a=Et;for(Et|=4,Ze=e.current;Ze!==null;){var s=Ze,l=s.child;if(Ze.flags&16){var c=s.deletions;if(c!==null){for(var d=0;d<c.length;d++){var p=c[d];for(Ze=p;Ze!==null;){var x=Ze;switch(x.tag){case 0:case 11:case 15:rc(8,x,s)}var m=x.child;if(m!==null)m.return=x,Ze=m;else for(;Ze!==null;){x=Ze;var y=x.sibling,g=x.return;if(x2(x),x===p){Ze=null;break}if(y!==null){y.return=g,Ze=y;break}Ze=g}}}var _=s.alternate;if(_!==null){var b=_.child;if(b!==null){_.child=null;do{var A=b.sibling;b.sibling=null,b=A}while(b!==null)}}Ze=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,Ze=l;else e:for(;Ze!==null;){if(s=Ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:rc(9,s,s.return)}var N=s.sibling;if(N!==null){N.return=s.return,Ze=N;break e}Ze=s.return}}var w=e.current;for(Ze=w;Ze!==null;){l=Ze;var L=l.child;if(l.subtreeFlags&2064&&L!==null)L.return=l,Ze=L;else e:for(l=w;Ze!==null;){if(c=Ze,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Md(9,c)}}catch(ee){yn(c,c.return,ee)}if(c===l){Ze=null;break e}var J=c.sibling;if(J!==null){J.return=c.return,Ze=J;break e}Ze=c.return}}if(Et=a,hs(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(kd,e)}catch{}i=!0}return i}finally{Jt=n,di.transition=t}}return!1}function q0(e,t,n){t=Zo(n,t),t=s2(e,t,1),e=ns(e,t,1),t=vr(),e!==null&&(Ac(e,1,t),Dr(e,t))}function yn(e,t,n){if(e.tag===3)q0(e,e,n);else for(;t!==null;){if(t.tag===3){q0(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(rs===null||!rs.has(i))){e=Zo(n,e),e=o2(t,e,1),t=ns(t,e,1),e=vr(),t!==null&&(Ac(t,1,e),Dr(t,e));break}}t=t.return}}function sy(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=vr(),e.pingedLanes|=e.suspendedLanes&n,Hn===e&&(Kn&n)===n&&(En===4||En===3&&(Kn&130023424)===Kn&&500>jn()-Gp?Ms(e,0):Hp|=n),Dr(e,t)}function L2(e,t){t===0&&(e.mode&1?(t=xu,xu<<=1,!(xu&130023424)&&(xu=4194304)):t=1);var n=vr();e=ga(e,t),e!==null&&(Ac(e,t,n),Dr(e,n))}function oy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),L2(e,n)}function ly(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(Be(314))}i!==null&&i.delete(t),L2(e,n)}var A2;A2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ir.current)Pr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pr=!1,Xv(e,t,n);Pr=!!(e.flags&131072)}else Pr=!1,cn&&t.flags&1048576&&Tg(t,ud,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Vu(e,t),e=t.pendingProps;var a=Xo(t,ur.current);$o(t,n),a=Rp(null,t,i,e,a,n);var s=Bp();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tr(i)?(s=!0,ld(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Mp(t),a.updater=Dd,t.stateNode=a,a._reactInternals=t,Df(t,i,e,n),t=Ef(null,t,i,!0,s,n)):(t.tag=0,cn&&s&&Lp(t),gr(null,t,a,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Vu(e,t),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=uy(i),e=wi(i,e),a){case 0:t=zf(null,t,i,e,n);break e;case 1:t=I0(null,t,i,e,n);break e;case 11:t=_0(null,t,i,e,n);break e;case 14:t=P0(null,t,i,wi(i.type,e),n);break e}throw Error(Be(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:wi(i,a),zf(e,t,i,a,n);case 1:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:wi(i,a),I0(e,t,i,a,n);case 3:e:{if(d2(t),e===null)throw Error(Be(387));i=t.pendingProps,s=t.memoizedState,a=s.element,Og(e,t),fd(t,i,null,n);var l=t.memoizedState;if(i=l.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Zo(Error(Be(423)),t),t=T0(e,t,i,n,a);break e}else if(i!==a){a=Zo(Error(Be(424)),t),t=T0(e,t,i,n,a);break e}else for(Hr=ts(t.stateNode.containerInfo.firstChild),Jr=t,cn=!0,Si=null,n=Eg(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yo(),i===a){t=xa(e,t,n);break e}gr(e,t,i,n)}t=t.child}return t;case 5:return Rg(t),e===null&&Pf(t),i=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,l=a.children,Cf(i,a)?l=null:s!==null&&Cf(i,s)&&(t.flags|=32),u2(e,t),gr(e,t,l,n),t.child;case 6:return e===null&&Pf(t),null;case 13:return h2(e,t,n);case 4:return zp(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ko(t,null,i,n):gr(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:wi(i,a),_0(e,t,i,a,n);case 7:return gr(e,t,t.pendingProps,n),t.child;case 8:return gr(e,t,t.pendingProps.children,n),t.child;case 12:return gr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,s=t.memoizedProps,l=a.value,rn(dd,i._currentValue),i._currentValue=l,s!==null)if(Li(s.value,l)){if(s.children===a.children&&!Ir.current){t=xa(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var c=s.dependencies;if(c!==null){l=s.child;for(var d=c.firstContext;d!==null;){if(d.context===i){if(s.tag===1){d=fa(-1,n&-n),d.tag=2;var p=s.updateQueue;if(p!==null){p=p.shared;var x=p.pending;x===null?d.next=d:(d.next=x.next,x.next=d),p.pending=d}}s.lanes|=n,d=s.alternate,d!==null&&(d.lanes|=n),If(s.return,n,t),c.lanes|=n;break}d=d.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(Be(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),If(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}gr(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,$o(t,n),a=hi(a),i=i(a),t.flags|=1,gr(e,t,i,n),t.child;case 14:return i=t.type,a=wi(i,t.pendingProps),a=wi(i.type,a),P0(e,t,i,a,n);case 15:return l2(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:wi(i,a),Vu(e,t),t.tag=1,Tr(i)?(e=!0,ld(t)):e=!1,$o(t,n),a2(t,i,a),Df(t,i,a,n),Ef(null,t,i,!0,e,n);case 19:return f2(e,t,n);case 22:return c2(e,t,n)}throw Error(Be(156,t.tag))};function _2(e,t){return ng(e,t)}function cy(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(e,t,n,i){return new cy(e,t,n,i)}function Yp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uy(e){if(typeof e=="function")return Yp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mp)return 11;if(e===gp)return 14}return 2}function as(e,t){var n=e.alternate;return n===null?(n=ui(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wu(e,t,n,i,a,s){var l=2;if(i=e,typeof e=="function")Yp(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case So:return zs(n.children,a,s,t);case pp:l=8,a|=8;break;case nf:return e=ui(12,n,t,a|2),e.elementType=nf,e.lanes=s,e;case rf:return e=ui(13,n,t,a),e.elementType=rf,e.lanes=s,e;case af:return e=ui(19,n,t,a),e.elementType=af,e.lanes=s,e;case R1:return Ed(n,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F1:l=10;break e;case O1:l=9;break e;case mp:l=11;break e;case gp:l=14;break e;case Ua:l=16,i=null;break e}throw Error(Be(130,e==null?e:typeof e,""))}return t=ui(l,n,t,a),t.elementType=e,t.type=i,t.lanes=s,t}function zs(e,t,n,i){return e=ui(7,e,i,t),e.lanes=n,e}function Ed(e,t,n,i){return e=ui(22,e,i,t),e.elementType=R1,e.lanes=n,e.stateNode={isHidden:!1},e}function Uh(e,t,n){return e=ui(6,e,null,t),e.lanes=n,e}function Vh(e,t,n){return t=ui(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dy(e,t,n,i,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sh(0),this.expirationTimes=Sh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sh(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Kp(e,t,n,i,a,s,l,c,d){return e=new dy(e,t,n,c,d),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ui(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mp(s),e}function hy(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jo,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function P2(e){if(!e)return os;e=e._reactInternals;e:{if(Vs(e)!==e||e.tag!==1)throw Error(Be(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Be(171))}if(e.tag===1){var n=e.type;if(Tr(n))return Pg(e,n,t)}return t}function I2(e,t,n,i,a,s,l,c,d){return e=Kp(n,i,!0,e,a,s,l,c,d),e.context=P2(null),n=e.current,i=vr(),a=is(n),s=fa(i,a),s.callback=t??null,ns(n,s,a),e.current.lanes=a,Ac(e,a,i),Dr(e,i),e}function Fd(e,t,n,i){var a=t.current,s=vr(),l=is(a);return n=P2(n),t.context===null?t.context=n:t.pendingContext=n,t=fa(s,l),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=ns(a,t,l),e!==null&&(ki(e,a,l,s),qu(e,a,l)),l}function wd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qp(e,t){$0(e,t),(e=e.alternate)&&$0(e,t)}function fy(){return null}var T2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zp(e){this._internalRoot=e}Od.prototype.render=Zp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Be(409));Fd(e,t,null,null)};Od.prototype.unmount=Zp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qs(function(){Fd(null,e,null,null)}),t[ma]=null}};function Od(e){this._internalRoot=e}Od.prototype.unstable_scheduleHydration=function(e){if(e){var t=cg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ha.length&&t!==0&&t<Ha[n].priority;n++);Ha.splice(n,0,e),n===0&&dg(e)}};function em(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function U0(){}function py(e,t,n,i,a){if(a){if(typeof i=="function"){var s=i;i=function(){var p=wd(l);s.call(p)}}var l=I2(t,i,e,0,null,!1,!1,"",U0);return e._reactRootContainer=l,e[ma]=l.current,gc(e.nodeType===8?e.parentNode:e),qs(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof i=="function"){var c=i;i=function(){var p=wd(d);c.call(p)}}var d=Kp(e,0,!1,null,null,!1,!1,"",U0);return e._reactRootContainer=d,e[ma]=d.current,gc(e.nodeType===8?e.parentNode:e),qs(function(){Fd(t,d,n,i)}),d}function Bd(e,t,n,i,a){var s=n._reactRootContainer;if(s){var l=s;if(typeof a=="function"){var c=a;a=function(){var d=wd(l);c.call(d)}}Fd(t,l,e,a)}else l=py(n,t,e,a,i);return wd(l)}og=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wl(t.pendingLanes);n!==0&&(yp(t,n|1),Dr(t,jn()),!(Et&6)&&(el=jn()+500,hs()))}break;case 13:qs(function(){var i=ga(e,1);if(i!==null){var a=vr();ki(i,e,1,a)}}),Qp(e,1)}};Np=function(e){if(e.tag===13){var t=ga(e,134217728);if(t!==null){var n=vr();ki(t,e,134217728,n)}Qp(e,134217728)}};lg=function(e){if(e.tag===13){var t=is(e),n=ga(e,t);if(n!==null){var i=vr();ki(n,e,t,i)}Qp(e,t)}};cg=function(){return Jt};ug=function(e,t){var n=Jt;try{return Jt=e,t()}finally{Jt=n}};mf=function(e,t,n){switch(t){case"input":if(lf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=Pd(i);if(!a)throw Error(Be(90));q1(i),lf(i,a)}}}break;case"textarea":U1(e,n);break;case"select":t=n.value,t!=null&&Oo(e,!!n.multiple,t,!1)}};Y1=Wp;K1=qs;var my={usingClientEntryPoint:!1,Events:[Pc,Ao,Pd,J1,X1,Wp]},ql={findFiberByHostInstance:Is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gy={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:va.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eg(e),e===null?null:e.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||fy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{kd=Au.inject(gy),$i=Au}catch{}}Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=my;Yr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!em(t))throw Error(Be(200));return hy(e,t,null,n)};Yr.createRoot=function(e,t){if(!em(e))throw Error(Be(299));var n=!1,i="",a=T2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Kp(e,1,!1,null,null,n,!1,i,a),e[ma]=t.current,gc(e.nodeType===8?e.parentNode:e),new Zp(t)};Yr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Be(188)):(e=Object.keys(e).join(","),Error(Be(268,e)));return e=eg(t),e=e===null?null:e.stateNode,e};Yr.flushSync=function(e){return qs(e)};Yr.hydrate=function(e,t,n){if(!Rd(t))throw Error(Be(200));return Bd(null,e,t,!0,n)};Yr.hydrateRoot=function(e,t,n){if(!em(e))throw Error(Be(405));var i=n!=null&&n.hydratedSources||null,a=!1,s="",l=T2;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=I2(t,null,e,1,n??null,a,!1,s,l),e[ma]=t.current,gc(e),i)for(e=0;e<i.length;e++)n=i[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Od(t)};Yr.render=function(e,t,n){if(!Rd(t))throw Error(Be(200));return Bd(null,e,t,!1,n)};Yr.unmountComponentAtNode=function(e){if(!Rd(e))throw Error(Be(40));return e._reactRootContainer?(qs(function(){Bd(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0):!1};Yr.unstable_batchedUpdates=Wp;Yr.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Rd(n))throw Error(Be(200));if(e==null||e._reactInternals===void 0)throw Error(Be(38));return Bd(e,t,n,!1,i)};Yr.version="18.3.1-next-f1338f8080-20240426";function D2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D2)}catch(e){console.error(e)}}D2(),D1.exports=Yr;var xy=D1.exports,V0=xy;ef.createRoot=V0.createRoot,ef.hydrateRoot=V0.hydrateRoot;var vy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ny=(e,t)=>{const n=se.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,children:c,...d},p)=>se.createElement("svg",{ref:p,...vy,width:a,height:a,stroke:i,strokeWidth:l?Number(s)*24/Number(a):s,className:`lucide lucide-${yy(e)}`,...d},[...t.map(([x,m])=>se.createElement(x,m)),...(Array.isArray(c)?c:[c])||[]]));return n.displayName=`${e}`,n};var st=Ny;const Mr=st("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),H0=st("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]]),wy=st("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),G0=st("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Ya=st("Bot",[["rect",{width:"18",height:"10",x:"3",y:"11",rx:"2",key:"1ofdy3"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"M12 7v4",key:"xawao1"}],["line",{x1:"8",x2:"8",y1:"16",y2:"16",key:"h6x27f"}],["line",{x1:"16",x2:"16",y1:"16",y2:"16",key:"5lty7f"}]]),tm=st("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),M2=st("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Bi=st("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),W0=st("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),_u=st("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),by=st("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]),jy=st("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Sy=st("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),nm=st("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),$s=st("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Cy=st("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Jf=st("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ky=st("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),Ly=st("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Ay=st("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),J0=st("FolderPlus",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["line",{x1:"12",x2:"12",y1:"10",y2:"16",key:"3c25pp"}],["line",{x1:"9",x2:"15",y1:"13",y2:"13",key:"10hoct"}]]),Ei=st("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),_y=st("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),Xl=st("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),Py=st("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),No=st("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),rm=st("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Iy=st("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Ty=st("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Pu=st("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),z2=st("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),bd=st("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Dy=st("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),My=st("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]),$n=st("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),zy=st("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),zo=st("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),xr=st("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Yl=st("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),X0=st("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),Wa=st("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),E2=st("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Gr=st("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ey=st("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),im=st("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Y0=st("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]),Iu=st("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),bn=st("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),Fy=st("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),Oy=st("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),Yn=st("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),K0=st("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),F2=st("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ca=st("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Q0=st("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Pn=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ry=st("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Ge({className:e,...t}){return r.jsx("div",{className:`rounded-lg border bg-white text-card-foreground shadow-sm ${e}`,...t})}function mt({className:e,...t}){return r.jsx("div",{className:`flex flex-col space-y-1.5 p-6 ${e}`,...t})}function gt({className:e,...t}){return r.jsx("h3",{className:`text-2xl font-semibold leading-none tracking-tight ${e}`,...t})}function Je({className:e,...t}){return r.jsx("div",{className:`p-6 pt-0 ${e}`,...t})}function By({temperatures:e=[],cleaning:t=[],staff:n=[],products:i=[],currentUser:a}){const s=e.filter(d=>d.status==="ok").length,l=e.filter(d=>d.status==="danger").length,c=t.filter(d=>!d.completed).length;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(Ge,{children:r.jsx(Je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Bi,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:s}),r.jsx("p",{className:"text-sm text-gray-600",children:"Temperature OK"})]})]})})}),r.jsx(Ge,{children:r.jsx(Je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Mr,{className:"h-8 w-8 text-red-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:l}),r.jsx("p",{className:"text-sm text-gray-600",children:"Problemi Temp."})]})]})})}),r.jsx(Ge,{children:r.jsx(Je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx($n,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c}),r.jsx("p",{className:"text-sm text-gray-600",children:"Pulizie Pending"})]})]})})}),r.jsx(Ge,{children:r.jsx(Je,{className:"p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(tm,{className:"h-8 w-8 text-purple-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i.length}),r.jsx("p",{className:"text-sm text-gray-600",children:"Prodotti"})]})]})})})]}),r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{children:["Benvenuto, ",a==null?void 0:a.name,"!"]})}),r.jsxs(Je,{children:[r.jsx("p",{className:"text-gray-600",children:"Dashboard Business HACCP Manager"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Ruolo: ",(a==null?void 0:a.role)==="admin"?"Amministratore":"Dipendente"," • Reparto: ",a==null?void 0:a.department]})]})]}),r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(Mr,{className:"h-5 w-5 text-blue-600"}),"🆕 Nuove Funzionalità HACCP"]})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Validazione Automatica Prodotti-Frigoriferi"}),r.jsx("p",{className:"text-sm text-blue-700",children:"L'applicazione ora verifica automaticamente la compatibilità tra categorie di prodotti e punti di conservazione, prevenendo errori di conservazione e migliorando la sicurezza alimentare."})]}),r.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Gestione Categorie Personalizzate"}),r.jsx("p",{className:"text-sm text-green-700",children:"Puoi creare nuove categorie di prodotti direttamente dall'interfaccia, rendendo il sistema più flessibile e adattabile alle tue esigenze specifiche."})]}),r.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-purple-800 mb-2",children:"Prevenzione Contaminazioni"}),r.jsx("p",{className:"text-sm text-purple-700",children:"I frigoriferi possono essere dedicati a categorie specifiche, riducendo il rischio di contaminazioni incrociate e migliorando la tracciabilità."})]})]})})]})]})}const qy={default:"bg-primary-500 text-white hover:bg-primary-600",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-gray-300 bg-white hover:bg-gray-50",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100",link:"text-primary-500 underline-offset-4 hover:underline"},$y={default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10"};function ge({className:e,variant:t="default",size:n="default",asChild:i=!1,...a}){const s=i?"span":"button";return r.jsx(s,{className:`
        inline-flex items-center justify-center rounded-md text-sm font-medium
        ring-offset-background transition-colors focus-visible:outline-none
        focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
        disabled:pointer-events-none disabled:opacity-50
        ${qy[t]}
        ${$y[n]}
        ${e}
      `,...a})}function at({className:e,type:t,...n}){return r.jsx("input",{type:t,className:`
        flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2
        text-sm ring-offset-background file:border-0 file:bg-transparent
        file:text-sm file:font-medium placeholder:text-gray-500
        focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500
        focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50
        ${e}
      `,...n})}function Ke({className:e,...t}){return r.jsx("label",{className:`
        text-sm font-medium leading-none peer-disabled:cursor-not-allowed
        peer-disabled:opacity-70 ${e}
      `,...t})}function sc({label:e="Range Temperatura (°C)",minValue:t,maxValue:n,onMinChange:i,onMaxChange:a,minPlaceholder:s="min",maxPlaceholder:l="max",required:c=!1,showValidation:d=!0,showSuggestions:p=!0,compactMode:x=!1,className:m="",id:y="temperature-range"}){const[g,_]=se.useState(!1),b=parseFloat(t),A=parseFloat(n),N=t&&n&&!isNaN(b)&&!isNaN(A),w=N&&b<A,L=(ee,fe)=>{const H=(ee+fe)/2;return H<=-13.5?"Surgelato":H>=15?"Temperatura Ambiente":"Refrigerato"},J=(ee,fe)=>{const H=(ee+fe)/2;return H<0||H>8?"danger":H>=6&&H<=8?"warning":"ok"};return x?r.jsxs("div",{className:m,children:[r.jsxs(Ke,{htmlFor:y,children:[e," ",c&&"*"]}),r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg border",children:[r.jsx("span",{className:"text-gray-700 font-medium text-xs whitespace-nowrap",children:"da"}),r.jsx(at,{id:`${y}-min`,type:"number",step:"0.1",value:t||"",onChange:i,placeholder:s,className:"w-20 text-center font-medium text-sm",required:c}),r.jsx("span",{className:"text-gray-700 font-medium text-xs whitespace-nowrap",children:"°C"}),r.jsx("span",{className:"text-gray-700 font-medium text-xs whitespace-nowrap",children:"a"}),r.jsx(at,{id:`${y}-max`,type:"number",step:"0.1",value:n||"",onChange:a,placeholder:l,className:"w-20 text-center font-medium text-sm",required:c}),r.jsx("span",{className:"text-gray-700 font-medium text-xs whitespace-nowrap",children:"°C"})]}),d&&N&&!w&&r.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-xs",children:"⚠️ Min < Max"}),p&&r.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"💡 Carne (2-4°C), Pesce (0-2°C), Surgelati (-18°C)"})]}):r.jsxs("div",{className:m,children:[r.jsxs(Ke,{htmlFor:y,children:[e," ",c&&"*"]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border",children:[r.jsx("span",{className:"text-gray-700 font-medium text-sm whitespace-nowrap",children:"da"}),r.jsx(at,{id:`${y}-min`,type:"number",step:"0.1",value:t||"",onChange:i,placeholder:s,className:"w-24 text-center font-medium",required:c}),r.jsx("span",{className:"text-gray-700 font-medium text-sm whitespace-nowrap",children:"°C"}),r.jsx("span",{className:"text-gray-700 font-medium text-sm whitespace-nowrap",children:"a"}),r.jsx(at,{id:`${y}-max`,type:"number",step:"0.1",value:n||"",onChange:a,placeholder:l,className:"w-24 text-center font-medium",required:c}),r.jsx("span",{className:"text-gray-700 font-medium text-sm whitespace-nowrap",children:"°C"})]}),d&&N&&r.jsxs("div",{className:"mt-2",children:[r.jsxs("button",{type:"button",onClick:()=>_(!g),className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800 transition-colors",children:[g?r.jsx(Sy,{className:"h-4 w-4"}):r.jsx(jy,{className:"h-4 w-4"}),r.jsx(rm,{className:"h-4 w-4"}),"Dettagli temperatura"]}),g&&r.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"text-sm text-blue-700 space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Tipo: "}),r.jsx("span",{children:L(b,A)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Stato: "}),r.jsx("span",{children:J(b,A)==="ok"?"✅ Normale":J(b,A)==="warning"?"⚠️ Attenzione":"🚨 Critica"})]}),!w&&r.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-xs",children:"⚠️ La temperatura minima deve essere inferiore alla massima"})]})})]}),p&&r.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"💡 Suggerimenti: Carne fresca (2-4°C), Pesce (0-2°C), Surgelati (-18°C), Ambiente (15-25°C)"})]})}function Uy({cleaning:e,setCleaning:t,temperatures:n,setTemperatures:i,currentUser:a,refrigerators:s=[],setRefrigerators:l}){const c=e||[],d=n||[],[p,x]=se.useState({task:"",assignee:"",frequency:""}),[m,y]=se.useState({location:"",temperatureMin:"",temperatureMax:""}),[g,_]=se.useState("daily");se.useEffect(()=>{localStorage.setItem("haccp-cleaning",JSON.stringify(c))},[c]),se.useEffect(()=>{localStorage.setItem("haccp-temperatures",JSON.stringify(d))},[d]);const b=(E,$)=>{const re=(E+$)/2;return re<0||re>8?"danger":re>=6&&re<=8?"warning":"ok"},A=E=>{if(E.preventDefault(),!p.task||!p.assignee||!p.frequency){alert("Compila tutti i campi richiesti");return}const $={id:Date.now().toString(),task:p.task,assignee:p.assignee,frequency:p.frequency,date:new Date().toLocaleDateString("it-IT"),completed:!1,completedAt:null,completedBy:null},re=[...c,$];t(re),localStorage.setItem("haccp-cleaning",JSON.stringify(re)),x({task:"",assignee:"",frequency:""})},N=E=>{var he;if(E.preventDefault(),!m.temperature||!m.refrigeratorId){alert("Compila tutti i campi richiesti");return}const $=parseFloat(m.temperature),re=parseFloat(m.temperatureMin),ue=parseFloat(m.temperatureMax);if(isNaN($)||isNaN(re)||isNaN(ue)){alert("Inserisci valori numerici validi per le temperature");return}const ye={id:Date.now().toString(),temperature:$,temperatureMin:re,temperatureMax:ue,refrigeratorId:m.refrigeratorId,refrigeratorName:((he=s.find(ne=>ne.id===m.refrigeratorId))==null?void 0:he.name)||"Sconosciuto",date:new Date().toLocaleString("it-IT"),status:b(re,ue),recordedBy:(a==null?void 0:a.name)||"Unknown"},X=[...d,ye];i(X),localStorage.setItem("haccp-temperatures",JSON.stringify(X)),y({temperature:"",refrigeratorId:"",temperatureMin:"",temperatureMax:""})},w=E=>{const $=c.map(re=>re.id===E?{...re,completed:!re.completed,completedAt:re.completed?null:new Date().toLocaleString("it-IT"),completedBy:re.completed?null:(a==null?void 0:a.name)||"Unknown"}:re);t($),localStorage.setItem("haccp-cleaning",JSON.stringify($))},L=E=>{const $=c.filter(re=>re.id!==E);t($),localStorage.setItem("haccp-cleaning",JSON.stringify($))},J=c.filter(E=>!E.completed),ee=c.filter(E=>E.completed),H=(()=>{const E=new Date,$=new Date(E.getFullYear(),E.getMonth(),E.getDate());return c.filter(re=>{if(re.completed)return!1;const ue=new Date(re.date.split("/").reverse().join("-"));switch(re.frequency){case"daily":const ye=new Date($);return ye.setDate(ye.getDate()-1),ue<=ye;case"weekly":const X=new Date($);return X.setDate(X.getDate()-7),ue<=X;case"monthly":const he=new Date($);return he.setMonth(he.getMonth()-1),ue<=he;case"yearly":const ne=new Date($);return ne.setFullYear(ne.getFullYear()-1),ue<=ne;default:const Le=new Date($);return Le.setDate(Le.getDate()-7),ue<=Le}})})(),R=(J||[]).filter(E=>E.frequency==="daily"),te=(J||[]).filter(E=>E.frequency==="weekly"),oe=(J||[]).filter(E=>E.frequency==="monthly"),D=(J||[]).filter(E=>E.frequency==="yearly"),z=(a==null?void 0:a.role)==="admin";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(im,{className:"h-5 w-5"}),"Nuove Attività / Mansioni"]})}),r.jsx(Je,{children:r.jsxs("form",{onSubmit:A,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ke,{htmlFor:"task",children:"Attività"}),r.jsx(at,{id:"task",placeholder:"Es: Pulizia frigorifero, Sanificazione piano lavoro...",value:p.task,onChange:E=>x({...p,task:E.target.value}),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ke,{htmlFor:"assignee",children:"Assegnato a"}),r.jsx(at,{id:"assignee",placeholder:"Nome del responsabile",value:p.assignee,onChange:E=>x({...p,assignee:E.target.value}),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ke,{htmlFor:"frequency",children:"Frequenza"}),r.jsxs("select",{id:"frequency",value:p.frequency,onChange:E=>x({...p,frequency:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:"-- Seleziona Frequenza --"}),r.jsx("option",{value:"daily",children:"Giornalmente"}),r.jsx("option",{value:"weekly",children:"Settimanalmente"}),r.jsx("option",{value:"monthly",children:"Mensilmente"}),r.jsx("option",{value:"yearly",children:"Annualmente"}),(a==null?void 0:a.role)==="admin"&&r.jsx("option",{value:"all",children:"Tutti"})]})]})]}),r.jsx(ge,{type:"submit",className:"w-full",children:"Aggiungi Attività"})]})})]}),r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{children:["Attività da Svolgere (",J.length,")"]})}),r.jsx(Je,{children:J.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Bi,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),r.jsx("p",{children:"Nessuna attività da svolgere"}),r.jsx("p",{className:"text-sm",children:"Tutte le attività sono completate!"})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{onClick:()=>_("daily"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${g==="daily"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Giornaliere (",R.length,")"]}),r.jsxs("button",{onClick:()=>_("weekly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${g==="weekly"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Settimanali (",te.length,")"]}),r.jsxs("button",{onClick:()=>_("monthly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${g==="monthly"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Mensili (",oe.length,")"]}),r.jsxs("button",{onClick:()=>_("yearly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${g==="yearly"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Annuali (",D.length,")"]}),(a==null?void 0:a.role)==="admin"&&r.jsxs("button",{onClick:()=>_("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${g==="all"?"bg-white text-gray-700 border-2 border-blue-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Tutti (",J.length,")"]})]}),r.jsx("div",{className:"space-y-3",children:(()=>{let E=[];switch(g){case"daily":E=R;break;case"weekly":E=te;break;case"monthly":E=oe;break;case"yearly":E=D;break;case"all":E=J;break;default:E=R}return E.map($=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium",children:$.task}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Assegnato a: ",$.assignee," • ",$.date]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ge,{size:"sm",onClick:()=>w($.id),className:"bg-green-600 hover:bg-green-700 p-2 md:p-1",children:[r.jsx(Bi,{className:"h-6 w-6 md:h-4 md:w-4 mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:"Completata"})]}),z&&r.jsx(ge,{size:"sm",variant:"outline",onClick:()=>L($.id),className:"text-red-600 hover:text-red-700 p-2 md:p-1",children:r.jsx(Yn,{className:"h-6 w-6 md:h-4 md:w-4"})})]})]},$.id))})()})]})})]}),ee.length>0&&r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center justify-between",children:["Attività Completate (",ee.length,")",z&&r.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>{confirm("Sei sicuro di voler eliminare tutte le attività completate? Questa azione non può essere annullata.")&&t(c.filter(E=>!E.completed))},className:"text-red-600 hover:text-red-700",children:[r.jsx(Yn,{className:"h-4 w-4 mr-2"}),"Elimina Tutte"]})]})}),r.jsx(Je,{children:r.jsx("div",{className:"space-y-3",children:ee.map(E=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-green-50",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium line-through",children:E.task}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Assegnato a: ",E.assignee," • Completata: ",E.completedAt,E.completedBy&&r.jsxs("span",{className:"ml-2 text-blue-600",children:["• Completata da: ",E.completedBy]})]})]}),z&&r.jsx(ge,{size:"sm",variant:"outline",onClick:()=>L(E.id),className:"text-red-600 hover:text-red-700 p-2 md:p-1",children:r.jsx(Yn,{className:"h-6 w-6 md:h-4 md:w-4"})})]},E.id))})})]}),r.jsxs(Ge,{children:[r.jsxs(mt,{children:[r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(bn,{className:"h-5 w-5"}),"Registra Temperatura Frigorifero/Freezer"]}),a&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Registrando come: ",r.jsx("span",{className:"font-medium",children:a.name})," (",a.department,")"]})]}),r.jsx(Je,{children:r.jsxs("form",{onSubmit:N,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"temp-location",children:"Frigorifero / Freezer"}),s.length===0?r.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-yellow-800",children:'Nessun punto di conservazione registrato. Aggiungi prima un punto di conservazione nella sezione "Punti di Conservazione".'})}):r.jsxs("select",{id:"temp-location",value:m.location,onChange:E=>y({...m,location:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:"-- Seleziona Frigorifero/Freezer --"}),s.map(E=>r.jsxs("option",{value:E.name,children:[E.name," (",E.location||"Posizione non specificata",")"]},E.id))]})]}),r.jsx("div",{children:r.jsx(sc,{label:"Range Temperatura (°C)",minValue:m.temperatureMin,maxValue:m.temperatureMax,onMinChange:E=>y({...m,temperatureMin:E.target.value}),onMaxChange:E=>y({...m,temperatureMax:E.target.value}),required:!0,showValidation:!0,showSuggestions:!0,className:"w-full",id:"temp-temperature-range"})})]}),r.jsxs(ge,{type:"submit",className:"w-full md:w-auto",disabled:s.length===0,children:[r.jsx(bn,{className:"mr-2 h-4 w-4"}),"Registra Temperatura"]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(Ge,{children:r.jsx(Je,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Mansioni da Svolgere"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:J.length})]}),r.jsx(nm,{className:"h-10 w-10 md:h-8 md:w-8 text-yellow-500"})]})})}),r.jsx(Ge,{children:r.jsx(Je,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Mansioni Completate"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:ee.length})]}),r.jsx(Bi,{className:"h-10 w-10 md:h-8 md:w-8 text-green-500"})]})})}),r.jsx(Ge,{children:r.jsx(Je,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Mansioni Mancate"}),r.jsx("p",{className:`text-2xl font-bold ${H.length>0?"text-red-600":"text-green-600"}`,children:H.length}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"(ultimi 7 giorni)"})]}),H.length>0?r.jsx(Mr,{className:"h-10 w-10 md:h-8 md:w-8 text-red-500"}):r.jsx(Bi,{className:"h-10 w-10 md:h-8 md:w-8 text-green-500"})]})})}),r.jsx(Ge,{children:r.jsx(Je,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Temperature da Monitorare"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:d.filter(E=>E.status==="danger"||E.status==="warning").length})]}),r.jsx(Mr,{className:"h-10 w-10 md:h-8 md:w-8 text-red-500"})]})})})]})]})}const Z0=[{food_item:"Carne fresca (bovino/suino/ovino)",conservation_category:"refrigerated",temp_celsius:"2-7°C",temp_range:{min:2,max:7},notes:"Offal a 2-3°C; dopo ispezione va raffreddata",legal_reference:"Reg. 853/2004, All. III, Sez. I, Cap. VII",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Frattaglie (offal)",conservation_category:"refrigerated",temp_celsius:"1-3°C",temp_range:{min:1,max:3},notes:"Applicare stesso schema trasporto/stoccaggio carni",legal_reference:"Reg. 853/2004, All. III, Sez. I, Cap. VII",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Carne di pollame fresca",conservation_category:"refrigerated",temp_celsius:"2-4°C",temp_range:{min:2,max:4},notes:"Valore operativo coerente con requisiti per lavorazione/macinati",legal_reference:"Reg. 853/2004, All. III, Sez. V, Cap. III",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Carni macinate (tutte)",conservation_category:"refrigerated",temp_celsius:"0-2°C",temp_range:{min:0,max:2},notes:"Dopo produzione; mantenere in trasporto/stoccaggio",legal_reference:"Reg. 853/2004, All. III, Sez. V, Cap. III",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Preparazioni di carne (non macinate)",conservation_category:"refrigerated",temp_celsius:"2-4°C",temp_range:{min:2,max:4},notes:"Dopo produzione; mantenere in trasporto/stoccaggio",legal_reference:"Reg. 853/2004, All. III, Sez. V, Cap. III",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Carni (tutte) – surgelate",conservation_category:"frozen",temp_celsius:"-18°C",temp_range:{min:-18,max:-18},notes:"Non ricongelare dopo decongelamento",legal_reference:"Direttiva 89/108/CEE (surgelati)",reference_link:"https://eur-lex.europa.eu/legal-content/IT/ALL/?uri=celex:31989L0108"},{food_item:"Pesce fresco",conservation_category:"refrigerated",temp_celsius:"0-2°C",temp_range:{min:0,max:2},notes:"Vicina al ghiaccio in fusione; tenere separata l'acqua di fusione",legal_reference:"Reg. 853/2004, All. III, Sez. VIII, Cap. VII",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Prodotti della pesca surgelati",conservation_category:"frozen",temp_celsius:"-18°C",temp_range:{min:-18,max:-18},notes:"Ammesse brevi fluttuazioni +3°C nel trasporto",legal_reference:"Reg. 853/2004, All. III, Sez. VIII, Cap. VII-VIII",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Crostacei/molluschi cotti e refrigerati",conservation_category:"refrigerated",temp_celsius:"0-2°C",temp_range:{min:0,max:2},notes:"Vicina al ghiaccio in fusione; raffreddare al più presto",legal_reference:"Reg. 853/2004, All. III, Sez. VIII, Cap. VII",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Pesce per consumo crudo (sushi, marinati)",conservation_category:"frozen",temp_celsius:"-20°C per ≥24h O -35°C per ≥15h",temp_range:{min:-35,max:-20},notes:"Trattamento di bonifica parassiti",legal_reference:"Reg. 853/2004, All. III, Sez. VIII, Cap. III, Parte D",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Latte crudo (accettazione in stabilimento)",conservation_category:"refrigerated",temp_celsius:"2-6°C",temp_range:{min:2,max:6},notes:"Può restare >6°C se lavorato subito/entro 4h",legal_reference:"Reg. 853/2004, All. III, Sez. IX, Cap. II",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Ovoprodotti (liquidi)",conservation_category:"refrigerated",temp_celsius:"≤4",notes:"Max 48h a 4°C prima della trasformazione, se non stabilizzati",legal_reference:"Reg. 853/2004, All. III, Sez. X, Cap. II-III",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Uova in guscio",conservation_category:"ambient",temp_celsius:"temperatura idonea e costante",notes:"Evitare sbalzi termici; proteggere da sole/odori",legal_reference:"Reg. 853/2004, All. III, Sez. X, Cap. I",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Piatti pronti caldi (hot holding)",conservation_category:"hot-holding",temp_celsius:"60–65",notes:"Servizio caldo: mantenere ≥+60°C",legal_reference:"DPR 327/80 Art. 31 (riepiloghi ASL)",reference_link:"https://sian.aulss9.veneto.it/Temperatura-di-conservazione"},{food_item:"Alimenti facilmente deperibili (generico)",conservation_category:"refrigerated",temp_celsius:"4",notes:"Valore guida storico nazionale",legal_reference:"DPR 327/80 Art. 32 (riepiloghi)",reference_link:"https://www.istitutosurgelati.it/wp-content/uploads/2016/05/temperature-prodotti-alimentari.pdf"},{food_item:"Frutta e verdura (non RTE)",conservation_category:"ambient",temp_celsius:"secondo etichetta/merceologia",notes:"Rispettare indicazioni del produttore",legal_reference:"Reg. 852/2004 (principi generali + etichetta)",reference_link:"https://eur-lex.europa.eu/LexUriServ/LexUriServ.do?uri=OJ:L:2004:139:0001:0054:it:PDF"},{food_item:"Insalate pronte al consumo (IV gamma)",conservation_category:"refrigerated",temp_celsius:"4–5",notes:"Spesso etichetta impone ≤5°C",legal_reference:"Etichetta del produttore + prassi ASL",reference_link:"https://www.frareg.com/it/newsqualita/temperatura-frigo-haccp-come-conservare-gli-alimenti/"},{food_item:"Prodotti surgelati (tutti)",conservation_category:"frozen",temp_celsius:"-18",notes:"Catena del freddo continua",legal_reference:"Direttiva 89/108/CEE (surgelati)",reference_link:"https://eur-lex.europa.eu/legal-content/IT/ALL/?uri=celex:31989L0108"},{food_item:"Mozzarella di Bufala",conservation_category:"refrigerated",temp_celsius:"4-5",notes:"Formaggio fresco, mantenere umidità",legal_reference:"Reg. 853/2004 + DPR 327/80",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Parmigiano Reggiano",conservation_category:"ambient",temp_celsius:"15-18",notes:"Formaggio stagionato, ambiente fresco e asciutto",legal_reference:"Reg. 853/2004 + DPR 327/80",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Prosciutto Crudo",conservation_category:"refrigerated",temp_celsius:"2-4",notes:"Salume stagionato, evitare condensa",legal_reference:"Reg. 853/2004 + DPR 327/80",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Salmone",conservation_category:"refrigerated",temp_celsius:"0-2",notes:"Pesce fresco, vicino al ghiaccio",legal_reference:"Reg. 853/2004, All. III, Sez. VIII",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Pesce Surgelato",conservation_category:"frozen",temp_celsius:"-18",notes:"Catena del freddo continua, non ricongelare",legal_reference:"Direttiva 89/108/CEE (surgelati)",reference_link:"https://eur-lex.europa.eu/legal-content/IT/ALL/?uri=celex:31989L0108"},{food_item:"Prodotti della pesca destinati al consumo crudo",conservation_category:"frozen",temp_celsius:"-20 per ≥24h O -35 per ≥15h",notes:"Trattamento di bonifica parassiti obbligatorio",legal_reference:"Reg. 853/2004, All. III, Sez. VIII, Cap. III, Parte D",reference_link:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853"},{food_item:"Insalate pronte al consumo (IV gamma)",conservation_category:"refrigerated",temp_celsius:"4–5",notes:"Spesso etichetta impone ≤5°C",legal_reference:"Etichetta del produttore + prassi ASL",reference_link:"https://www.frareg.com/it/newsqualita/temperatura-frigo-haccp-come-conservare-gli-alimenti/"},{food_item:"Frutta e verdura (non RTE)",conservation_category:"ambient",temp_celsius:"secondo etichetta/merceologia",notes:"Rispettare indicazioni del produttore",legal_reference:"Reg. 852/2004 (principi generali + etichetta)",reference_link:"https://eur-lex.europa.eu/LexUriServ/LexUriServ.do?uri=OJ:L:2004:139:0001:0054:it:PDF"}],O2=e=>{const t=e.toLowerCase().trim(),n=Z0.filter(i=>i.food_item.toLowerCase().includes(t)||t.includes(i.food_item.toLowerCase().split(" ")[0])||t.includes(i.food_item.toLowerCase().split(" ")[1]));if(n.length===0){const i={latticini:["latte","formaggio","mozzarella","parmigiano","ricotta"],carni:["carne","salume","prosciutto","salame","bresaola"],pesce_fresco:["pesce","salmone","branzino","vongole"],pesce_surgelato:["pesce surgelato","gamberi surgelati"],surgelati:["surgelato","gelato","spinaci surgelati"],verdure:["verdura","insalata","pomodoro","zucchina"],frutta:["frutta","mela","arancia","limone"],ambiente:["biscotti","crackers","pane","scatolame","pasta secca","riso","farina"]};for(const[a,s]of Object.entries(i))if(s.some(l=>t.includes(l)))return Z0.filter(c=>R2(c.food_item)===a)}return n},R2=e=>{const t=e.toLowerCase();return t.includes("carne")||t.includes("salume")||t.includes("prosciutto")?"carni":t.includes("pesce")&&t.includes("surgelato")?"pesce_surgelato":t.includes("pesce")||t.includes("vongole")||t.includes("molluschi")?"pesce_fresco":t.includes("surgelato")||t.includes("gelato")?"surgelati":t.includes("latte")||t.includes("formaggio")||t.includes("mozzarella")?"latticini":t.includes("verdura")||t.includes("insalata")||t.includes("pomodoro")?"verdure":t.includes("frutta")||t.includes("mela")||t.includes("arancia")?"frutta":t.includes("pasta")||t.includes("riso")||t.includes("farina")?"dispensa":t.includes("olio")||t.includes("aceto")||t.includes("spezie")?"condimenti":t.includes("biscotti")||t.includes("crackers")||t.includes("pane")||t.includes("scatolame")?"ambiente":"altro"},Cc=e=>({latticini:{min:4,max:6,unit:"°C",type:"refrigerated"},carni:{min:2,max:4,unit:"°C",type:"refrigerated"},pesce_fresco:{min:0,max:2,unit:"°C",type:"refrigerated"},pesce_surgelato:{min:-18,max:-18,unit:"°C",type:"frozen"},surgelati:{min:-18,max:-18,unit:"°C",type:"frozen"},verdure:{min:6,max:8,unit:"°C",type:"refrigerated"},frutta:{min:6,max:8,unit:"°C",type:"refrigerated"},dispensa:{min:15,max:25,unit:"°C",type:"ambient"},condimenti:{min:15,max:25,unit:"°C",type:"ambient"},ambiente:{min:15,max:25,unit:"°C",type:"ambient"}})[e]||{min:4,max:8,unit:"°C",type:"refrigerated"},Vy=(e,t)=>{const n=O2(e);if(n.length===0)return null;const i=n[0],a=R2(i.food_item),s=Cc(a);let l=null,c=-1;return t.forEach(d=>{const p=parseFloat(d.setTemperature);if(isNaN(p))return;let x=0;s.type==="frozen"&&p<=-13.5?x+=100-Math.abs(p-s.min):s.type==="refrigerated"&&p>=-2.5&&p<=14?x+=100-Math.abs(p-(s.min+s.max)/2):s.type==="ambient"&&p>=15&&p<=25&&(x+=100-Math.abs(p-20)),d.dedicatedTo===a&&(x+=50),x>c&&(c=x,l=d)}),{refrigerator:l,suggestions:n,optimalTemperature:s,score:c}},ks=[{id:"latticini",name:"Latticini e Formaggi",description:"Latte, formaggi freschi e stagionati"},{id:"carni",name:"Carni e Salumi",description:"Carni crude, salumi, pollame"},{id:"verdure",name:"Verdure e Ortaggi",description:"Verdure fresche, ortaggi, insalate"},{id:"frutta",name:"Frutta Fresca",description:"Frutta fresca di stagione"},{id:"pesce_fresco",name:"Pesce Fresco",description:"Pesce fresco, molluschi, crostacei"},{id:"pesce_surgelato",name:"Pesce Surgelato",description:"Pesce e prodotti della pesca surgelati"},{id:"surgelati",name:"Surgelati",description:"Tutti i prodotti surgelati"},{id:"dispensa",name:"Dispensa Secca",description:"Pasta, riso, farina, conserve"},{id:"condimenti",name:"Oli e Condimenti",description:"Oli, aceti, spezie, salse"},{id:"hot_holding",name:"Mantenimento Caldo",description:"Piatti pronti caldi, mantenuti a temperatura"},{id:"ambiente",name:"Temperatura Ambiente",description:"Prodotti conservati a temperatura ambiente (15-25°C)"},{id:"altro",name:"Altro",description:"Altre categorie di prodotti"}];function Hy({temperatures:e,setTemperatures:t,currentUser:n,refrigerators:i,setRefrigerators:a}){var Z,K,le;const[s,l]=se.useState(!1),[c,d]=se.useState(!1),[p,x]=se.useState(null),[m,y]=se.useState({name:"",setTemperatureMin:"",setTemperatureMax:"",location:"",dedicatedTo:"",nextMaintenance:""}),[g,_]=se.useState(""),[b,A]=se.useState(null),[N,w]=se.useState(!1),[L,J]=se.useState([]),[ee,fe]=se.useState(!1),[H,R]=se.useState({name:"",description:"",temperatureMin:"",temperatureMax:"",notes:""}),te=[...ks,...L];se.useEffect(()=>{const j=localStorage.getItem("customStorageCategories");if(j)try{J(JSON.parse(j))}catch(V){console.error("Errore nel caricamento delle categorie personalizzate:",V)}},[]),se.useEffect(()=>{localStorage.setItem("customStorageCategories",JSON.stringify(L))},[L]);const oe=()=>{if(!H.name.trim()||!H.description.trim()){alert("Nome e descrizione sono obbligatori");return}if(H.temperatureMin&&H.temperatureMax){const V=parseFloat(H.temperatureMin),F=parseFloat(H.temperatureMax);if(isNaN(V)||isNaN(F)){alert("Inserisci temperature valide");return}if(V>=F){alert("La temperatura minima deve essere inferiore alla temperatura massima");return}}const j={id:`custom_${Date.now()}`,name:H.name.trim(),description:H.description.trim(),temperatureMin:H.temperatureMin?parseFloat(H.temperatureMin):null,temperatureMax:H.temperatureMax?parseFloat(H.temperatureMax):null,temperatureRange:H.temperatureMin&&H.temperatureMax?`${H.temperatureMin}-${H.temperatureMax}°C`:"",notes:H.notes.trim(),isCustom:!0,createdAt:new Date().toISOString()};J(V=>{const F=[...V,j];return console.log("🔍 Categorie aggiornate:",F),F}),R({name:"",description:"",temperatureMin:"",temperatureMax:"",notes:""}),fe(!1),alert(`Categoria "${j.name}" aggiunta con successo!`)},D=j=>{confirm("Sei sicuro di voler eliminare questa categoria? I frigoriferi che la utilizzano non avranno più una categoria assegnata.")&&(a(V=>V.map(F=>F.dedicatedTo===j?{...F,dedicatedTo:""}:F)),J(V=>V.filter(F=>F.id!==j)))},z=j=>{let V=0;if(typeof j=="object"&&j.setTemperatureMin!==void 0&&j.setTemperatureMax!==void 0)V=(j.setTemperatureMin+j.setTemperatureMax)/2;else if(typeof j=="string"){const F=j.replace("°C","").trim();V=parseFloat(F)}else typeof j=="number"&&(V=j);return isNaN(V)?"N/A":V<-13.5&&V>=-80?"Abbattitore":V<-2.5&&V>=-13.5?"Freezer":V>=-2.5&&V<=0||V>0&&V<=14?"Frigo":V>=15&&V<=25?"Ambiente":"N/A"},E=j=>{A(j),w(!0)},$=j=>e.filter(V=>V.location.toLowerCase().includes(j.name.toLowerCase())).sort((V,F)=>new Date(F.timestamp)-new Date(V.timestamp)),re=j=>{var Me;if(j.preventDefault(),!m.name.trim()||!m.setTemperatureMin.trim()||!m.setTemperatureMax.trim())return;const V=i.find(xe=>xe.name.toLowerCase()===m.name.trim().toLowerCase());if(V){alert(`Un punto di conservazione con questo nome esiste già: "${V.name}" (creato il ${new Date(V.createdAt).toLocaleDateString("it-IT")}). Scegli un nome diverso.`);return}const F=parseFloat(m.setTemperatureMin),ae=parseFloat(m.setTemperatureMax);if(isNaN(F)||isNaN(ae)||F>=ae){alert("Inserisci un range di temperatura valido (min < max)");return}if(m.dedicatedTo&&m.dedicatedTo!=="altro"){const xe=Cc(m.dedicatedTo),W=(F+ae)/2;if(Math.abs(W-(xe.min+xe.max)/2)>5){const Xe=(Me=ks.find(Ee=>Ee.id===m.dedicatedTo))==null?void 0:Me.name;if(!confirm(`⚠️ ATTENZIONE: Temperatura non ottimale!

Hai impostato: ${F}-${ae}°C
Temperatura ottimale per ${Xe}: ${xe.min}-${xe.max}°C

Questa temperatura potrebbe non essere adatta per la conservazione ottimale degli alimenti di questa categoria.

Vuoi continuare comunque?`))return}}const be={id:Date.now(),name:m.name.trim(),setTemperatureMin:F,setTemperatureMax:ae,setTemperature:`${F}-${ae}°C`,location:m.location.trim(),dedicatedTo:m.dedicatedTo.trim(),nextMaintenance:m.nextMaintenance.trim(),createdAt:new Date().toISOString(),createdBy:(n==null?void 0:n.name)||"Unknown"};a([...i,be]),y({name:"",setTemperatureMin:"",setTemperatureMax:"",location:"",dedicatedTo:"",nextMaintenance:""}),l(!1)},ue=j=>{confirm("Sei sicuro di voler eliminare questo punto di conservazione?")&&a(i.filter(V=>V.id!==j))},ye=j=>{x(j);let V="",F="";if(j.setTemperatureMin&&j.setTemperatureMax)V=j.setTemperatureMin.toString(),F=j.setTemperatureMax.toString();else if(j.setTemperature){const ae=parseFloat(j.setTemperature);isNaN(ae)||(V=ae.toString(),F=ae.toString())}y({name:j.name,setTemperatureMin:V,setTemperatureMax:F,location:j.location||"",dedicatedTo:j.dedicatedTo||"",nextMaintenance:j.nextMaintenance||""}),d(!0)},X=j=>{var Me,xe;if(j.preventDefault(),!m.name.trim()||!m.setTemperatureMin.trim()||!m.setTemperatureMax.trim())return;if(i.find(W=>W.id!==p.id&&W.name.toLowerCase()===m.name.trim().toLowerCase())){alert("Un punto di conservazione con questo nome esiste già. Scegli un nome diverso.");return}const F=parseFloat(m.setTemperatureMin),ae=parseFloat(m.setTemperatureMax);if(isNaN(F)||isNaN(ae)||F>=ae){alert("Inserisci un range di temperatura valido (min < max)");return}if(m.dedicatedTo&&m.dedicatedTo!=="altro"){const W=Cc(m.dedicatedTo);if(F<=W.max&&ae>=W.min||W.min<=ae&&W.max>=F){if(Math.abs(F-W.min)>2||Math.abs(ae-W.max)>2){const Xe=(xe=ks.find(Ee=>Ee.id===m.dedicatedTo))==null?void 0:xe.name;if(!confirm(`⚠️ ATTENZIONE: Temperatura non ottimale!

Hai impostato: ${F}-${ae}°C
Temperatura ottimale per ${Xe}: ${W.min}-${W.max}°C

Questa temperatura è compatibile ma potrebbe non essere ideale per la conservazione ottimale.

Vuoi continuare comunque?`))return}}else{const Xe=(Me=ks.find(Ee=>Ee.id===m.dedicatedTo))==null?void 0:Me.name;if(!confirm(`🚨 ERRORE: Temperatura INCOMPATIBILE!

Hai impostato: ${F}-${ae}°C
Temperatura ottimale per ${Xe}: ${W.min}-${W.max}°C

Questo range di temperatura NON è adatto per la conservazione degli alimenti di questa categoria.

Vuoi continuare comunque? (Non raccomandato)`))return}}const be={...p,name:m.name.trim(),setTemperatureMin:F,setTemperatureMax:ae,setTemperature:`${F}-${ae}°C`,location:m.location.trim(),dedicatedTo:m.dedicatedTo.trim(),nextMaintenance:m.nextMaintenance.trim(),updatedAt:new Date().toISOString(),updatedBy:(n==null?void 0:n.name)||"Unknown"};a(i.map(W=>W.id===p.id?be:W)),y({name:"",setTemperatureMin:"",setTemperatureMax:"",location:"",dedicatedTo:"",nextMaintenance:""}),x(null),d(!1)},he=j=>j.setTemperatureMin!==void 0&&j.setTemperatureMax!==void 0?`${j.setTemperatureMin}-${j.setTemperatureMax}°C`:j.setTemperature?j.setTemperature:"N/A",ne=j=>{if(j.setTemperatureMin!==void 0&&j.setTemperatureMax!==void 0)return(j.setTemperatureMin+j.setTemperatureMax)/2;if(j.setTemperature){const V=j.setTemperature.toString().replace("°C","").trim();return parseFloat(V)}return 0},Le=j=>{const V=e.filter(be=>be.location.toLowerCase().includes(j.name.toLowerCase())).sort((be,Me)=>new Date(Me.timestamp)-new Date(be.timestamp))[0];if(!V)return"no-data";const F=ne(j);if(isNaN(F)||F===0)return"no-data";const ae=Math.abs(V.temperature-F);return ae<=1?"green":ae<=1.5?"orange":ae>=2?"red":"orange"},k=j=>{const V={green:"bg-green-500",orange:"bg-orange-500",red:"bg-red-500","no-data":"bg-gray-400"};return r.jsx("div",{className:`w-3 h-3 rounded-full ${V[j]}`})},q=j=>({green:"Temperatura OK",orange:"Attenzione",red:"Critica","no-data":"Nessun dato"})[j],G=i.filter(j=>j.name.toLowerCase().includes(g.toLowerCase())||j.location.toLowerCase().includes(g.toLowerCase())),Y=e.filter(j=>i.some(V=>j.location.toLowerCase().includes(V.name.toLowerCase()))).sort((j,V)=>new Date(V.timestamp)-new Date(j.timestamp));return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(bn,{className:"h-5 w-5"}),"Punti di Conservazione"]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(ge,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[r.jsx(xr,{className:"h-4 w-4"}),"Aggiungi Punto di Conservazione"]})})]})}),r.jsxs(Je,{children:[r.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"text-blue-600 mt-1",children:r.jsx(Mr,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"🆕 Nuova Logica di Gestione"}),r.jsx("p",{className:"text-sm text-blue-700 mb-2",children:"Ora puoi assegnare categorie specifiche ai punti di conservazione per garantire la corretta gestione HACCP:"}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 list-disc list-inside",children:[r.jsx("li",{children:"Assegna categorie ai frigoriferi per limitare i tipi di prodotti"}),r.jsx("li",{children:"Previeni errori di conservazione e contaminazioni"}),r.jsx("li",{children:"Migliora la tracciabilità e la sicurezza alimentare"}),r.jsx("li",{children:"L'applicazione valida automaticamente la compatibilità"})]})]})]})}),L.length>0&&r.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"text-green-600",children:r.jsx(xr,{className:"h-5 w-5"})}),r.jsx("h3",{className:"font-medium text-green-800",children:"📋 Categorie Personalizzate"})]}),r.jsxs("span",{className:"text-sm text-green-600 bg-green-100 px-2 py-1 rounded-full",children:[L.length," categoria",L.length===1?"a":"e"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:L.map(j=>r.jsxs("div",{className:"p-3 bg-white border border-green-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-green-800",children:j.name}),r.jsx("p",{className:"text-sm text-green-700",children:j.description}),j.temperatureRange&&r.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["🌡️ ",j.temperatureRange]}),j.notes&&r.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["📝 ",j.notes]})]}),r.jsx(ge,{size:"sm",variant:"outline",onClick:()=>D(j.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",title:"Elimina categoria",children:r.jsx(Yn,{className:"h-3 w-3"})})]}),r.jsxs("div",{className:"text-xs text-green-500",children:["Creata il ",new Date(j.createdAt).toLocaleDateString("it-IT")]})]},j.id))})]}),i.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(bn,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("p",{children:"Nessun punto di conservazione registrato"}),r.jsx("p",{className:"text-sm",children:"Aggiungi il primo punto di conservazione per iniziare"})]}):r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[r.jsxs("h3",{className:"font-semibold text-blue-800 mb-3 flex items-center gap-2",children:[r.jsx(bn,{className:"h-4 w-4"}),"Frigoriferi"]}),r.jsxs("div",{className:"space-y-2",children:[G.filter(j=>{let V=0;if(j.setTemperatureMin!==void 0&&j.setTemperatureMax!==void 0)V=(j.setTemperatureMin+j.setTemperatureMax)/2;else if(j.setTemperature){const F=j.setTemperature.toString().replace("°C","").trim();V=parseFloat(F)}return!isNaN(V)&&(V>=-2.5&&V<=0||V>0&&V<=14)}).map(j=>{var F;const V=Le(j);return r.jsxs("div",{className:`p-3 border rounded-lg ${V==="green"?"bg-green-50 border-green-200":V==="orange"?"bg-orange-50 border-orange-200":V==="red"?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[k(V),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:j.name}),r.jsx("p",{className:`text-xs ${V==="green"?"text-green-600":V==="orange"?"text-orange-600":V==="red"?"text-red-600":"text-gray-600"}`,children:q(V)})]})]}),r.jsxs("div",{className:"flex gap-1",children:[(n==null?void 0:n.role)==="admin"&&r.jsx(ge,{size:"sm",variant:"outline",onClick:()=>ye(j),className:"h-6 w-6 p-0",children:r.jsx(zo,{className:"h-3 w-3"})}),r.jsx(ge,{size:"sm",variant:"outline",onClick:()=>ue(j.id),className:"h-6 w-6 p-0",children:r.jsx(Yn,{className:"h-3 w-3"})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[j.location&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Pu,{className:"h-3 w-3 text-gray-500"}),r.jsx("span",{className:"text-gray-600",children:j.location})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(bn,{className:"h-3 w-3 text-gray-500"}),r.jsx("span",{className:"font-medium",children:he(j)})]})]}),j.dedicatedTo&&r.jsxs("div",{className:"mt-2 text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"Categoria: "}),r.jsx("span",{className:"font-medium text-gray-700",children:((F=te.find(ae=>ae.id===j.dedicatedTo))==null?void 0:F.name)||j.dedicatedTo})]})]},j.id)}),G.filter(j=>{let V=0;if(j.setTemperatureMin!==void 0&&j.setTemperatureMax!==void 0)V=(j.setTemperatureMin+j.setTemperatureMax)/2;else if(j.setTemperature){const F=j.setTemperature.toString().replace("°C","").trim();V=parseFloat(F)}return!isNaN(V)&&(V>=-2.5&&V<=0||V>0&&V<=14)}).length===0&&r.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"Nessun frigorifero"})]})]}),r.jsxs("div",{className:"border rounded-lg p-4 bg-purple-50",children:[r.jsxs("h3",{className:"font-semibold text-purple-800 mb-3 flex items-center gap-2",children:[r.jsx(bn,{className:"h-4 w-4"}),"Freezer"]}),r.jsxs("div",{className:"space-y-2",children:[G.filter(j=>{let V=0;if(j.setTemperatureMin!==void 0&&j.setTemperatureMax!==void 0)V=(j.setTemperatureMin+j.setTemperatureMax)/2;else if(j.setTemperature){const F=j.setTemperature.toString().replace("°C","").trim();V=parseFloat(F)}return!isNaN(V)&&V<-2.5&&V>=-13.5}).map(j=>{var F;const V=Le(j);return r.jsxs("div",{className:`p-3 border rounded-lg ${V==="green"?"bg-green-50 border-green-200":V==="orange"?"bg-orange-50 border-orange-200":V==="red"?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[k(V),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:j.name}),r.jsx("p",{className:`text-xs ${V==="green"?"text-green-600":V==="orange"?"text-orange-600":V==="red"?"text-red-600":"text-gray-600"}`,children:q(V)})]})]}),r.jsxs("div",{className:"flex gap-1",children:[(n==null?void 0:n.role)==="admin"&&r.jsx(ge,{size:"sm",variant:"outline",onClick:()=>ye(j),className:"h-6 w-6 p-0",children:r.jsx(zo,{className:"h-3 w-3"})}),r.jsx(ge,{size:"sm",variant:"outline",onClick:()=>ue(j.id),className:"h-6 w-6 p-0",children:r.jsx(Yn,{className:"h-3 w-3"})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[j.location&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Pu,{className:"h-3 w-3 text-gray-500"}),r.jsx("span",{className:"text-gray-600",children:j.location})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(bn,{className:"h-3 w-3 text-gray-500"}),r.jsx("span",{className:"font-medium",children:he(j)})]})]}),j.dedicatedTo&&r.jsxs("div",{className:"mt-2 text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"Categoria: "}),r.jsx("span",{className:"font-medium text-gray-700",children:((F=ks.find(ae=>ae.id===j.dedicatedTo))==null?void 0:F.name)||j.dedicatedTo})]})]},j.id)}),G.filter(j=>{let V=0;if(j.setTemperatureMin!==void 0&&j.setTemperatureMax!==void 0)V=(j.setTemperatureMin+j.setTemperatureMax)/2;else if(j.setTemperature){const F=j.setTemperature.toString().replace("°C","").trim();V=parseFloat(F)}return!isNaN(V)&&V<-2.5&&V>=-13.5}).length===0&&r.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"Nessun freezer"})]})]}),r.jsxs("div",{className:"border rounded-lg p-4 bg-red-50",children:[r.jsxs("h3",{className:"font-semibold text-red-800 mb-3 flex items-center gap-2",children:[r.jsx(bn,{className:"h-4 w-4"}),"Abbattitore"]}),r.jsxs("div",{className:"space-y-2",children:[G.filter(j=>{let V=0;if(j.setTemperatureMin!==void 0&&j.setTemperatureMax!==void 0)V=(j.setTemperatureMin+j.setTemperatureMax)/2;else if(j.setTemperature){const F=j.setTemperature.toString().replace("°C","").trim();V=parseFloat(F)}return!isNaN(V)&&V<-13.5&&V>=-80}).map(j=>{var F;const V=Le(j);return r.jsxs("div",{className:`p-3 border rounded-lg ${V==="green"?"bg-green-50 border-green-200":V==="orange"?"bg-orange-50 border-orange-200":V==="red"?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[k(V),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:j.name}),r.jsx("p",{className:`text-xs ${V==="green"?"text-green-600":V==="orange"?"text-orange-600":V==="red"?"text-red-600":"text-gray-600"}`,children:q(V)})]})]}),r.jsxs("div",{className:"flex gap-1",children:[(n==null?void 0:n.role)==="admin"&&r.jsx(ge,{size:"sm",variant:"outline",onClick:()=>ye(j),className:"h-6 w-6 p-0",children:r.jsx(zo,{className:"h-3 w-3"})}),r.jsx(ge,{size:"sm",variant:"outline",onClick:()=>ue(j.id),className:"h-6 w-6 p-0",children:r.jsx(Yn,{className:"h-3 w-3"})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[j.location&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Pu,{className:"h-3 w-3 text-gray-500"}),r.jsx("span",{className:"text-gray-600",children:j.location})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(bn,{className:"h-3 w-3 text-gray-500"}),r.jsx("span",{className:"font-medium",children:he(j)})]})]}),j.dedicatedTo&&r.jsxs("div",{className:"mt-2 text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"Categoria: "}),r.jsx("span",{className:"font-medium text-gray-700",children:((F=ks.find(ae=>ae.id===j.dedicatedTo))==null?void 0:F.name)||j.dedicatedTo})]})]},j.id)}),G.filter(j=>{let V=0;if(j.setTemperatureMin!==void 0&&j.setTemperatureMax!==void 0)V=(j.setTemperatureMin+j.setTemperatureMax)/2;else if(j.setTemperature){const F=j.setTemperature.toString().replace("°C","").trim();V=parseFloat(F)}return!isNaN(V)&&V<-13.5&&V>=-80}).length===0&&r.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"Nessun abbattitore"})]})]}),r.jsxs("div",{className:"border rounded-lg p-4 bg-green-50",children:[r.jsxs("h3",{className:"font-semibold text-green-800 mb-3 flex items-center gap-2",children:[r.jsx(bn,{className:"h-4 w-4"}),"Ambiente"]}),r.jsxs("div",{className:"space-y-2",children:[G.filter(j=>{let V=0;if(j.setTemperatureMin!==void 0&&j.setTemperatureMax!==void 0)V=(j.setTemperatureMin+j.setTemperatureMax)/2;else if(j.setTemperature){const F=j.setTemperature.toString().replace("°C","").trim();V=parseFloat(F)}return!isNaN(V)&&V>=15&&V<=25}).map(j=>{var F;const V=Le(j);return r.jsxs("div",{className:`p-3 border rounded-lg ${V==="green"?"bg-green-50 border-green-200":V==="orange"?"bg-orange-50 border-orange-200":V==="red"?"bg-red-50 border-red-200":"bg-white border-gray-200"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[k(V),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-sm",children:j.name}),r.jsx("p",{className:`text-xs ${V==="green"?"text-green-600":V==="orange"?"text-orange-600":V==="red"?"text-red-600":"text-gray-600"}`,children:q(V)})]})]}),r.jsxs("div",{className:"flex gap-1",children:[(n==null?void 0:n.role)==="admin"&&r.jsx(ge,{size:"sm",variant:"outline",onClick:()=>ye(j),className:"h-6 w-6 p-0",children:r.jsx(zo,{className:"h-3 w-3"})}),r.jsx(ge,{size:"sm",variant:"outline",onClick:()=>ue(j.id),className:"h-6 w-6 p-0",children:r.jsx(Yn,{className:"h-3 w-3"})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[j.location&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Pu,{className:"h-3 w-3 text-gray-500"}),r.jsx("span",{className:"text-gray-600",children:j.location})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(bn,{className:"h-3 w-3 text-gray-500"}),r.jsx("span",{className:"font-medium",children:he(j)})]})]}),j.dedicatedTo&&r.jsxs("div",{className:"mt-2 text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"Categoria: "}),r.jsx("span",{className:"text-gray-700",children:((F=ks.find(ae=>ae.id===j.dedicatedTo))==null?void 0:F.name)||j.dedicatedTo})]})]},j.id)}),G.filter(j=>{let V=0;if(j.setTemperatureMin!==void 0&&j.setTemperatureMax!==void 0)V=(j.setTemperatureMin+j.setTemperatureMax)/2;else if(j.setTemperature){const F=j.setTemperature.toString().replace("°C","").trim();V=parseFloat(F)}return!isNaN(V)&&V>=15&&V<=25}).length===0&&r.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"Nessun punto ambiente"})]})]})]})})]})]}),r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(tm,{className:"h-5 w-5"}),"Attività Registro Temperature"]})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(at,{placeholder:"Cerca per nome frigorifero, utente, data...",value:g,onChange:j=>_(j.target.value),className:"pl-10"})]}),Y.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(bn,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("p",{children:"Nessuna attività di registrazione temperatura"}),r.jsx("p",{className:"text-sm",children:"Le registrazioni appariranno qui dopo aver aggiunto frigoriferi"})]}):r.jsx("div",{className:"space-y-3",children:Y.map(j=>{const V=i.find(F=>j.location.toLowerCase().includes(F.name.toLowerCase()));return r.jsx("div",{className:"p-3 border rounded-lg",children:r.jsx("div",{className:"flex justify-between items-start",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"font-medium",children:j.location}),V&&r.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:V.name})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Temperatura rilevata:"}),r.jsxs("div",{className:"font-bold text-lg",children:[j.temperature,"°C"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Data rilevamento:"}),r.jsx("div",{className:"font-medium",children:j.time})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Operatore:"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(F2,{className:"h-3 w-3"}),r.jsx("span",{className:"font-medium",children:j.userName||"N/A"}),j.userDepartment&&r.jsxs("span",{className:"text-gray-500",children:["(",j.userDepartment,")"]})]})]})]})]})})},j.id)})})]})})]}),r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(Gr,{className:"h-5 w-5"}),"Stato Punti di Conservazione"]})}),r.jsx(Je,{children:i.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Gr,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("p",{children:"Nessun punto di conservazione registrato"}),r.jsx("p",{className:"text-sm",children:"Aggiungi punti di conservazione per visualizzare lo stato"})]}):r.jsx("div",{className:"space-y-3",children:i.map(j=>{const V=Le(j),F=e.filter(ae=>ae.location.toLowerCase().includes(j.name.toLowerCase())).sort((ae,be)=>new Date(be.timestamp)-new Date(ae.timestamp))[0];return r.jsx("div",{className:`p-4 border rounded-lg cursor-pointer hover:shadow-md transition-shadow ${V==="green"?"bg-green-50 border-green-200 hover:bg-green-100":V==="orange"?"bg-orange-50 border-orange-200 hover:bg-orange-100":V==="red"?"bg-red-50 border-red-200 hover:bg-red-100":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,onClick:()=>E(j),title:"Clicca per vedere la cronologia temperature",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-lg",children:j.name}),r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:z(j)}),k(V),r.jsx("span",{className:`text-sm font-medium ${V==="green"?"text-green-700":V==="orange"?"text-orange-700":V==="red"?"text-red-700":"text-gray-600"}`,children:q(V)})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Temperatura impostata:"}),r.jsxs("div",{className:"font-medium",children:[he(j)," (",z(j),")"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Posizionamento:"}),r.jsx("div",{className:"font-medium",children:j.location||"Non specificato"})]})]}),F&&r.jsx("div",{className:`mt-3 p-3 rounded-lg ${V==="green"?"bg-green-100":V==="orange"?"bg-orange-100":V==="red"?"bg-red-100":"bg-gray-100"}`,children:r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Ultima registrazione:"}),r.jsxs("span",{className:"font-medium",children:[F.temperature,"°C"]}),r.jsxs("span",{className:"text-gray-500",children:["il ",F.time]})]})})]})})},j.id)})})})]}),s&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-sm mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Aggiungi Punto di Conservazione"}),r.jsx("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"text-blue-600 mt-0.5",children:r.jsx(Mr,{className:"h-4 w-4"})}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-blue-700",children:[r.jsx("strong",{children:"💡 Suggerimento:"})," Assegna una categoria specifica al punto di conservazione per garantire che solo i prodotti compatibili possano essere inseriti."]})})]})}),r.jsxs("form",{onSubmit:re,className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"name",children:"Nome punto di conservazione"}),r.jsx(at,{id:"name",type:"text",value:m.name,onChange:j=>y({...m,name:j.target.value}),placeholder:"es. ripiano A, Armadio 2, Freezer A...",required:!0})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Ke,{htmlFor:"dedicatedTo",children:"Categoria punto di Conservazione"}),r.jsxs(ge,{type:"button",variant:"outline",size:"sm",onClick:()=>fe(!ee),className:"flex items-center gap-2 text-xs",children:[r.jsx(xr,{className:"h-3 w-3"}),"Nuova Categoria"]})]}),r.jsxs("select",{id:"dedicatedTo",value:m.dedicatedTo,onChange:j=>y({...m,dedicatedTo:j.target.value}),className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Seleziona una categoria"}),te.map(j=>r.jsx("option",{value:j.id,children:j.name},j.id))]}),m.dedicatedTo&&r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:(Z=te.find(j=>j.id===m.dedicatedTo))==null?void 0:Z.description}),ee&&r.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border-2 border-blue-300 rounded-lg shadow-sm",children:[r.jsx("h3",{className:"text-sm font-semibold mb-2 text-gray-700",children:"Crea Nuova Categoria"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"categoryName",className:"text-xs",children:"Nome Categoria *"}),r.jsx(at,{id:"categoryName",type:"text",value:H.name,onChange:j=>R({...H,name:j.target.value}),placeholder:"es. Prodotti Biologici...",className:"text-sm",required:!0})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"categoryDescription",className:"text-xs",children:"Descrizione *"}),r.jsx(at,{id:"categoryDescription",type:"text",value:H.description,onChange:j=>R({...H,description:j.target.value}),placeholder:"Descrizione della categoria...",className:"text-sm",required:!0})]}),r.jsx("div",{children:r.jsx(sc,{label:"Range Temperatura (°C)",minValue:H.temperatureMin,maxValue:H.temperatureMax,onMinChange:j=>R({...H,temperatureMin:j.target.value}),onMaxChange:j=>R({...H,temperatureMax:j.target.value}),required:!1,showValidation:!0,showSuggestions:!0,compactMode:!0,className:"w-full",id:"category-temperature-range"})}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"categoryNotes",className:"text-xs",children:"Note"}),r.jsx(at,{id:"categoryNotes",type:"text",value:H.notes,onChange:j=>R({...H,notes:j.target.value}),placeholder:"Note aggiuntive...",className:"text-sm"})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsx(ge,{type:"button",size:"sm",className:"flex-1 text-xs",onClick:oe,children:"Crea Categoria"}),r.jsx(ge,{type:"button",variant:"outline",size:"sm",onClick:()=>fe(!1),className:"flex-1 text-xs",children:"Annulla"})]})]})]})]}),r.jsx("div",{children:r.jsx(sc,{label:"Range Temperatura (°C) *",minValue:m.setTemperatureMin,maxValue:m.setTemperatureMax,onMinChange:j=>y({...m,setTemperatureMin:j.target.value}),onMaxChange:j=>y({...m,setTemperatureMax:j.target.value}),required:!0,showValidation:!0,showSuggestions:!0,compactMode:!0,className:"w-full",id:"set-temperature-range"})}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"location",children:"Posizionamento"}),r.jsx(at,{id:"location",type:"text",value:m.location,onChange:j=>y({...m,location:j.target.value}),placeholder:"es. Cucina principale, Deposito..."})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"nextMaintenance",children:"Prossima Manutenzione Stimata"}),r.jsx(at,{id:"nextMaintenance",type:"text",value:m.nextMaintenance,onChange:j=>y({...m,nextMaintenance:j.target.value}),placeholder:"es. 15/12/2024"})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(ge,{type:"submit",className:"flex-1",children:"Aggiungi"}),r.jsx(ge,{type:"button",variant:"outline",onClick:()=>l(!1),className:"flex-1",children:"Annulla"})]})]})]})}),c&&p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-sm mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Modifica Punto di Conservazione"}),r.jsx("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"text-blue-600 mt-0.5",children:r.jsx(Mr,{className:"h-4 w-4"})}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-blue-700",children:[r.jsx("strong",{children:"💡 Suggerimento:"})," Assegna una categoria specifica al punto di conservazione per garantire che solo i prodotti compatibili possano essere inseriti."]})})]})}),r.jsxs("form",{onSubmit:X,className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"edit-name",children:"Nome punto di conservazione"}),r.jsx(at,{id:"edit-name",type:"text",value:m.name,onChange:j=>y({...m,name:j.target.value}),placeholder:"es. ripiano A, Armadio 2, Freezer A...",required:!0})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Ke,{htmlFor:"edit-dedicatedTo",children:"Categoria punto di Conservazione"}),r.jsxs(ge,{type:"button",variant:"outline",size:"sm",onClick:()=>fe(!ee),className:"flex items-center gap-2 text-xs",children:[r.jsx(xr,{className:"h-3 w-3"}),"Nuova Categoria"]})]}),r.jsxs("select",{id:"edit-dedicatedTo",value:m.dedicatedTo,onChange:j=>y({...m,dedicatedTo:j.target.value}),className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Seleziona una categoria"}),te.map(j=>r.jsx("option",{value:j.id,children:j.name},j.id))]}),m.dedicatedTo&&r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:(K=te.find(j=>j.id===m.dedicatedTo))==null?void 0:K.description})]}),r.jsx("div",{children:r.jsx(sc,{label:"Range Temperatura (°C) *",minValue:m.setTemperatureMin,maxValue:m.setTemperatureMax,onMinChange:j=>y({...m,setTemperatureMin:j.target.value}),onMaxChange:j=>y({...m,setTemperatureMax:j.target.value}),required:!0,showValidation:!0,showSuggestions:!0,compactMode:!0,className:"w-full",id:"edit-set-temperature-range"})}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"edit-location",children:"Posizionamento"}),r.jsx(at,{id:"edit-location",type:"text",value:m.location,onChange:j=>y({...m,location:j.target.value}),placeholder:"es. Cucina principale, Deposito..."})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"edit-nextMaintenance",children:"Prossima Manutenzione Stimata"}),r.jsx(at,{id:"edit-nextMaintenance",type:"text",value:m.nextMaintenance,onChange:j=>y({...m,nextMaintenance:j.target.value}),placeholder:"es. 15/12/2024"})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsx(ge,{type:"submit",className:"flex-1",children:"Aggiorna"}),r.jsx(ge,{type:"button",variant:"outline",onClick:()=>{d(!1),x(null),y({name:"",setTemperature:"",location:"",dedicatedTo:"",nextMaintenance:""})},className:"flex-1",children:"Annulla"})]})]})]})}),N&&b&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx(bn,{className:"h-5 w-5"}),"Cronologia Temperature - ",b.name]}),r.jsx(ge,{variant:"outline",onClick:()=>{w(!1),A(null)},className:"p-2",children:r.jsx(Pn,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Temperatura impostata:"}),r.jsxs("div",{className:"font-medium",children:[he(b)," (",z(b),")"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Posizionamento:"}),r.jsx("div",{className:"font-medium",children:b.location||"Non specificato"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Categoria punto di Conservazione:"}),r.jsx("div",{className:"font-medium",children:b.dedicatedTo?((le=te.find(j=>j.id===b.dedicatedTo))==null?void 0:le.name)||b.dedicatedTo:"Non specificato"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Prossima manutenzione:"}),r.jsx("div",{className:"font-medium",children:b.nextMaintenance||"Non programmata"})]})]})}),(()=>{const j=$(b);return j.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(bn,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("p",{children:"Nessuna registrazione di temperatura"}),r.jsx("p",{className:"text-sm",children:"Le registrazioni appariranno qui dopo le prime misurazioni"})]}):r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Totale registrazioni: ",j.length]}),j.map((V,F)=>{const ae=Math.abs(V.temperature-ne(b)),be=ae>2?"danger":ae>1?"warning":"ok";return r.jsxs("div",{className:`p-4 border rounded-lg ${be==="ok"?"bg-green-50 border-green-200":be==="warning"?"bg-orange-50 border-orange-200":"bg-red-50 border-red-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-lg font-bold",children:[V.temperature,"°C"]}),r.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${be==="ok"?"bg-green-100 text-green-700":be==="warning"?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:be==="ok"?"✓ OK":be==="warning"?"⚠ Attenzione":"🚨 Critico"}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Differenza: ",ae.toFixed(1),"°C"]})]}),r.jsxs("div",{className:"text-right text-sm text-gray-600",children:[r.jsx("div",{children:V.time}),r.jsx("div",{className:"text-xs",children:V.user||"Utente sconosciuto"})]})]}),V.notes&&r.jsxs("div",{className:"mt-2 text-sm text-gray-700 bg-gray-50 p-2 rounded",children:["📝 ",V.notes]})]},V.id||F)})]})})()]})})]})}function Gy({staff:e,setStaff:t,users:n,setUsers:i,currentUser:a,isAdmin:s}){const[l,c]=se.useState({name:"",role:"",certification:"",notes:""}),[d,p]=se.useState([]),[x,m]=se.useState(!1),[y,g]=se.useState(null),[_,b]=se.useState({name:"",description:"",members:[],assignedTasks:[]}),[A,N]=se.useState(null),[w,L]=se.useState(!1),[J,ee]=se.useState({}),[fe,H]=se.useState(!1),[R,te]=se.useState(null),[oe,D]=se.useState(""),[z,E]=se.useState(!1);se.useEffect(()=>{localStorage.setItem("haccp-staff",JSON.stringify(e))},[e]),se.useEffect(()=>{const F=localStorage.getItem("haccp-departments"),ae=localStorage.getItem("haccp-departments-version"),be=[{id:"amministratori",name:"Amministratori",description:"Gestione e supervisione completa",members:[],assignedTasks:[]},{id:"responsabili",name:"Responsabili",description:"Responsabili di reparto e coordinamento",members:[],assignedTasks:[]},{id:"dipendenti",name:"Dipendenti",description:"Staff fisso e personale regolare",members:[],assignedTasks:[]},{id:"collaboratori",name:"Collaboratore Occasionale",description:"Personale temporaneo e collaborazioni esterne",members:[],assignedTasks:[]}];if(ae!=="2.0"||!F)p(be),localStorage.setItem("haccp-departments",JSON.stringify(be)),localStorage.setItem("haccp-departments-version","2.0");else{const Me=JSON.parse(F),xe=[...be];Me.forEach(W=>{be.find(rt=>rt.id===W.id)||xe.push(W)}),p(xe)}},[]),se.useEffect(()=>{localStorage.setItem("haccp-departments",JSON.stringify(d))},[d]),se.useEffect(()=>{if(d.length>0&&e&&Array.isArray(e)&&e.length>=0){const F=d.map(be=>({...be,members:e.filter(Me=>Me&&Me.role===be.name).map(Me=>Me.id)}));F.some((be,Me)=>{var xe;return JSON.stringify(be.members)!==JSON.stringify(((xe=d[Me])==null?void 0:xe.members)||[])})&&p(F)}},[e]);const $=F=>{if(F.preventDefault(),!l.name.trim()||!l.role.trim())return;if(e&&Array.isArray(e)?e.some(Me=>Me&&Me.name&&Me.name.toLowerCase().trim()===l.name.toLowerCase().trim()):!1){alert(`⚠️ Attenzione: Esiste già un utente con questo nome.
Scegli un nome diverso per procedere con la registrazione.`);return}const be={id:Date.now(),name:l.name.trim(),role:l.role.trim(),certification:l.certification.trim(),notes:l.notes.trim(),addedDate:new Date().toLocaleDateString("it-IT"),addedTime:new Date().toLocaleString("it-IT")};t([...e,be]),c({name:"",role:"",certification:"",notes:""})},re=F=>{confirm("Sei sicuro di voler rimuovere questo membro del personale?")&&t(e&&Array.isArray(e)?e.filter(ae=>ae&&ae.id!==F):[])};e&&Array.isArray(e)&&[...new Set(e.map(F=>F==null?void 0:F.role).filter(Boolean))],e&&Array.isArray(e)&&e.filter(F=>F&&F.certification&&F.certification.trim()!=="");const ue={Amministratori:"bg-red-100 text-red-800",Responsabili:"bg-purple-100 text-purple-800",Dipendenti:"bg-blue-100 text-blue-800","Collaboratore Occasionale":"bg-yellow-100 text-yellow-800",Cuoco:"bg-blue-100 text-blue-800","Sous Chef":"bg-purple-100 text-purple-800",Chef:"bg-red-100 text-red-800",Cameriere:"bg-green-100 text-green-800","Addetto cucina":"bg-yellow-100 text-yellow-800",Manager:"bg-gray-100 text-gray-800",default:"bg-gray-100 text-gray-800"},ye=F=>{if(ue[F])return ue[F];const ae=["bg-indigo-100 text-indigo-800","bg-pink-100 text-pink-800","bg-teal-100 text-teal-800","bg-orange-100 text-orange-800","bg-emerald-100 text-emerald-800","bg-violet-100 text-violet-800","bg-cyan-100 text-cyan-800","bg-rose-100 text-rose-800","bg-lime-100 text-lime-800","bg-amber-100 text-amber-800","bg-sky-100 text-sky-800","bg-fuchsia-100 text-fuchsia-800","bg-slate-100 text-slate-800","bg-stone-100 text-stone-800","bg-zinc-100 text-zinc-800","bg-neutral-100 text-neutral-800","bg-red-200 text-red-900","bg-blue-200 text-blue-900","bg-green-200 text-green-900","bg-purple-200 text-purple-900","bg-yellow-200 text-yellow-900","bg-indigo-200 text-indigo-900","bg-pink-200 text-pink-900","bg-teal-200 text-teal-900"],be=F.split("").reduce((Me,xe)=>(Me=(Me<<5)-Me+xe.charCodeAt(0),Me&Me),0);return ae[Math.abs(be)%ae.length]},X=F=>{const ae=ye(F);return ae.includes("text-red-800")?"bg-red-50 border-red-200":ae.includes("text-purple-800")?"bg-purple-50 border-purple-200":ae.includes("text-blue-800")?"bg-blue-50 border-blue-200":ae.includes("text-yellow-800")?"bg-yellow-50 border-yellow-200":ae.includes("text-green-800")?"bg-green-50 border-green-200":ae.includes("text-indigo-800")?"bg-indigo-50 border-indigo-200":ae.includes("text-pink-800")?"bg-pink-50 border-pink-200":ae.includes("text-teal-800")?"bg-teal-50 border-teal-200":ae.includes("text-orange-800")?"bg-orange-50 border-orange-200":ae.includes("text-emerald-800")?"bg-emerald-50 border-emerald-200":ae.includes("text-violet-800")?"bg-violet-50 border-violet-200":ae.includes("text-cyan-800")?"bg-cyan-50 border-cyan-200":ae.includes("text-rose-800")?"bg-rose-50 border-rose-200":ae.includes("text-lime-800")?"bg-lime-50 border-lime-200":ae.includes("text-amber-800")?"bg-amber-50 border-amber-200":ae.includes("text-sky-800")?"bg-sky-50 border-sky-200":ae.includes("text-fuchsia-800")?"bg-fuchsia-50 border-fuchsia-200":ae.includes("text-slate-800")?"bg-slate-50 border-slate-200":ae.includes("text-stone-800")?"bg-stone-50 border-stone-200":ae.includes("text-zinc-800")?"bg-zinc-50 border-zinc-200":ae.includes("text-neutral-800")?"bg-neutral-50 border-neutral-200":ae.includes("text-red-900")?"bg-red-100 border-red-300":ae.includes("text-blue-900")?"bg-blue-100 border-blue-300":ae.includes("text-green-900")?"bg-green-100 border-green-300":ae.includes("text-purple-900")?"bg-purple-100 border-purple-300":ae.includes("text-yellow-900")?"bg-yellow-100 border-yellow-300":ae.includes("text-indigo-900")?"bg-indigo-100 border-indigo-300":ae.includes("text-pink-900")?"bg-pink-100 border-pink-300":ae.includes("text-teal-900")?"bg-teal-100 border-teal-300":"bg-gray-50 border-gray-200"},he=F=>{if(F.preventDefault(),!_.name.trim())return;const ae={id:Date.now(),name:_.name.trim(),description:_.description.trim(),members:[],assignedTasks:[],createdAt:new Date().toISOString()};p([...d,ae]),b({name:"",description:"",members:[],assignedTasks:[]}),m(!1)},ne=F=>{g(F),b({name:F.name,description:F.description,members:F.members||[],assignedTasks:F.assignedTasks||[]}),m(!0)},Le=F=>{if(F.preventDefault(),!_.name.trim())return;const ae=d.map(be=>be.id===y.id?{...be,name:_.name.trim(),description:_.description.trim()}:be);p(ae),b({name:"",description:"",members:[],assignedTasks:[]}),g(null),m(!1)},k=F=>{confirm("Sei sicuro di voler eliminare questa categoria?")&&p(d.filter(ae=>ae.id!==F))},q=F=>{N(F),c({name:F.name,role:F.role,certification:F.certification||"",notes:F.notes||""}),L(!0)},G=F=>{if(F.preventDefault(),!l.name.trim()||!l.role.trim())return;if(e.some(Me=>Me.id!==A.id&&Me.name.toLowerCase().trim()===l.name.toLowerCase().trim())){alert(`⚠️ Attenzione: Esiste già un utente con questo nome.
Scegli un nome diverso per procedere con la modifica.`);return}const be=e.map(Me=>Me.id===A.id?{...Me,name:l.name.trim(),role:l.role.trim(),certification:l.certification.trim(),notes:l.notes.trim(),lastModified:new Date().toLocaleString("it-IT")}:Me);t(be),c({name:"",role:"",certification:"",notes:""}),N(null),L(!1)},Y=()=>{N(null),L(!1),c({name:"",role:"",certification:"",notes:""})},Z=F=>{te(F),D(""),H(!0)},K=()=>{if(R&&oe){const F=e.map(ae=>ae.id===R.id?{...ae,role:oe,lastModified:new Date().toLocaleString("it-IT")}:ae);t(F),H(!1),te(null),D("")}},le=()=>{E(!0)},j=()=>{R&&(t(e&&Array.isArray(e)?e.filter(F=>F&&F.id!==R.id):[]),H(!1),E(!1),te(null),D(""))},V=()=>{H(!1),E(!1),te(null),D("")};return r.jsxs("div",{className:"space-y-6",children:[a&&a.role==="admin"&&r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(ca,{className:"h-5 w-5"}),"Gestione Categorie Ruoli"]})}),r.jsxs(Je,{children:[x&&r.jsxs("form",{onSubmit:y?Le:he,className:"space-y-4 mb-6 p-4 bg-blue-50 rounded-lg border",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"categoryName",children:"Nome Categoria"}),r.jsx(at,{id:"categoryName",value:_.name,onChange:F=>b({..._,name:F.target.value}),placeholder:"es. Cucina, Sala, Amministrazione",required:!0})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"categoryDescription",children:"Descrizione"}),r.jsx(at,{id:"categoryDescription",value:_.description,onChange:F=>b({..._,description:F.target.value}),placeholder:"Descrizione della categoria"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ge,{type:"submit",size:"sm",children:y?"Aggiorna Categoria":"Aggiungi Categoria"}),r.jsx(ge,{type:"button",variant:"outline",size:"sm",onClick:()=>{m(!1),g(null),b({name:"",description:"",members:[],assignedTasks:[]})},children:"Annulla"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h4",{className:"font-medium",children:["Categorie Disponibili (",d.length,")"]}),r.jsx(ge,{onClick:()=>m(!0),size:"sm",variant:"outline",children:"Nuova Categoria"})]}),d.length===0?r.jsxs("div",{className:"text-center py-6 text-gray-500",children:[r.jsx(ca,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),r.jsx("p",{children:"Nessuna categoria creata"}),r.jsx("p",{className:"text-sm",children:"Crea la prima categoria per organizzare i ruoli"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(F=>{var ae;return r.jsxs("div",{className:`p-4 border rounded-lg ${X(F.name)}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h5",{className:"font-medium text-lg",children:F.name}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ye(F.name)}`,children:F.name})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(ge,{onClick:()=>ne(F),size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:"✏️"}),r.jsx(ge,{onClick:()=>k(F.id),size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700",children:"🗑️"})]})]}),F.description&&r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:F.description}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[r.jsxs("span",{children:["👥 ",e&&Array.isArray(e)?e.filter(be=>be&&be.role===F.name).length:0," membri"]}),r.jsxs("span",{children:["📋 ",((ae=F.assignedTasks)==null?void 0:ae.length)||0," compiti"]})]})]},F.id)})})]})]})]}),r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(ca,{className:"h-5 w-5"}),A?"Modifica Membro del Personale":"Aggiungi Membro del Personale"]})}),r.jsxs(Je,{children:[w&&r.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Stai modificando:"})," ",A==null?void 0:A.name]})}),r.jsxs("form",{onSubmit:A?G:$,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ke,{htmlFor:"name",children:"Nome Completo"}),r.jsx(at,{id:"name",placeholder:"Es: Mario Rossi",value:l.name,onChange:F=>c({...l,name:F.target.value}),required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ke,{htmlFor:"role",children:"Ruolo"}),r.jsxs("select",{id:"role",value:l.role,onChange:F=>c({...l,role:F.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[r.jsx("option",{value:"",children:"Seleziona un ruolo..."}),d.map(F=>r.jsx("option",{value:F.name,children:F.name},F.id))]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ke,{htmlFor:"certification",children:"Certificazioni HACCP (opzionale)"}),r.jsx(at,{id:"certification",placeholder:"Es: Certificato HACCP livello 2, Corso sicurezza alimentare...",value:l.certification,onChange:F=>c({...l,certification:F.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ke,{htmlFor:"notes",children:"Note (opzionale)"}),r.jsx(at,{id:"notes",placeholder:"Es: Turno preferito, competenze particolari...",value:l.notes,onChange:F=>c({...l,notes:F.target.value})})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ge,{type:"submit",className:"flex-1",children:A?"Salva Modifiche":"Aggiungi al Team"}),A&&r.jsx(ge,{type:"button",variant:"outline",onClick:Y,className:"flex-1",children:"Annulla"})]})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:r.jsx(Ge,{children:r.jsx(Je,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Totale Personale"}),r.jsx("p",{className:"text-2xl font-bold",children:e.length})]}),r.jsx(ca,{className:"h-8 w-8 text-blue-500"})]})})})}),d.length>0&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.slice().sort((F,ae)=>F.name.localeCompare(ae.name)).map(F=>{const ae=e&&Array.isArray(e)?e.filter(xe=>xe&&xe.role===F.name):[],be=ae.length,Me=J[F.name];return r.jsxs("div",{children:[r.jsx(Ge,{className:"cursor-pointer hover:shadow-md transition-shadow",children:r.jsx(Je,{className:"pt-6",children:r.jsxs("button",{onClick:()=>ee(xe=>({...xe,[F.name]:!xe[F.name]})),className:"w-full text-left",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:F.name}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:be})]}),r.jsx(ca,{className:"h-8 w-8 text-blue-500"})]}),r.jsxs("div",{className:"text-xs text-gray-500 flex items-center justify-between",children:[r.jsx("span",{children:be===1?"utente":"utenti"}),r.jsx("span",{children:Me?"▼":"▶"})]})]})})}),Me&&r.jsx(Ge,{className:"mt-2",children:r.jsx(Je,{className:"pt-4",children:be===0?r.jsxs("div",{className:"text-center py-4 text-gray-500",children:[r.jsx(ca,{className:"h-6 w-6 mx-auto mb-2 text-gray-400"}),r.jsx("p",{className:"text-sm",children:"Nessun dipendente in questa categoria"}),r.jsxs("p",{className:"text-xs",children:['Aggiungi membri selezionando "',F.name,'" nel form sopra']})]}):r.jsx("div",{className:"space-y-2",children:ae.map(xe=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:xe.name}),xe.certification&&r.jsxs("div",{className:"text-xs text-green-600 flex items-center gap-1",children:[r.jsx(_y,{className:"h-3 w-3"}),xe.certification]}),xe.notes&&r.jsxs("div",{className:"text-xs text-blue-600 flex items-center gap-1",children:[r.jsx(Y0,{className:"h-3 w-3"}),xe.notes]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(ge,{onClick:()=>Z(xe),variant:"outline",size:"sm",className:"h-8 w-8 p-0 text-orange-700 border-orange-300 hover:bg-orange-100 hover:border-orange-400 bg-white shadow-sm",title:"Rimuovi da questo ruolo o riassegna",children:r.jsx(wy,{className:"h-7.5 w-7.5 stroke-1.5"})})})]},xe.id))})})})]},F.id)})}),r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{children:["Elenco Staff Completo (",e.length,")"]})}),r.jsx(Je,{children:e.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ca,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Nessun membro del personale registrato"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Aggiungi il primo membro del team per iniziare la gestione del personale HACCP"})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"grid grid-cols-12 gap-2 px-3 py-2 bg-gray-100 rounded text-xs font-medium text-gray-600",children:[r.jsx("div",{className:"col-span-3",children:"Nome"}),r.jsx("div",{className:"col-span-2",children:"Ruolo"}),r.jsx("div",{className:"col-span-2",children:"Categoria"}),r.jsx("div",{className:"col-span-2",children:"Data Registrazione"}),r.jsx("div",{className:"col-span-2",children:"Note"}),r.jsx("div",{className:"col-span-1",children:"Azioni"})]}),e.map(F=>r.jsxs("div",{className:`grid grid-cols-12 gap-2 px-3 py-2 rounded border transition-colors text-sm ${F.isRegisteredUser?"bg-blue-50 border-blue-200 hover:bg-blue-100":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:[r.jsx("div",{className:"col-span-3 flex items-center",children:r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium flex items-center gap-2",children:[F.name,F.isRegisteredUser&&r.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Utente"})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[F.addedDate,F.lastModified&&" • Mod."]})]})}),r.jsx("div",{className:"col-span-2 flex items-center",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ye(F.role)}`,children:F.role})}),r.jsx("div",{className:"col-span-2 flex items-center",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F.role==="Non assegnato"?"bg-gray-100 text-gray-600":"bg-purple-100 text-purple-700"}`,children:F.role})}),r.jsx("div",{className:"col-span-2 flex items-center",children:r.jsxs("div",{className:"text-xs text-gray-600",children:[F.addedDate,F.addedTime&&r.jsx("div",{className:"text-xs text-gray-400",children:F.addedTime.split(" ")[1]})]})}),r.jsx("div",{className:"col-span-2 flex items-center",children:F.notes?r.jsxs("div",{className:"flex items-center gap-1 text-blue-700",children:[r.jsx(Y0,{className:"h-3 w-3"}),r.jsx("span",{className:"truncate text-xs",children:F.notes})]}):r.jsx("span",{className:"text-gray-400 text-xs",children:"-"})}),r.jsx("div",{className:"col-span-1 flex items-center justify-center",children:r.jsxs("div",{className:"flex gap-1",children:[r.jsx(ge,{onClick:()=>q(F),variant:"outline",size:"sm",className:"h-7 w-7 p-0 text-blue-700 border-blue-300 hover:bg-blue-100 hover:text-blue-800 hover:border-blue-400 bg-white shadow-sm",title:"Modifica dipendente",children:r.jsx(zy,{className:"h-4 w-4"})}),r.jsx(ge,{onClick:()=>re(F.id),variant:"outline",size:"sm",className:"h-7 w-7 p-0 text-red-700 border-red-300 hover:bg-red-100 hover:text-red-800 hover:border-red-400 bg-white shadow-sm",title:"Elimina dipendente",children:r.jsx(Yn,{className:"h-4 w-4"})})]})})]},F.id))]})})]}),e.length===0&&r.jsxs(Ge,{className:"border-blue-200 bg-blue-50",children:[r.jsx(mt,{children:r.jsx(gt,{className:"text-blue-800",children:"Suggerimenti Ruoli Comuni"})}),r.jsxs(Je,{children:[r.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Ecco alcuni ruoli comuni nella ristorazione che potresti voler aggiungere:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["Chef","Sous Chef","Cuoco","Addetto cucina","Cameriere","Barista","Manager"].map(F=>r.jsx("button",{onClick:()=>c({...l,role:F}),className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm hover:bg-blue-200 transition-colors",children:F},F))})]})]}),fe&&R&&!z&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4",children:['Rimuovi "',R.name,'" da "',R.role,'"']}),r.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Scegliere ",r.jsx("strong",{children:"obbligatoriamente"})," un altro ruolo per questo dipendente, oppure rimuovi dipendente dall'applicazione."]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Nuovo ruolo per ",R.name,":"]}),r.jsxs("select",{value:oe,onChange:F=>D(F.target.value),className:"w-full h-10 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"-- Seleziona nuovo ruolo --"}),d.filter(F=>F.name!==R.role).map(F=>r.jsx("option",{value:F.name,children:F.name},F.id))]})]}),oe&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-3",children:r.jsxs("p",{className:"text-sm text-green-800",children:[r.jsx("strong",{children:"✅ Confermato:"})," ",R.name,' verrà spostato da "',R.role,'" a "',r.jsx("strong",{children:oe}),'".']})})]}),r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsx(ge,{onClick:K,className:"flex-1",disabled:!oe,variant:oe?"default":"outline",children:oe?"Conferma":"Seleziona un ruolo"}),r.jsx(ge,{onClick:le,variant:"destructive",className:"flex-1",children:"Rimuovi Dipendente"})]}),r.jsx("div",{className:"mt-3",children:r.jsx(ge,{onClick:V,variant:"outline",className:"w-full",size:"sm",children:"Annulla"})})]})}),z&&R&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-red-600",children:"⚠️ Conferma Eliminazione"}),r.jsxs("p",{className:"text-sm text-gray-700 mb-4",children:["Sei sicuro di voler ",r.jsx("strong",{children:"eliminare definitivamente"})," il dipendente",r.jsxs("strong",{className:"text-red-600",children:[' "',R.name,'"']})," dall'applicazione?"]}),r.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-3 mb-4",children:r.jsxs("p",{className:"text-sm text-red-800",children:[r.jsx("strong",{children:"⚠️ Attenzione:"})," Questa azione è ",r.jsx("strong",{children:"irreversibile"}),". Tutti i dati associati a questo dipendente verranno persi permanentemente."]})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ge,{onClick:()=>E(!1),variant:"outline",className:"flex-1",children:"Annulla"}),r.jsx(ge,{onClick:j,variant:"destructive",className:"flex-1",children:"Elimina Definitivamente"})]})]})})]})}function Wy({value:e,onValueChange:t,children:n}){return r.jsx("div",{className:"w-full",children:Fo.Children.map(n,i=>!i||!i.type?i:i.type===B2?Fo.cloneElement(i,{value:e,onValueChange:t}):i.type===oa?Fo.cloneElement(i,{currentValue:e}):i)})}function B2({value:e,onValueChange:t,children:n,className:i=""}){return r.jsx("div",{className:`flex p-1 bg-gray-100 rounded-xl shadow-sm ${i}`,children:Fo.Children.map(n,a=>!a||!a.type?a:a.type===sa?Fo.cloneElement(a,{currentValue:e,onValueChange:t,isActive:e===a.props.value}):a)})}function sa({value:e,currentValue:t,onValueChange:n,isActive:i,children:a,className:s=""}){return r.jsx("button",{onClick:()=>n(e),className:`
        flex-1 px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 ease-in-out
        ${i?"bg-white text-blue-600 shadow-md transform scale-[1.02]":"text-gray-600 hover:text-gray-900 hover:bg-white/60 active:scale-[0.98]"}
        ${s}
      `,children:a})}function oa({value:e,currentValue:t,children:n}){return t!==e?null:r.jsx("div",{className:"mt-6 animate-in fade-in-50 duration-200",children:n})}function Jy({customCategories:e=[],setCustomCategories:t,currentUser:n}){const[i,a]=se.useState(!1),[s,l]=se.useState(null),[c,d]=se.useState({name:"",description:"",temperatureMin:"",temperatureMax:"",storageLocation:"",color:"bg-blue-100 text-blue-800"}),p=["bg-blue-100 text-blue-800","bg-red-100 text-red-800","bg-green-100 text-green-800","bg-yellow-100 text-yellow-800","bg-purple-100 text-purple-800","bg-pink-100 text-pink-800","bg-indigo-100 text-indigo-800","bg-orange-100 text-orange-800","bg-teal-100 text-teal-800","bg-cyan-100 text-cyan-800"];se.useEffect(()=>{localStorage.setItem("haccp-custom-categories",JSON.stringify(e))},[e]);const x=()=>{d({name:"",description:"",temperatureMin:"",temperatureMax:"",storageLocation:"",color:"bg-blue-100 text-blue-800"}),l(null)},m=b=>{if(b.preventDefault(),!c.name.trim()||!c.temperatureMin.trim()||!c.temperatureMax.trim()){alert("Compila tutti i campi obbligatori");return}const A=parseFloat(c.temperatureMin),N=parseFloat(c.temperatureMax);if(isNaN(A)||isNaN(N)){alert("Inserisci temperature valide");return}if(A>=N){alert("La temperatura minima deve essere inferiore alla temperatura massima");return}if(s){const w=e.map(L=>L.id===s.id?{...L,name:c.name.trim(),description:c.description.trim(),temperatureMin:A,temperatureMax:N,temperature:`${A}-${N}°C`,storageLocation:c.storageLocation.trim(),color:c.color,updatedAt:new Date().toISOString(),updatedBy:n==null?void 0:n.id,updatedByName:n==null?void 0:n.name}:L);t(w)}else{const w={id:Date.now().toString(),name:c.name.trim(),description:c.description.trim(),temperatureMin:A,temperatureMax:N,temperature:`${A}-${N}°C`,storageLocation:c.storageLocation.trim(),color:c.color,createdAt:new Date().toISOString(),createdBy:n==null?void 0:n.id,createdByName:n==null?void 0:n.name,updatedAt:new Date().toISOString(),updatedBy:n==null?void 0:n.id,updatedByName:n==null?void 0:n.name};t([...e,w])}x(),a(!1)},y=b=>{l(b),d({name:b.name,description:b.description||"",temperatureMin:b.temperatureMin.toString(),temperatureMax:b.temperatureMax.toString(),storageLocation:b.storageLocation||"",color:b.color}),a(!0)},g=b=>{confirm("Sei sicuro di voler eliminare questa categoria? Questa azione non può essere annullata.")&&t(e.filter(A=>A.id!==b))},_=(b,A)=>{const N=(b+A)/2;return N<=-13.5?"Surgelato":N>=15?"Temperatura Ambiente":"Refrigerato"};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Categorie Personalizzate"}),r.jsx("p",{className:"text-gray-600",children:"Gestisci categorie di prodotti con temperature specifiche"})]}),r.jsxs(ge,{onClick:()=>{x(),a(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(xr,{className:"mr-2 h-4 w-4"}),"Nuova Categoria"]})]}),i&&r.jsxs(Ge,{children:[r.jsxs(mt,{children:[r.jsx(gt,{children:s?"Modifica Categoria":"Nuova Categoria Personalizzata"}),n&&r.jsxs("p",{className:"text-sm text-gray-600",children:[s?"Modificando come: ":"Creando come: ",r.jsx("span",{className:"font-medium",children:n.name})," (",n.department,")"]})]}),r.jsx(Je,{children:r.jsxs("form",{onSubmit:m,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"name",children:"Nome Categoria *"}),r.jsx(at,{id:"name",type:"text",value:c.name,onChange:b=>d({...c,name:b.target.value}),placeholder:"es. Prodotti Freschi, Specialità Regionali...",required:!0})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"color",children:"Colore Identificativo"}),r.jsx("select",{value:c.color,onChange:b=>d({...c,color:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:p.map((b,A)=>r.jsx("option",{value:b,children:b.replace("bg-","").replace("-100 text-"," - ").replace("-800","")},A))})]})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"description",children:"Descrizione"}),r.jsx(at,{id:"description",type:"text",value:c.description,onChange:b=>d({...c,description:b.target.value}),placeholder:"es. Prodotti freschi di produzione locale..."})]}),r.jsx("div",{children:r.jsx(sc,{label:"Range Temperatura (°C) *",minValue:c.temperatureMin,maxValue:c.temperatureMax,onMinChange:b=>d({...c,temperatureMin:b.target.value}),onMaxChange:b=>d({...c,temperatureMax:b.target.value}),required:!0,showValidation:!0,showSuggestions:!0,className:"w-full",id:"temperature-range"})}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"storageLocation",children:"Posizione di Conservazione Suggerita"}),r.jsx(at,{id:"storageLocation",type:"text",value:c.storageLocation,onChange:b=>d({...c,storageLocation:b.target.value}),placeholder:"es. Ripiano superiore frigo, Scaffale dispensa..."})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsxs(ge,{type:"submit",className:"flex-1",children:[s?"Aggiorna":"Crea"," Categoria"]}),r.jsx(ge,{type:"button",variant:"outline",onClick:()=>{a(!1),x()},className:"flex-1",children:"Annulla"})]})]})})]}),e.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(b=>r.jsx(Ge,{className:"hover:shadow-md transition-shadow",children:r.jsxs(Je,{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${b.color}`,children:b.name}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>y(b),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-100",children:r.jsx(zo,{className:"h-3 w-3"})}),r.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>g(b.id),className:"text-red-600 hover:text-red-700 hover:bg-red-100",children:r.jsx(Yn,{className:"h-3 w-3"})})]})]}),b.description&&r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:b.description}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bn,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-gray-600",children:"Temperatura:"}),r.jsx("span",{className:"font-medium",children:b.temperature})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Bi,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-gray-600",children:"Tipo:"}),r.jsx("span",{className:"font-medium",children:_(b.temperatureMin,b.temperatureMax)})]}),b.storageLocation&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mr,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-gray-600",children:"Posizione:"}),r.jsx("span",{className:"font-medium",children:b.storageLocation})]})]}),r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 text-xs text-gray-500",children:[r.jsxs("p",{children:["Creata da: ",b.createdByName||"N/A"]}),r.jsxs("p",{children:["Aggiornata: ",new Date(b.updatedAt).toLocaleDateString("it-IT")]})]})]})},b.id))}):r.jsx(Ge,{children:r.jsxs(Je,{className:"p-8 text-center text-gray-500",children:[r.jsx(bn,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),r.jsx("p",{className:"text-lg font-medium mb-2",children:"Nessuna categoria personalizzata"}),r.jsx("p",{className:"text-sm",children:"Crea la tua prima categoria personalizzata per gestire prodotti specifici"})]})})]})}const Xy="modulepreload",Yy=function(e,t){return new URL(e,t).href},e1={},Xf=function(t,n,i){if(!n||n.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Yy(s,i),s in e1)return;e1[s]=!0;const l=s.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!i)for(let x=a.length-1;x>=0;x--){const m=a[x];if(m.href===s&&(!l||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${c}`))return;const p=document.createElement("link");if(p.rel=l?"stylesheet":Xy,l||(p.as="script",p.crossOrigin=""),p.href=s,document.head.appendChild(p),l)return new Promise((x,m)=>{p.addEventListener("load",x),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s})};function Wt(e){"@babel/helpers - typeof";return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(e)}var cr=Uint8Array,Wr=Uint16Array,am=Int32Array,qd=new cr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$d=new cr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Yf=new cr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),q2=function(e,t){for(var n=new Wr(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var a=new am(n[30]),i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)a[s]=s-n[i]<<5|i;return{b:n,r:a}},$2=q2(qd,2),U2=$2.b,Kf=$2.r;U2[28]=258,Kf[258]=28;var V2=q2($d,0),Ky=V2.b,t1=V2.r,Qf=new Wr(32768);for(var on=0;on<32768;++on){var qa=(on&43690)>>1|(on&21845)<<1;qa=(qa&52428)>>2|(qa&13107)<<2,qa=(qa&61680)>>4|(qa&3855)<<4,Qf[on]=((qa&65280)>>8|(qa&255)<<8)>>1}var Vi=function(e,t,n){for(var i=e.length,a=0,s=new Wr(t);a<i;++a)e[a]&&++s[e[a]-1];var l=new Wr(t);for(a=1;a<t;++a)l[a]=l[a-1]+s[a-1]<<1;var c;if(n){c=new Wr(1<<t);var d=15-t;for(a=0;a<i;++a)if(e[a])for(var p=a<<4|e[a],x=t-e[a],m=l[e[a]-1]++<<x,y=m|(1<<x)-1;m<=y;++m)c[Qf[m]>>d]=p}else for(c=new Wr(i),a=0;a<i;++a)e[a]&&(c[a]=Qf[l[e[a]-1]++]>>15-e[a]);return c},ls=new cr(288);for(var on=0;on<144;++on)ls[on]=8;for(var on=144;on<256;++on)ls[on]=9;for(var on=256;on<280;++on)ls[on]=7;for(var on=280;on<288;++on)ls[on]=8;var kc=new cr(32);for(var on=0;on<32;++on)kc[on]=5;var Qy=Vi(ls,9,0),Zy=Vi(ls,9,1),e4=Vi(kc,5,0),t4=Vi(kc,5,1),Hh=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},yi=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(t&7)&n},Gh=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},sm=function(e){return(e+7)/8|0},H2=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new cr(e.subarray(t,n))},n4=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],bi=function(e,t,n){var i=new Error(t||n4[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,bi),!n)throw i;return i},r4=function(e,t,n,i){var a=e.length,s=i?i.length:0;if(!a||t.f&&!t.l)return n||new cr(0);var l=!n,c=l||t.i!=2,d=t.i;l&&(n=new cr(a*3));var p=function(F){var ae=n.length;if(F>ae){var be=new cr(Math.max(ae*2,F));be.set(n),n=be}},x=t.f||0,m=t.p||0,y=t.b||0,g=t.l,_=t.d,b=t.m,A=t.n,N=a*8;do{if(!g){x=yi(e,m,1);var w=yi(e,m+1,3);if(m+=3,w)if(w==1)g=Zy,_=t4,b=9,A=5;else if(w==2){var fe=yi(e,m,31)+257,H=yi(e,m+10,15)+4,R=fe+yi(e,m+5,31)+1;m+=14;for(var te=new cr(R),oe=new cr(19),D=0;D<H;++D)oe[Yf[D]]=yi(e,m+D*3,7);m+=H*3;for(var z=Hh(oe),E=(1<<z)-1,$=Vi(oe,z,1),D=0;D<R;){var re=$[yi(e,m,E)];m+=re&15;var L=re>>4;if(L<16)te[D++]=L;else{var ue=0,ye=0;for(L==16?(ye=3+yi(e,m,3),m+=2,ue=te[D-1]):L==17?(ye=3+yi(e,m,7),m+=3):L==18&&(ye=11+yi(e,m,127),m+=7);ye--;)te[D++]=ue}}var X=te.subarray(0,fe),he=te.subarray(fe);b=Hh(X),A=Hh(he),g=Vi(X,b,1),_=Vi(he,A,1)}else bi(1);else{var L=sm(m)+4,J=e[L-4]|e[L-3]<<8,ee=L+J;if(ee>a){d&&bi(0);break}c&&p(y+J),n.set(e.subarray(L,ee),y),t.b=y+=J,t.p=m=ee*8,t.f=x;continue}if(m>N){d&&bi(0);break}}c&&p(y+131072);for(var ne=(1<<b)-1,Le=(1<<A)-1,k=m;;k=m){var ue=g[Gh(e,m)&ne],q=ue>>4;if(m+=ue&15,m>N){d&&bi(0);break}if(ue||bi(2),q<256)n[y++]=q;else if(q==256){k=m,g=null;break}else{var G=q-254;if(q>264){var D=q-257,Y=qd[D];G=yi(e,m,(1<<Y)-1)+U2[D],m+=Y}var Z=_[Gh(e,m)&Le],K=Z>>4;Z||bi(3),m+=Z&15;var he=Ky[K];if(K>3){var Y=$d[K];he+=Gh(e,m)&(1<<Y)-1,m+=Y}if(m>N){d&&bi(0);break}c&&p(y+131072);var le=y+G;if(y<he){var j=s-he,V=Math.min(he,le);for(j+y<0&&bi(3);y<V;++y)n[y]=i[j+y]}for(;y<le;++y)n[y]=n[y-he]}}t.l=g,t.p=k,t.b=y,t.f=x,g&&(x=1,t.m=b,t.d=_,t.n=A)}while(!x);return y!=n.length&&l?H2(n,0,y):n.subarray(0,y)},aa=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},$l=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},Wh=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var a=n.length,s=n.slice();if(!a)return{t:W2,l:0};if(a==1){var l=new cr(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(ee,fe){return ee.f-fe.f}),n.push({s:-1,f:25001});var c=n[0],d=n[1],p=0,x=1,m=2;for(n[0]={s:-1,f:c.f+d.f,l:c,r:d};x!=a-1;)c=n[n[p].f<n[m].f?p++:m++],d=n[p!=x&&n[p].f<n[m].f?p++:m++],n[x++]={s:-1,f:c.f+d.f,l:c,r:d};for(var y=s[0].s,i=1;i<a;++i)s[i].s>y&&(y=s[i].s);var g=new Wr(y+1),_=Zf(n[x-1],g,0);if(_>t){var i=0,b=0,A=_-t,N=1<<A;for(s.sort(function(fe,H){return g[H.s]-g[fe.s]||fe.f-H.f});i<a;++i){var w=s[i].s;if(g[w]>t)b+=N-(1<<_-g[w]),g[w]=t;else break}for(b>>=A;b>0;){var L=s[i].s;g[L]<t?b-=1<<t-g[L]++-1:++i}for(;i>=0&&b;--i){var J=s[i].s;g[J]==t&&(--g[J],++b)}_=t}return{t:new cr(g),l:_}},Zf=function(e,t,n){return e.s==-1?Math.max(Zf(e.l,t,n+1),Zf(e.r,t,n+1)):t[e.s]=n},n1=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Wr(++t),i=0,a=e[0],s=1,l=function(d){n[i++]=d},c=1;c<=t;++c)if(e[c]==a&&c!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(a),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(a);s=1,a=e[c]}return{c:n.subarray(0,i),n:t}},Ul=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},G2=function(e,t,n){var i=n.length,a=sm(t+2);e[a]=i&255,e[a+1]=i>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<i;++s)e[a+s+4]=n[s];return(a+4+i)*8},r1=function(e,t,n,i,a,s,l,c,d,p,x){aa(t,x++,n),++a[256];for(var m=Wh(a,15),y=m.t,g=m.l,_=Wh(s,15),b=_.t,A=_.l,N=n1(y),w=N.c,L=N.n,J=n1(b),ee=J.c,fe=J.n,H=new Wr(19),R=0;R<w.length;++R)++H[w[R]&31];for(var R=0;R<ee.length;++R)++H[ee[R]&31];for(var te=Wh(H,7),oe=te.t,D=te.l,z=19;z>4&&!oe[Yf[z-1]];--z);var E=p+5<<3,$=Ul(a,ls)+Ul(s,kc)+l,re=Ul(a,y)+Ul(s,b)+l+14+3*z+Ul(H,oe)+2*H[16]+3*H[17]+7*H[18];if(d>=0&&E<=$&&E<=re)return G2(t,x,e.subarray(d,d+p));var ue,ye,X,he;if(aa(t,x,1+(re<$)),x+=2,re<$){ue=Vi(y,g,0),ye=y,X=Vi(b,A,0),he=b;var ne=Vi(oe,D,0);aa(t,x,L-257),aa(t,x+5,fe-1),aa(t,x+10,z-4),x+=14;for(var R=0;R<z;++R)aa(t,x+3*R,oe[Yf[R]]);x+=3*z;for(var Le=[w,ee],k=0;k<2;++k)for(var q=Le[k],R=0;R<q.length;++R){var G=q[R]&31;aa(t,x,ne[G]),x+=oe[G],G>15&&(aa(t,x,q[R]>>5&127),x+=q[R]>>12)}}else ue=Qy,ye=ls,X=e4,he=kc;for(var R=0;R<c;++R){var Y=i[R];if(Y>255){var G=Y>>18&31;$l(t,x,ue[G+257]),x+=ye[G+257],G>7&&(aa(t,x,Y>>23&31),x+=qd[G]);var Z=Y&31;$l(t,x,X[Z]),x+=he[Z],Z>3&&($l(t,x,Y>>5&8191),x+=$d[Z])}else $l(t,x,ue[Y]),x+=ye[Y]}return $l(t,x,ue[256]),x+ye[256]},i4=new am([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),W2=new cr(0),a4=function(e,t,n,i,a,s){var l=s.z||e.length,c=new cr(i+l+5*(1+Math.ceil(l/7e3))+a),d=c.subarray(i,c.length-a),p=s.l,x=(s.r||0)&7;if(t){x&&(d[0]=s.r>>3);for(var m=i4[t-1],y=m>>13,g=m&8191,_=(1<<n)-1,b=s.p||new Wr(32768),A=s.h||new Wr(_+1),N=Math.ceil(n/3),w=2*N,L=function(Me){return(e[Me]^e[Me+1]<<N^e[Me+2]<<w)&_},J=new am(25e3),ee=new Wr(288),fe=new Wr(32),H=0,R=0,te=s.i||0,oe=0,D=s.w||0,z=0;te+2<l;++te){var E=L(te),$=te&32767,re=A[E];if(b[$]=re,A[E]=$,D<=te){var ue=l-te;if((H>7e3||oe>24576)&&(ue>423||!p)){x=r1(e,d,0,J,ee,fe,R,oe,z,te-z,x),oe=H=R=0,z=te;for(var ye=0;ye<286;++ye)ee[ye]=0;for(var ye=0;ye<30;++ye)fe[ye]=0}var X=2,he=0,ne=g,Le=$-re&32767;if(ue>2&&E==L(te-Le))for(var k=Math.min(y,ue)-1,q=Math.min(32767,te),G=Math.min(258,ue);Le<=q&&--ne&&$!=re;){if(e[te+X]==e[te+X-Le]){for(var Y=0;Y<G&&e[te+Y]==e[te+Y-Le];++Y);if(Y>X){if(X=Y,he=Le,Y>k)break;for(var Z=Math.min(Le,Y-2),K=0,ye=0;ye<Z;++ye){var le=te-Le+ye&32767,j=b[le],V=le-j&32767;V>K&&(K=V,re=le)}}}$=re,re=b[$],Le+=$-re&32767}if(he){J[oe++]=268435456|Kf[X]<<18|t1[he];var F=Kf[X]&31,ae=t1[he]&31;R+=qd[F]+$d[ae],++ee[257+F],++fe[ae],D=te+X,++H}else J[oe++]=e[te],++ee[e[te]]}}for(te=Math.max(te,D);te<l;++te)J[oe++]=e[te],++ee[e[te]];x=r1(e,d,p,J,ee,fe,R,oe,z,te-z,x),p||(s.r=x&7|d[x/8|0]<<3,x-=7,s.h=A,s.p=b,s.i=te,s.w=D)}else{for(var te=s.w||0;te<l+p;te+=65535){var be=te+65535;be>=l&&(d[x/8|0]=p,be=l),x=G2(d,x+1,e.subarray(te,be))}s.i=l}return H2(c,0,i+sm(x)+a)},J2=function(){var e=1,t=0;return{p:function(n){for(var i=e,a=t,s=n.length|0,l=0;l!=s;){for(var c=Math.min(l+2655,s);l<c;++l)a+=i+=n[l];i=(i&65535)+15*(i>>16),a=(a&65535)+15*(a>>16)}e=i,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},s4=function(e,t,n,i,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),l=new cr(s.length+e.length);l.set(s),l.set(e,s.length),e=l,a.w=s.length}return a4(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,i,a)},X2=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},o4=function(e,t){var n=t.level,i=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=J2();a.p(t.dictionary),X2(e,2,a.d())}},l4=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&bi(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&bi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function ep(e,t){t||(t={});var n=J2();n.p(e);var i=s4(e,t,t.dictionary?6:2,4);return o4(i,t),X2(i,i.length-4,n.d()),i}function c4(e,t){return r4(e.subarray(l4(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var u4=typeof TextDecoder<"u"&&new TextDecoder,d4=0;try{u4.decode(W2,{stream:!0}),d4=1}catch{}var pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Jh(){pt.console&&typeof pt.console.log=="function"&&pt.console.log.apply(pt.console,arguments)}var Qt={log:Jh,warn:function(e){pt.console&&(typeof pt.console.warn=="function"?pt.console.warn.apply(pt.console,arguments):Jh.call(null,arguments))},error:function(e){pt.console&&(typeof pt.console.error=="function"?pt.console.error.apply(pt.console,arguments):Jh(e))}};function Xh(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){_s(i.response,t,n)},i.onerror=function(){Qt.error("could not download file")},i.send()}function i1(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Tu(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var oc,tp,_s=pt.saveAs||((typeof window>"u"?"undefined":Wt(window))!=="object"||window!==pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=pt.URL||pt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?i1(a.href)?Xh(e,t,n):Tu(a,a.target="_blank"):Tu(a)):(a.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(a.href)},4e4),setTimeout(function(){Tu(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(i1(e))Xh(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){Tu(i)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:Wt(s)!=="object"&&(Qt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a}(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return Xh(e,t,n);var a=e.type==="application/octet-stream",s=/constructor/i.test(pt.HTMLElement)||pt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&s)&&(typeof FileReader>"u"?"undefined":Wt(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var x=c.result;x=l?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=x:location=x,i=null},c.readAsDataURL(e)}else{var d=pt.URL||pt.webkitURL,p=d.createObjectURL(e);i?i.location=p:location.href=p,i=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Y2(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<n.length;i++){var a=n[i].re,s=n[i].process,l=a.exec(e);l&&(t=s(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),p=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),p.length==1&&(p="0"+p),"#"+c+d+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Yh(e,t){var n=e[0],i=e[1],a=e[2],s=e[3];n=ir(n,i,a,s,t[0],7,-680876936),s=ir(s,n,i,a,t[1],12,-389564586),a=ir(a,s,n,i,t[2],17,606105819),i=ir(i,a,s,n,t[3],22,-1044525330),n=ir(n,i,a,s,t[4],7,-176418897),s=ir(s,n,i,a,t[5],12,1200080426),a=ir(a,s,n,i,t[6],17,-1473231341),i=ir(i,a,s,n,t[7],22,-45705983),n=ir(n,i,a,s,t[8],7,1770035416),s=ir(s,n,i,a,t[9],12,-1958414417),a=ir(a,s,n,i,t[10],17,-42063),i=ir(i,a,s,n,t[11],22,-1990404162),n=ir(n,i,a,s,t[12],7,1804603682),s=ir(s,n,i,a,t[13],12,-40341101),a=ir(a,s,n,i,t[14],17,-1502002290),n=ar(n,i=ir(i,a,s,n,t[15],22,1236535329),a,s,t[1],5,-165796510),s=ar(s,n,i,a,t[6],9,-1069501632),a=ar(a,s,n,i,t[11],14,643717713),i=ar(i,a,s,n,t[0],20,-373897302),n=ar(n,i,a,s,t[5],5,-701558691),s=ar(s,n,i,a,t[10],9,38016083),a=ar(a,s,n,i,t[15],14,-660478335),i=ar(i,a,s,n,t[4],20,-405537848),n=ar(n,i,a,s,t[9],5,568446438),s=ar(s,n,i,a,t[14],9,-1019803690),a=ar(a,s,n,i,t[3],14,-187363961),i=ar(i,a,s,n,t[8],20,1163531501),n=ar(n,i,a,s,t[13],5,-1444681467),s=ar(s,n,i,a,t[2],9,-51403784),a=ar(a,s,n,i,t[7],14,1735328473),n=sr(n,i=ar(i,a,s,n,t[12],20,-1926607734),a,s,t[5],4,-378558),s=sr(s,n,i,a,t[8],11,-2022574463),a=sr(a,s,n,i,t[11],16,1839030562),i=sr(i,a,s,n,t[14],23,-35309556),n=sr(n,i,a,s,t[1],4,-1530992060),s=sr(s,n,i,a,t[4],11,1272893353),a=sr(a,s,n,i,t[7],16,-155497632),i=sr(i,a,s,n,t[10],23,-1094730640),n=sr(n,i,a,s,t[13],4,681279174),s=sr(s,n,i,a,t[0],11,-358537222),a=sr(a,s,n,i,t[3],16,-722521979),i=sr(i,a,s,n,t[6],23,76029189),n=sr(n,i,a,s,t[9],4,-640364487),s=sr(s,n,i,a,t[12],11,-421815835),a=sr(a,s,n,i,t[15],16,530742520),n=or(n,i=sr(i,a,s,n,t[2],23,-995338651),a,s,t[0],6,-198630844),s=or(s,n,i,a,t[7],10,1126891415),a=or(a,s,n,i,t[14],15,-1416354905),i=or(i,a,s,n,t[5],21,-57434055),n=or(n,i,a,s,t[12],6,1700485571),s=or(s,n,i,a,t[3],10,-1894986606),a=or(a,s,n,i,t[10],15,-1051523),i=or(i,a,s,n,t[1],21,-2054922799),n=or(n,i,a,s,t[8],6,1873313359),s=or(s,n,i,a,t[15],10,-30611744),a=or(a,s,n,i,t[6],15,-1560198380),i=or(i,a,s,n,t[13],21,1309151649),n=or(n,i,a,s,t[4],6,-145523070),s=or(s,n,i,a,t[11],10,-1120210379),a=or(a,s,n,i,t[2],15,718787259),i=or(i,a,s,n,t[9],21,-343485551),e[0]=Ka(n,e[0]),e[1]=Ka(i,e[1]),e[2]=Ka(a,e[2]),e[3]=Ka(s,e[3])}function Ud(e,t,n,i,a,s){return t=Ka(Ka(t,e),Ka(i,s)),Ka(t<<a|t>>>32-a,n)}function ir(e,t,n,i,a,s,l){return Ud(t&n|~t&i,e,t,a,s,l)}function ar(e,t,n,i,a,s,l){return Ud(t&i|n&~i,e,t,a,s,l)}function sr(e,t,n,i,a,s,l){return Ud(t^n^i,e,t,a,s,l)}function or(e,t,n,i,a,s,l){return Ud(n^(t|~i),e,t,a,s,l)}function K2(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Yh(i,h4(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Yh(i,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,Yh(i,a),i}function h4(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}oc=pt.atob.bind(pt),tp=pt.btoa.bind(pt);var a1="0123456789abcdef".split("");function f4(e){for(var t="",n=0;n<4;n++)t+=a1[e>>8*n+4&15]+a1[e>>8*n&15];return t}function p4(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function np(e){return K2(e).map(p4).join("")}var m4=function(e){for(var t=0;t<e.length;t++)e[t]=f4(e[t]);return e.join("")}(K2("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ka(e,t){if(m4){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function rp(e,t){var n,i,a,s;if(e!==n){for(var l=(a=e,s=1+(256/e.length>>0),new Array(s+1).join(a)),c=[],d=0;d<256;d++)c[d]=d;var p=0;for(d=0;d<256;d++){var x=c[d];p=(p+x+l.charCodeAt(d))%256,c[d]=c[p],c[p]=x}n=e,i=c}else c=i;var m=t.length,y=0,g=0,_="";for(d=0;d<m;d++)g=(g+(x=c[y=(y+1)%256]))%256,c[y]=c[g],c[g]=x,l=c[(c[y]+c[g])%256],_+=String.fromCharCode(t.charCodeAt(d)^l);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var s1={print:4,modify:8,copy:16,"annot-forms":32};function wo(e,t,n,i){this.v=1,this.r=2;var a=192;e.forEach(function(c){if(s1.perm!==void 0)throw new Error("Invalid permission: "+c);a+=s1[c]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,l),this.P=-(1+(255^a)),this.encryptionKey=np(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=rp(this.encryptionKey,this.padding)}function bo(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var a=e.charCodeAt(i);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[i]}return t}function o1(e){if(Wt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,i,a){if(a=a||!1,typeof n!="string"||typeof i!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[i,!!a],s},this.unsubscribe=function(n){for(var i in t)if(t[i][n])return delete t[i][n],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[n]){var l=t[n][s];try{l[0].apply(e,i)}catch(c){pt.console&&Qt.error("jsPDF PubSub Error",c.message,c)}l[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function jd(e){if(!(this instanceof jd))return new jd(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Q2(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ps(e,t,n,i,a){if(!(this instanceof Ps))return new Ps(e,t,n,i,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Q2.call(this,i,a)}function Eo(e,t,n,i,a){if(!(this instanceof Eo))return new Eo(e,t,n,i,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Q2.call(this,i,a)}function ft(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],a=arguments[2],s=arguments[3],l=[],c=1,d=16,p="S",x=null;Wt(e=e||{})==="object"&&(n=e.orientation,i=e.unit||i,a=e.format||a,s=e.compress||e.compressPdf||s,(x=e.encryption||null)!==null&&(x.userPassword=x.userPassword||"",x.ownerPassword=x.ownerPassword||"",x.userPermissions=x.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),p=e.defaultPathOperation||"S"),l=e.filters||(s===!0?["FlateEncode"]:l),i=i||"mm",n=(""+(n||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=o1;var _="1.3",b=g.__private__.getPdfVersion=function(){return _};g.__private__.setPdfVersion=function(h){_=h};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return A};var N=g.__private__.getPageFormat=function(h){return A[h]};a=a||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},L=w.COMPAT;function J(){this.saveGraphicsState(),W(new $e(Ve,0,0,-Ve,0,Aa()*Ve).toString()+" cm"),this.setFontSize(this.getFontSize()/Ve),p="n",L=w.ADVANCED}function ee(){this.restoreGraphicsState(),p="S",L=w.COMPAT}var fe=g.__private__.combineFontStyleAndFontWeight=function(h,C){if(h=="bold"&&C=="normal"||h=="bold"&&C==400||h=="normal"&&C=="italic"||h=="bold"&&C=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return C&&(h=C==400||C==="normal"?h==="italic"?"italic":"normal":C!=700&&C!=="bold"||h!=="normal"?(C==700?"bold":C)+""+h:"bold"),h};g.advancedAPI=function(h){var C=L===w.COMPAT;return C&&J.call(this),typeof h!="function"||(h(this),C&&ee.call(this)),this},g.compatAPI=function(h){var C=L===w.ADVANCED;return C&&ee.call(this),typeof h!="function"||(h(this),C&&J.call(this)),this},g.isAdvancedAPI=function(){return L===w.ADVANCED};var H,R=function(h){if(L!==w.ADVANCED)throw new Error(h+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},te=g.roundToPrecision=g.__private__.roundToPrecision=function(h,C){var Q=t||C;if(isNaN(h)||isNaN(Q))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return h.toFixed(Q).replace(/0+$/,"")};H=g.hpf=g.__private__.hpf=typeof d=="number"?function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.hpf");return te(h,d)}:d==="smart"?function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.hpf");return te(h,h>-1&&h<1?16:5)}:function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.hpf");return te(h,16)};var oe=g.f2=g.__private__.f2=function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.f2");return te(h,2)},D=g.__private__.f3=function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.f3");return te(h,3)},z=g.scale=g.__private__.scale=function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.scale");return L===w.COMPAT?h*Ve:L===w.ADVANCED?h:void 0},E=function(h){return L===w.COMPAT?Aa()-h:L===w.ADVANCED?h:void 0},$=function(h){return z(E(h))};g.__private__.setPrecision=g.setPrecision=function(h){typeof parseInt(h,10)=="number"&&(t=parseInt(h,10))};var re,ue="00000000000000000000000000000000",ye=g.__private__.getFileId=function(){return ue},X=g.__private__.setFileId=function(h){return ue=h!==void 0&&/^[a-fA-F0-9]{32}$/.test(h)?h.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),x!==null&&(er=new wo(x.userPermissions,x.userPassword,x.ownerPassword,ue)),ue};g.setFileId=function(h){return X(h),this},g.getFileId=function(){return ye()};var he=g.__private__.convertDateToPDFDate=function(h){var C=h.getTimezoneOffset(),Q=C<0?"+":"-",ie=Math.floor(Math.abs(C/60)),ve=Math.abs(C%60),ke=[Q,G(ie),"'",G(ve),"'"].join("");return["D:",h.getFullYear(),G(h.getMonth()+1),G(h.getDate()),G(h.getHours()),G(h.getMinutes()),G(h.getSeconds()),ke].join("")},ne=g.__private__.convertPDFDateToDate=function(h){var C=parseInt(h.substr(2,4),10),Q=parseInt(h.substr(6,2),10)-1,ie=parseInt(h.substr(8,2),10),ve=parseInt(h.substr(10,2),10),ke=parseInt(h.substr(12,2),10),Fe=parseInt(h.substr(14,2),10);return new Date(C,Q,ie,ve,ke,Fe,0)},Le=g.__private__.setCreationDate=function(h){var C;if(h===void 0&&(h=new Date),h instanceof Date)C=he(h);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(h))throw new Error("Invalid argument passed to jsPDF.setCreationDate");C=h}return re=C},k=g.__private__.getCreationDate=function(h){var C=re;return h==="jsDate"&&(C=ne(re)),C};g.setCreationDate=function(h){return Le(h),this},g.getCreationDate=function(h){return k(h)};var q,G=g.__private__.padd2=function(h){return("0"+parseInt(h)).slice(-2)},Y=g.__private__.padd2Hex=function(h){return("00"+(h=h.toString())).substr(h.length)},Z=0,K=[],le=[],j=0,V=[],F=[],ae=!1,be=le,Me=function(){Z=0,j=0,le=[],K=[],V=[],dr=Rt(),Or=Rt()};g.__private__.setCustomOutputDestination=function(h){ae=!0,be=h};var xe=function(h){ae||(be=h)};g.__private__.resetCustomOutputDestination=function(){ae=!1,be=le};var W=g.__private__.out=function(h){return h=h.toString(),j+=h.length+1,be.push(h),be},rt=g.__private__.write=function(h){return W(arguments.length===1?h.toString():Array.prototype.join.call(arguments," "))},Xe=g.__private__.getArrayBuffer=function(h){for(var C=h.length,Q=new ArrayBuffer(C),ie=new Uint8Array(Q);C--;)ie[C]=h.charCodeAt(C);return Q},ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return ze};var Ee=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(h){return Ee=L===w.ADVANCED?h/Ve:h,this};var qe,Ce=g.__private__.getFontSize=g.getFontSize=function(){return L===w.COMPAT?Ee:Ee*Ve},Re=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(h){return Re=h,this},g.__private__.getR2L=g.getR2L=function(){return Re};var tt,it=g.__private__.setZoomMode=function(h){var C=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(h))qe=h;else if(isNaN(h)){if(C.indexOf(h)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+h+'" is not recognized.');qe=h}else qe=parseInt(h,10)};g.__private__.getZoomMode=function(){return qe};var ct,kt=g.__private__.setPageMode=function(h){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(h)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+h+'" is not recognized.');tt=h};g.__private__.getPageMode=function(){return tt};var Ft=g.__private__.setLayoutMode=function(h){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(h)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+h+'" is not recognized.');ct=h};g.__private__.getLayoutMode=function(){return ct},g.__private__.setDisplayMode=g.setDisplayMode=function(h,C,Q){return it(h),Ft(C),kt(Q),this};var ot={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(h){if(Object.keys(ot).indexOf(h)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ot[h]},g.__private__.getDocumentProperties=function(){return ot},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(h){for(var C in ot)ot.hasOwnProperty(C)&&h[C]&&(ot[C]=h[C]);return this},g.__private__.setDocumentProperty=function(h,C){if(Object.keys(ot).indexOf(h)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ot[h]=C};var ht,Ve,an,Ct,Zt,Dt={},Xt={},Zn=[],It={},Er={},en={},Fn={},Bt=null,Ot=0,Ue=[],T=new o1(g),_e=e.hotfixes||[],Ae={},et={},yt=[],$e=function h(C,Q,ie,ve,ke,Fe){if(!(this instanceof h))return new h(C,Q,ie,ve,ke,Fe);isNaN(C)&&(C=1),isNaN(Q)&&(Q=0),isNaN(ie)&&(ie=0),isNaN(ve)&&(ve=1),isNaN(ke)&&(ke=0),isNaN(Fe)&&(Fe=0),this._matrix=[C,Q,ie,ve,ke,Fe]};Object.defineProperty($e.prototype,"sx",{get:function(){return this._matrix[0]},set:function(h){this._matrix[0]=h}}),Object.defineProperty($e.prototype,"shy",{get:function(){return this._matrix[1]},set:function(h){this._matrix[1]=h}}),Object.defineProperty($e.prototype,"shx",{get:function(){return this._matrix[2]},set:function(h){this._matrix[2]=h}}),Object.defineProperty($e.prototype,"sy",{get:function(){return this._matrix[3]},set:function(h){this._matrix[3]=h}}),Object.defineProperty($e.prototype,"tx",{get:function(){return this._matrix[4]},set:function(h){this._matrix[4]=h}}),Object.defineProperty($e.prototype,"ty",{get:function(){return this._matrix[5]},set:function(h){this._matrix[5]=h}}),Object.defineProperty($e.prototype,"a",{get:function(){return this._matrix[0]},set:function(h){this._matrix[0]=h}}),Object.defineProperty($e.prototype,"b",{get:function(){return this._matrix[1]},set:function(h){this._matrix[1]=h}}),Object.defineProperty($e.prototype,"c",{get:function(){return this._matrix[2]},set:function(h){this._matrix[2]=h}}),Object.defineProperty($e.prototype,"d",{get:function(){return this._matrix[3]},set:function(h){this._matrix[3]=h}}),Object.defineProperty($e.prototype,"e",{get:function(){return this._matrix[4]},set:function(h){this._matrix[4]=h}}),Object.defineProperty($e.prototype,"f",{get:function(){return this._matrix[5]},set:function(h){this._matrix[5]=h}}),Object.defineProperty($e.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($e.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($e.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($e.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),$e.prototype.join=function(h){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(H).join(h)},$e.prototype.multiply=function(h){var C=h.sx*this.sx+h.shy*this.shx,Q=h.sx*this.shy+h.shy*this.sy,ie=h.shx*this.sx+h.sy*this.shx,ve=h.shx*this.shy+h.sy*this.sy,ke=h.tx*this.sx+h.ty*this.shx+this.tx,Fe=h.tx*this.shy+h.ty*this.sy+this.ty;return new $e(C,Q,ie,ve,ke,Fe)},$e.prototype.decompose=function(){var h=this.sx,C=this.shy,Q=this.shx,ie=this.sy,ve=this.tx,ke=this.ty,Fe=Math.sqrt(h*h+C*C),Ye=(h/=Fe)*Q+(C/=Fe)*ie;Q-=h*Ye,ie-=C*Ye;var lt=Math.sqrt(Q*Q+ie*ie);return Ye/=lt,h*(ie/=lt)<C*(Q/=lt)&&(h=-h,C=-C,Ye=-Ye,Fe=-Fe),{scale:new $e(Fe,0,0,lt,0,0),translate:new $e(1,0,0,1,ve,ke),rotate:new $e(h,C,-C,h,0,0),skew:new $e(1,0,Ye,1,0,0)}},$e.prototype.toString=function(h){return this.join(" ")},$e.prototype.inversed=function(){var h=this.sx,C=this.shy,Q=this.shx,ie=this.sy,ve=this.tx,ke=this.ty,Fe=1/(h*ie-C*Q),Ye=ie*Fe,lt=-C*Fe,jt=-Q*Fe,wt=h*Fe;return new $e(Ye,lt,jt,wt,-Ye*ve-jt*ke,-lt*ve-wt*ke)},$e.prototype.applyToPoint=function(h){var C=h.x*this.sx+h.y*this.shx+this.tx,Q=h.x*this.shy+h.y*this.sy+this.ty;return new eo(C,Q)},$e.prototype.applyToRectangle=function(h){var C=this.applyToPoint(h),Q=this.applyToPoint(new eo(h.x+h.w,h.y+h.h));return new pl(C.x,C.y,Q.x-C.x,Q.y-C.y)},$e.prototype.clone=function(){var h=this.sx,C=this.shy,Q=this.shx,ie=this.sy,ve=this.tx,ke=this.ty;return new $e(h,C,Q,ie,ve,ke)},g.Matrix=$e;var $t=g.matrixMult=function(h,C){return C.multiply(h)},Lt=new $e(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Lt;var Ut=function(h,C){if(!Er[h]){var Q=(C instanceof Ps?"Sh":"P")+(Object.keys(It).length+1).toString(10);C.id=Q,Er[h]=Q,It[Q]=C,T.publish("addPattern",C)}};g.ShadingPattern=Ps,g.TilingPattern=Eo,g.addShadingPattern=function(h,C){return R("addShadingPattern()"),Ut(h,C),this},g.beginTilingPattern=function(h){R("beginTilingPattern()"),Bc(h.boundingBox[0],h.boundingBox[1],h.boundingBox[2]-h.boundingBox[0],h.boundingBox[3]-h.boundingBox[1],h.matrix)},g.endTilingPattern=function(h,C){R("endTilingPattern()"),C.stream=F[q].join(`
`),Ut(h,C),T.publish("endTilingPattern",C),yt.pop().restore()};var Vt=g.__private__.newObject=function(){var h=Rt();return On(h,!0),h},Rt=g.__private__.newObjectDeferred=function(){return Z++,K[Z]=function(){return j},Z},On=function(h,C){return C=typeof C=="boolean"&&C,K[h]=j,C&&W(h+" 0 obj"),h},Fr=g.__private__.newAdditionalObject=function(){var h={objId:Rt(),content:""};return V.push(h),h},dr=Rt(),Or=Rt(),Rr=g.__private__.decodeColorString=function(h){var C=h.split(" ");if(C.length!==2||C[1]!=="g"&&C[1]!=="G")C.length===5&&(C[4]==="k"||C[4]==="K")&&(C=[(1-C[0])*(1-C[3]),(1-C[1])*(1-C[3]),(1-C[2])*(1-C[3]),"r"]);else{var Q=parseFloat(C[0]);C=[Q,Q,Q,"r"]}for(var ie="#",ve=0;ve<3;ve++)ie+=("0"+Math.floor(255*parseFloat(C[ve])).toString(16)).slice(-2);return ie},wr=g.__private__.encodeColorString=function(h){var C;typeof h=="string"&&(h={ch1:h});var Q=h.ch1,ie=h.ch2,ve=h.ch3,ke=h.ch4,Fe=h.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Q=="string"&&Q.charAt(0)!=="#"){var Ye=new Y2(Q);if(Ye.ok)Q=Ye.toHex();else if(!/^\d*\.?\d*$/.test(Q))throw new Error('Invalid color "'+Q+'" passed to jsPDF.encodeColorString.')}if(typeof Q=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Q)&&(Q="#"+Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]),typeof Q=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Q)){var lt=parseInt(Q.substr(1),16);Q=lt>>16&255,ie=lt>>8&255,ve=255&lt}if(ie===void 0||ke===void 0&&Q===ie&&ie===ve)if(typeof Q=="string")C=Q+" "+Fe[0];else switch(h.precision){case 2:C=oe(Q/255)+" "+Fe[0];break;case 3:default:C=D(Q/255)+" "+Fe[0]}else if(ke===void 0||Wt(ke)==="object"){if(ke&&!isNaN(ke.a)&&ke.a===0)return C=["1.","1.","1.",Fe[1]].join(" ");if(typeof Q=="string")C=[Q,ie,ve,Fe[1]].join(" ");else switch(h.precision){case 2:C=[oe(Q/255),oe(ie/255),oe(ve/255),Fe[1]].join(" ");break;default:case 3:C=[D(Q/255),D(ie/255),D(ve/255),Fe[1]].join(" ")}}else if(typeof Q=="string")C=[Q,ie,ve,ke,Fe[2]].join(" ");else switch(h.precision){case 2:C=[oe(Q),oe(ie),oe(ve),oe(ke),Fe[2]].join(" ");break;case 3:default:C=[D(Q),D(ie),D(ve),D(ke),Fe[2]].join(" ")}return C},Qr=g.__private__.getFilters=function(){return l},br=g.__private__.putStream=function(h){var C=(h=h||{}).data||"",Q=h.filters||Qr(),ie=h.alreadyAppliedFilters||[],ve=h.addLength1||!1,ke=C.length,Fe=h.objectId,Ye=function(tr){return tr};if(x!==null&&Fe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");x!==null&&(Ye=er.encryptor(Fe,0));var lt={};Q===!0&&(Q=["FlateEncode"]);var jt=h.additionalKeyValues||[],wt=(lt=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(C,Q):{data:C,reverseChain:[]}).reverseChain+(Array.isArray(ie)?ie.join(" "):ie.toString());if(lt.data.length!==0&&(jt.push({key:"Length",value:lt.data.length}),ve===!0&&jt.push({key:"Length1",value:ke})),wt.length!=0)if(wt.split("/").length-1==1)jt.push({key:"Filter",value:wt});else{jt.push({key:"Filter",value:"["+wt+"]"});for(var Tt=0;Tt<jt.length;Tt+=1)if(jt[Tt].key==="DecodeParms"){for(var hn=[],gn=0;gn<lt.reverseChain.split("/").length-1;gn+=1)hn.push("null");hn.push(jt[Tt].value),jt[Tt].value="["+hn.join(" ")+"]"}}W("<<");for(var Ln=0;Ln<jt.length;Ln++)W("/"+jt[Ln].key+" "+jt[Ln].value);W(">>"),lt.data.length!==0&&(W("stream"),W(Ye(lt.data)),W("endstream"))},Tn=g.__private__.putPage=function(h){var C=h.number,Q=h.data,ie=h.objId,ve=h.contentsObjId;On(ie,!0),W("<</Type /Page"),W("/Parent "+h.rootDictionaryObjId+" 0 R"),W("/Resources "+h.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(H(h.mediaBox.bottomLeftX))+" "+parseFloat(H(h.mediaBox.bottomLeftY))+" "+H(h.mediaBox.topRightX)+" "+H(h.mediaBox.topRightY)+"]"),h.cropBox!==null&&W("/CropBox ["+H(h.cropBox.bottomLeftX)+" "+H(h.cropBox.bottomLeftY)+" "+H(h.cropBox.topRightX)+" "+H(h.cropBox.topRightY)+"]"),h.bleedBox!==null&&W("/BleedBox ["+H(h.bleedBox.bottomLeftX)+" "+H(h.bleedBox.bottomLeftY)+" "+H(h.bleedBox.topRightX)+" "+H(h.bleedBox.topRightY)+"]"),h.trimBox!==null&&W("/TrimBox ["+H(h.trimBox.bottomLeftX)+" "+H(h.trimBox.bottomLeftY)+" "+H(h.trimBox.topRightX)+" "+H(h.trimBox.topRightY)+"]"),h.artBox!==null&&W("/ArtBox ["+H(h.artBox.bottomLeftX)+" "+H(h.artBox.bottomLeftY)+" "+H(h.artBox.topRightX)+" "+H(h.artBox.topRightY)+"]"),typeof h.userUnit=="number"&&h.userUnit!==1&&W("/UserUnit "+h.userUnit),T.publish("putPage",{objId:ie,pageContext:Ue[C],pageNumber:C,page:Q}),W("/Contents "+ve+" 0 R"),W(">>"),W("endobj");var ke=Q.join(`
`);return L===w.ADVANCED&&(ke+=`
Q`),On(ve,!0),br({data:ke,filters:Qr(),objectId:ve}),W("endobj"),ie},Gi=g.__private__.putPages=function(){var h,C,Q=[];for(h=1;h<=Ot;h++)Ue[h].objId=Rt(),Ue[h].contentsObjId=Rt();for(h=1;h<=Ot;h++)Q.push(Tn({number:h,data:F[h],objId:Ue[h].objId,contentsObjId:Ue[h].contentsObjId,mediaBox:Ue[h].mediaBox,cropBox:Ue[h].cropBox,bleedBox:Ue[h].bleedBox,trimBox:Ue[h].trimBox,artBox:Ue[h].artBox,userUnit:Ue[h].userUnit,rootDictionaryObjId:dr,resourceDictionaryObjId:Or}));On(dr,!0),W("<</Type /Pages");var ie="/Kids [";for(C=0;C<Ot;C++)ie+=Q[C]+" 0 R ";W(ie+"]"),W("/Count "+Ot),W(">>"),W("endobj"),T.publish("postPutPages")},ya=function(h){T.publish("putFont",{font:h,out:W,newObject:Vt,putStream:br}),h.isAlreadyPutted!==!0&&(h.objectNumber=Vt(),W("<<"),W("/Type /Font"),W("/BaseFont /"+bo(h.postScriptName)),W("/Subtype /Type1"),typeof h.encoding=="string"&&W("/Encoding /"+h.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},Wi=function(){for(var h in Dt)Dt.hasOwnProperty(h)&&(m===!1||m===!0&&y.hasOwnProperty(h))&&ya(Dt[h])},Na=function(h){h.objectNumber=Vt();var C=[];C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Form"}),C.push({key:"BBox",value:"["+[H(h.x),H(h.y),H(h.x+h.width),H(h.y+h.height)].join(" ")+"]"}),C.push({key:"Matrix",value:"["+h.matrix.toString()+"]"});var Q=h.pages[1].join(`
`);br({data:Q,additionalKeyValues:C,objectId:h.objectNumber}),W("endobj")},wa=function(){for(var h in Ae)Ae.hasOwnProperty(h)&&Na(Ae[h])},Gs=function(h,C){var Q,ie=[],ve=1/(C-1);for(Q=0;Q<1;Q+=ve)ie.push(Q);if(ie.push(1),h[0].offset!=0){var ke={offset:0,color:h[0].color};h.unshift(ke)}if(h[h.length-1].offset!=1){var Fe={offset:1,color:h[h.length-1].color};h.push(Fe)}for(var Ye="",lt=0,jt=0;jt<ie.length;jt++){for(Q=ie[jt];Q>h[lt+1].offset;)lt++;var wt=h[lt].offset,Tt=(Q-wt)/(h[lt+1].offset-wt),hn=h[lt].color,gn=h[lt+1].color;Ye+=Y(Math.round((1-Tt)*hn[0]+Tt*gn[0]).toString(16))+Y(Math.round((1-Tt)*hn[1]+Tt*gn[1]).toString(16))+Y(Math.round((1-Tt)*hn[2]+Tt*gn[2]).toString(16))}return Ye.trim()},il=function(h,C){C||(C=21);var Q=Vt(),ie=Gs(h.colors,C),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+C+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),br({data:ie,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Q}),W("endobj"),h.objectNumber=Vt(),W("<< /ShadingType "+h.type),W("/ColorSpace /DeviceRGB");var ke="/Coords ["+H(parseFloat(h.coords[0]))+" "+H(parseFloat(h.coords[1]))+" ";h.type===2?ke+=H(parseFloat(h.coords[2]))+" "+H(parseFloat(h.coords[3])):ke+=H(parseFloat(h.coords[2]))+" "+H(parseFloat(h.coords[3]))+" "+H(parseFloat(h.coords[4]))+" "+H(parseFloat(h.coords[5])),W(ke+="]"),h.matrix&&W("/Matrix ["+h.matrix.toString()+"]"),W("/Function "+Q+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},al=function(h,C){var Q=Rt(),ie=Vt();C.push({resourcesOid:Q,objectOid:ie}),h.objectNumber=ie;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+h.boundingBox.map(H).join(" ")+"]"}),ve.push({key:"XStep",value:H(h.xStep)}),ve.push({key:"YStep",value:H(h.yStep)}),ve.push({key:"Resources",value:Q+" 0 R"}),h.matrix&&ve.push({key:"Matrix",value:"["+h.matrix.toString()+"]"}),br({data:h.stream,additionalKeyValues:ve,objectId:h.objectNumber}),W("endobj")},ba=function(h){var C;for(C in It)It.hasOwnProperty(C)&&(It[C]instanceof Ps?il(It[C]):It[C]instanceof Eo&&al(It[C],h))},Ws=function(h){for(var C in h.objectNumber=Vt(),W("<<"),h)switch(C){case"opacity":W("/ca "+oe(h[C]));break;case"stroke-opacity":W("/CA "+oe(h[C]))}W(">>"),W("endobj")},sl=function(){var h;for(h in en)en.hasOwnProperty(h)&&Ws(en[h])},fs=function(){for(var h in W("/XObject <<"),Ae)Ae.hasOwnProperty(h)&&Ae[h].objectNumber>=0&&W("/"+h+" "+Ae[h].objectNumber+" 0 R");T.publish("putXobjectDict"),W(">>")},Ji=function(){er.oid=Vt(),W("<<"),W("/Filter /Standard"),W("/V "+er.v),W("/R "+er.r),W("/U <"+er.toHexString(er.U)+">"),W("/O <"+er.toHexString(er.O)+">"),W("/P "+er.P),W(">>"),W("endobj")},Zr=function(){for(var h in W("/Font <<"),Dt)Dt.hasOwnProperty(h)&&(m===!1||m===!0&&y.hasOwnProperty(h))&&W("/"+h+" "+Dt[h].objectNumber+" 0 R");W(">>")},Dn=function(){if(Object.keys(It).length>0){for(var h in W("/Shading <<"),It)It.hasOwnProperty(h)&&It[h]instanceof Ps&&It[h].objectNumber>=0&&W("/"+h+" "+It[h].objectNumber+" 0 R");T.publish("putShadingPatternDict"),W(">>")}},ei=function(h){if(Object.keys(It).length>0){for(var C in W("/Pattern <<"),It)It.hasOwnProperty(C)&&It[C]instanceof g.TilingPattern&&It[C].objectNumber>=0&&It[C].objectNumber<h&&W("/"+C+" "+It[C].objectNumber+" 0 R");T.publish("putTilingPatternDict"),W(">>")}},ol=function(){if(Object.keys(en).length>0){var h;for(h in W("/ExtGState <<"),en)en.hasOwnProperty(h)&&en[h].objectNumber>=0&&W("/"+h+" "+en[h].objectNumber+" 0 R");T.publish("putGStateDict"),W(">>")}},un=function(h){On(h.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Zr(),Dn(),ei(h.objectOid),ol(),fs(),W(">>"),W("endobj")},Js=function(){var h=[];Wi(),sl(),wa(),ba(h),T.publish("putResources"),h.forEach(un),un({resourcesOid:Or,objectOid:Number.MAX_SAFE_INTEGER}),T.publish("postPutResources")},Xi=function(){T.publish("putAdditionalObjects");for(var h=0;h<V.length;h++){var C=V[h];On(C.objId,!0),W(C.content),W("endobj")}T.publish("postPutAdditionalObjects")},ps=function(h){Xt[h.fontName]=Xt[h.fontName]||{},Xt[h.fontName][h.fontStyle]=h.id},ja=function(h,C,Q,ie,ve){var ke={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:h,fontName:C,fontStyle:Q,encoding:ie,isStandardFont:ve||!1,metadata:{}};return T.publish("addFont",{font:ke,instance:this}),Dt[ke.id]=ke,ps(ke),ke.id},Xs=function(h){for(var C=0,Q=ze.length;C<Q;C++){var ie=ja.call(this,h[C][0],h[C][1],h[C][2],ze[C][3],!0);m===!1&&(y[ie]=!0);var ve=h[C][0].split("-");ps({id:ie,fontName:ve[0],fontStyle:ve[1]||""})}T.publish("addFonts",{fonts:Dt,dictionary:Xt})},jr=function(h){return h.foo=function(){try{return h.apply(this,arguments)}catch(ie){var C=ie.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var Q="Error in function "+C.split(`
`)[0].split("<")[0]+": "+ie.message;if(!pt.console)throw new Error(Q);pt.console.error(Q,ie),pt.alert&&alert(Q)}},h.foo.bar=h,h.foo},Yi=function(h,C){var Q,ie,ve,ke,Fe,Ye,lt,jt,wt;if(ve=(C=C||{}).sourceEncoding||"Unicode",Fe=C.outputEncoding,(C.autoencode||Fe)&&Dt[ht].metadata&&Dt[ht].metadata[ve]&&Dt[ht].metadata[ve].encoding&&(ke=Dt[ht].metadata[ve].encoding,!Fe&&Dt[ht].encoding&&(Fe=Dt[ht].encoding),!Fe&&ke.codePages&&(Fe=ke.codePages[0]),typeof Fe=="string"&&(Fe=ke[Fe]),Fe)){for(lt=!1,Ye=[],Q=0,ie=h.length;Q<ie;Q++)(jt=Fe[h.charCodeAt(Q)])?Ye.push(String.fromCharCode(jt)):Ye.push(h[Q]),Ye[Q].charCodeAt(0)>>8&&(lt=!0);h=Ye.join("")}for(Q=h.length;lt===void 0&&Q!==0;)h.charCodeAt(Q-1)>>8&&(lt=!0),Q--;if(!lt)return h;for(Ye=C.noBOM?[]:[254,255],Q=0,ie=h.length;Q<ie;Q++){if((wt=(jt=h.charCodeAt(Q))>>8)>>8)throw new Error("Character at position "+Q+" of string '"+h+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ye.push(wt),Ye.push(jt-(wt<<8))}return String.fromCharCode.apply(void 0,Ye)},Gn=g.__private__.pdfEscape=g.pdfEscape=function(h,C){return Yi(h,C).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sa=g.__private__.beginPage=function(h){F[++Ot]=[],Ue[Ot]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(h[0]),topRightY:Number(h[1])}},je(Ot),xe(F[q])},ms=function(h,C){var Q,ie,ve;switch(n=C||n,typeof h=="string"&&(Q=N(h.toLowerCase()),Array.isArray(Q)&&(ie=Q[0],ve=Q[1])),Array.isArray(h)&&(ie=h[0]*Ve,ve=h[1]*Ve),isNaN(ie)&&(ie=a[0],ve=a[1]),(ie>14400||ve>14400)&&(Qt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ie=Math.min(14400,ie),ve=Math.min(14400,ve)),a=[ie,ve],n.substr(0,1)){case"l":ve>ie&&(a=[ve,ie]);break;case"p":ie>ve&&(a=[ve,ie])}Sa(a),zc(ul),W(pi),hl!==0&&W(hl+" J"),fl!==0&&W(fl+" j"),T.publish("addPage",{pageNumber:Ot})},B=function(h){h>0&&h<=Ot&&(F.splice(h,1),Ue.splice(h,1),Ot--,q>Ot&&(q=Ot),this.setPage(q))},je=function(h){h>0&&h<=Ot&&(q=h)},Oe=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return F.length-1},Nt=function(h,C,Q){var ie,ve=void 0;return Q=Q||{},h=h!==void 0?h:Dt[ht].fontName,C=C!==void 0?C:Dt[ht].fontStyle,ie=h.toLowerCase(),Xt[ie]!==void 0&&Xt[ie][C]!==void 0?ve=Xt[ie][C]:Xt[h]!==void 0&&Xt[h][C]!==void 0?ve=Xt[h][C]:Q.disableWarning===!1&&Qt.warn("Unable to look up font label for font '"+h+"', '"+C+"'. Refer to getFontList() for available fonts."),ve||Q.noFallback||(ve=Xt.times[C])==null&&(ve=Xt.times.normal),ve},ut=g.__private__.putInfo=function(){var h=Vt(),C=function(ie){return ie};for(var Q in x!==null&&(C=er.encryptor(h,0)),W("<<"),W("/Producer ("+Gn(C("jsPDF "+ft.version))+")"),ot)ot.hasOwnProperty(Q)&&ot[Q]&&W("/"+Q.substr(0,1).toUpperCase()+Q.substr(1)+" ("+Gn(C(ot[Q]))+")");W("/CreationDate ("+Gn(C(re))+")"),W(">>"),W("endobj")},xt=g.__private__.putCatalog=function(h){var C=(h=h||{}).rootDictionaryObjId||dr;switch(Vt(),W("<<"),W("/Type /Catalog"),W("/Pages "+C+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Q=""+qe;Q.substr(Q.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&W("/OpenAction [3 0 R /XYZ null null "+oe(qe)+"]")}switch(ct||(ct="continuous"),ct){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}tt&&W("/PageMode /"+tt),T.publish("putCatalog"),W(">>"),W("endobj")},At=g.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(Z+1)),W("/Root "+Z+" 0 R"),W("/Info "+(Z-1)+" 0 R"),x!==null&&W("/Encrypt "+er.oid+" 0 R"),W("/ID [ <"+ue+"> <"+ue+"> ]"),W(">>")},dn=g.__private__.putHeader=function(){W("%PDF-"+_),W("%ºß¬à")},Pi=g.__private__.putXRef=function(){var h="0000000000";W("xref"),W("0 "+(Z+1)),W("0000000000 65535 f ");for(var C=1;C<=Z;C++)typeof K[C]=="function"?W((h+K[C]()).slice(-10)+" 00000 n "):K[C]!==void 0?W((h+K[C]).slice(-10)+" 00000 n "):W("0000000000 00000 n ")},Mt=g.__private__.buildDocument=function(){Me(),xe(le),T.publish("buildDocument"),dn(),Gi(),Xi(),Js(),x!==null&&Ji(),ut(),xt();var h=j;return Pi(),At(),W("startxref"),W(""+h),W("%%EOF"),xe(F[q]),le.join(`
`)},hr=g.__private__.getBlob=function(h){return new Blob([Xe(h)],{type:"application/pdf"})},Ca=g.output=g.__private__.output=jr(function(h,C){switch(typeof(C=C||{})=="string"?C={filename:C}:C.filename=C.filename||"generated.pdf",h){case void 0:return Mt();case"save":g.save(C.filename);break;case"arraybuffer":return Xe(Mt());case"blob":return hr(Mt());case"bloburi":case"bloburl":if(pt.URL!==void 0&&typeof pt.URL.createObjectURL=="function")return pt.URL&&pt.URL.createObjectURL(hr(Mt()))||void 0;Qt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Q="",ie=Mt();try{Q=tp(ie)}catch{Q=tp(unescape(encodeURIComponent(ie)))}return"data:application/pdf;filename="+C.filename+";base64,"+Q;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';C.pdfObjectUrl&&(ve=C.pdfObjectUrl,ke="");var Fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(C)+");<\/script></body></html>",Ye=pt.open();return Ye!==null&&Ye.document.write(Fe),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(C.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+C.filename+'" width="500px" height="400px" /></body></html>',jt=pt.open();if(jt!==null){jt.document.write(lt);var wt=this;jt.document.documentElement.querySelector("#pdfViewer").onload=function(){jt.document.title=C.filename,jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wt.output("bloburl"))}}return jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",C)+'"></iframe></body></html>',hn=pt.open();if(hn!==null&&(hn.document.write(Tt),hn.document.title=C.filename),hn||typeof safari>"u")return hn;break;case"datauri":case"dataurl":return pt.document.location.href=this.output("datauristring",C);default:return null}}),Ys=function(h){return Array.isArray(_e)===!0&&_e.indexOf(h)>-1};switch(i){case"pt":Ve=1;break;case"mm":Ve=72/25.4;break;case"cm":Ve=72/2.54;break;case"in":Ve=72;break;case"px":Ve=Ys("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ve=12;break;case"ex":Ve=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ve=i}var er=null;Le(),X();var Vd=function(h){return x!==null?er.encryptor(h,0):function(C){return C}},Tc=g.__private__.getPageInfo=g.getPageInfo=function(h){if(isNaN(h)||h%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ue[h].objId,pageNumber:h,pageContext:Ue[h]}},vt=g.__private__.getPageInfoByObjId=function(h){if(isNaN(h)||h%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var C in Ue)if(Ue[C].objId===h)break;return Tc(C)},Hd=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Ue[q].objId,pageNumber:q,pageContext:Ue[q]}};g.addPage=function(){return ms.apply(this,arguments),this},g.setPage=function(){return je.apply(this,arguments),xe.call(this,F[q]),this},g.insertPage=function(h){return this.addPage(),this.movePage(q,h),this},g.movePage=function(h,C){var Q,ie;if(h>C){Q=F[h],ie=Ue[h];for(var ve=h;ve>C;ve--)F[ve]=F[ve-1],Ue[ve]=Ue[ve-1];F[C]=Q,Ue[C]=ie,this.setPage(C)}else if(h<C){Q=F[h],ie=Ue[h];for(var ke=h;ke<C;ke++)F[ke]=F[ke+1],Ue[ke]=Ue[ke+1];F[C]=Q,Ue[C]=ie,this.setPage(C)}return this},g.deletePage=function(){return B.apply(this,arguments),this},g.__private__.text=g.text=function(h,C,Q,ie,ve){var ke,Fe,Ye,lt,jt,wt,Tt,hn,gn,Ln=(ie=ie||{}).scope||this;if(typeof h=="number"&&typeof C=="number"&&(typeof Q=="string"||Array.isArray(Q))){var tr=Q;Q=C,C=h,h=tr}if(arguments[3]instanceof $e?(R("The transform parameter of text() with a Matrix value"),gn=ve):(Ye=arguments[4],lt=arguments[5],Wt(Tt=arguments[3])==="object"&&Tt!==null||(typeof Ye=="string"&&(lt=Ye,Ye=null),typeof Tt=="string"&&(lt=Tt,Tt=null),typeof Tt=="number"&&(Ye=Tt,Tt=null),ie={flags:Tt,angle:Ye,align:lt})),isNaN(C)||isNaN(Q)||h==null)throw new Error("Invalid arguments passed to jsPDF.text");if(h.length===0)return Ln;var Rn="",mi=!1,Br=typeof ie.lineHeightFactor=="number"?ie.lineHeightFactor:xs,Di=Ln.internal.scaleFactor;function qc(tn){return tn=tn.split("	").join(Array(ie.TabLen||9).join(" ")),Gn(tn,Tt)}function vl(tn){for(var nn,wn=tn.concat(),Mn=[],ta=wn.length;ta--;)typeof(nn=wn.shift())=="string"?Mn.push(nn):Array.isArray(tn)&&(nn.length===1||nn[1]===void 0&&nn[2]===void 0)?Mn.push(nn[0]):Mn.push([nn[0],nn[1],nn[2]]);return Mn}function yl(tn,nn){var wn;if(typeof tn=="string")wn=nn(tn)[0];else if(Array.isArray(tn)){for(var Mn,ta,Ll=tn.concat(),ho=[],Gc=Ll.length;Gc--;)typeof(Mn=Ll.shift())=="string"?ho.push(nn(Mn)[0]):Array.isArray(Mn)&&typeof Mn[0]=="string"&&(ta=nn(Mn[0],Mn[1],Mn[2]),ho.push([ta[0],ta[1],ta[2]]));wn=ho}return wn}var no=!1,Nl=!0;if(typeof h=="string")no=!0;else if(Array.isArray(h)){var wl=h.concat();Fe=[];for(var ro,Wn=wl.length;Wn--;)(typeof(ro=wl.shift())!="string"||Array.isArray(ro)&&typeof ro[0]!="string")&&(Nl=!1);no=Nl}if(no===!1)throw new Error('Type of text must be string or Array. "'+h+'" is not recognized.');typeof h=="string"&&(h=h.match(/[\r?\n]/)?h.split(/\r\n|\r|\n/g):[h]);var io=Ee/Ln.internal.scaleFactor,ao=io*(Br-1);switch(ie.baseline){case"bottom":Q-=ao;break;case"top":Q+=io-ao;break;case"hanging":Q+=io-2*ao;break;case"middle":Q+=io/2-ao}if((wt=ie.maxWidth||0)>0&&(typeof h=="string"?h=Ln.splitTextToSize(h,wt):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(tn,nn){return tn.concat(Ln.splitTextToSize(nn,wt))},[]))),ke={text:h,x:C,y:Q,options:ie,mutex:{pdfEscape:Gn,activeFontKey:ht,fonts:Dt,activeFontSize:Ee}},T.publish("preProcessText",ke),h=ke.text,Ye=(ie=ke.options).angle,!(gn instanceof $e)&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,ie.rotationDirection===0&&(Ye=-Ye),L===w.ADVANCED&&(Ye=-Ye);var so=Math.cos(Ye),bl=Math.sin(Ye);gn=new $e(so,bl,-bl,so,0,0)}else Ye&&Ye instanceof $e&&(gn=Ye);L!==w.ADVANCED||gn||(gn=Lt),(jt=ie.charSpace||Zs)!==void 0&&(Rn+=H(z(jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(hn=ie.horizontalScale)!==void 0&&(Rn+=H(100*hn)+` Tz
`),ie.lang;var Sr=-1,th=ie.renderingMode!==void 0?ie.renderingMode:ie.stroke,jl=Ln.internal.getCurrentPageInfo().pageContext;switch(th){case 0:case!1:case"fill":Sr=0;break;case 1:case!0:case"stroke":Sr=1;break;case 2:case"fillThenStroke":Sr=2;break;case 3:case"invisible":Sr=3;break;case 4:case"fillAndAddForClipping":Sr=4;break;case 5:case"strokeAndAddPathForClipping":Sr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Sr=6;break;case 7:case"addToPathForClipping":Sr=7}var $c=jl.usedRenderingMode!==void 0?jl.usedRenderingMode:-1;Sr!==-1?Rn+=Sr+` Tr
`:$c!==-1&&(Rn+=`0 Tr
`),Sr!==-1&&(jl.usedRenderingMode=Sr),lt=ie.align||"left";var ti,oo=Ee*Br,Uc=Ln.internal.pageSize.getWidth(),Vc=Dt[ht];jt=ie.charSpace||Zs,wt=ie.maxWidth||0,Tt=Object.assign({autoencode:!0,noBOM:!0},ie.flags);var _a=[],Ns=function(tn){return Ln.getStringUnitWidth(tn,{font:Vc,charSpace:jt,fontSize:Ee,doKerning:!1})*Ee/Di};if(Object.prototype.toString.call(h)==="[object Array]"){var Cr;Fe=vl(h),lt!=="left"&&(ti=Fe.map(Ns));var fr,Pa=0;if(lt==="right"){C-=ti[0],h=[],Wn=Fe.length;for(var Qi=0;Qi<Wn;Qi++)Qi===0?(fr=Ti(C),Cr=Ki(Q)):(fr=z(Pa-ti[Qi]),Cr=-oo),h.push([Fe[Qi],fr,Cr]),Pa=ti[Qi]}else if(lt==="center"){C-=ti[0]/2,h=[],Wn=Fe.length;for(var Zi=0;Zi<Wn;Zi++)Zi===0?(fr=Ti(C),Cr=Ki(Q)):(fr=z((Pa-ti[Zi])/2),Cr=-oo),h.push([Fe[Zi],fr,Cr]),Pa=ti[Zi]}else if(lt==="left"){h=[],Wn=Fe.length;for(var lo=0;lo<Wn;lo++)h.push(Fe[lo])}else if(lt==="justify"&&Vc.encoding==="Identity-H"){h=[],Wn=Fe.length,wt=wt!==0?wt:Uc;for(var ea=0,Nn=0;Nn<Wn;Nn++)if(Cr=Nn===0?Ki(Q):-oo,fr=Nn===0?Ti(C):ea,Nn<Wn-1){var Sl=z((wt-ti[Nn])/(Fe[Nn].split(" ").length-1)),pr=Fe[Nn].split(" ");h.push([pr[0]+" ",fr,Cr]),ea=0;for(var ni=1;ni<pr.length;ni++){var co=(Ns(pr[ni-1]+" "+pr[ni])-Ns(pr[ni]))*Di+Sl;ni==pr.length-1?h.push([pr[ni],co,0]):h.push([pr[ni]+" ",co,0]),ea-=co}}else h.push([Fe[Nn],fr,Cr]);h.push(["",ea,0])}else{if(lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(h=[],Wn=Fe.length,wt=wt!==0?wt:Uc,Nn=0;Nn<Wn;Nn++)Cr=Nn===0?Ki(Q):-oo,fr=Nn===0?Ti(C):0,Nn<Wn-1?_a.push(H(z((wt-ti[Nn])/(Fe[Nn].split(" ").length-1)))):_a.push(0),h.push([Fe[Nn],fr,Cr])}}var Hc=typeof ie.R2L=="boolean"?ie.R2L:Re;Hc===!0&&(h=yl(h,function(tn,nn,wn){return[tn.split("").reverse().join(""),nn,wn]})),ke={text:h,x:C,y:Q,options:ie,mutex:{pdfEscape:Gn,activeFontKey:ht,fonts:Dt,activeFontSize:Ee}},T.publish("postProcessText",ke),h=ke.text,mi=ke.mutex.isHex||!1;var Cl=Dt[ht].encoding;Cl!=="WinAnsiEncoding"&&Cl!=="StandardEncoding"||(h=yl(h,function(tn,nn,wn){return[qc(tn),nn,wn]})),Fe=vl(h),h=[];for(var ws,bs,Ia,js=0,uo=1,Ss=Array.isArray(Fe[0])?uo:js,Ta="",kl=function(tn,nn,wn){var Mn="";return wn instanceof $e?(wn=typeof ie.angle=="number"?$t(wn,new $e(1,0,0,1,tn,nn)):$t(new $e(1,0,0,1,tn,nn),wn),L===w.ADVANCED&&(wn=$t(new $e(1,0,0,-1,0,0),wn)),Mn=wn.join(" ")+` Tm
`):Mn=H(tn)+" "+H(nn)+` Td
`,Mn},ri=0;ri<Fe.length;ri++){switch(Ta="",Ss){case uo:Ia=(mi?"<":"(")+Fe[ri][0]+(mi?">":")"),ws=parseFloat(Fe[ri][1]),bs=parseFloat(Fe[ri][2]);break;case js:Ia=(mi?"<":"(")+Fe[ri]+(mi?">":")"),ws=Ti(C),bs=Ki(Q)}_a!==void 0&&_a[ri]!==void 0&&(Ta=_a[ri]+` Tw
`),ri===0?h.push(Ta+kl(ws,bs,gn)+Ia):Ss===js?h.push(Ta+Ia):Ss===uo&&h.push(Ta+kl(ws,bs,gn)+Ia)}h=Ss===js?h.join(` Tj
T* `):h.join(` Tj
`),h+=` Tj
`;var ii=`BT
/`;return ii+=ht+" "+Ee+` Tf
`,ii+=H(Ee*Br)+` TL
`,ii+=vs+`
`,ii+=Rn,ii+=h,W(ii+="ET"),y[ht]=!0,Ln};var Gd=g.__private__.clip=g.clip=function(h){return W(h==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Gd("evenodd")},g.__private__.discardPath=g.discardPath=function(){return W("n"),this};var Ii=g.__private__.isValidStyle=function(h){var C=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(h)!==-1&&(C=!0),C};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(h){return Ii(h)&&(p=h),this};var Dc=g.__private__.getStyle=g.getStyle=function(h){var C=p;switch(h){case"D":case"S":C="S";break;case"F":C="f";break;case"FD":case"DF":C="B";break;case"f":case"f*":case"B":case"B*":C=h}return C},Mc=g.close=function(){return W("h"),this};g.stroke=function(){return W("S"),this},g.fill=function(h){return Ks("f",h),this},g.fillEvenOdd=function(h){return Ks("f*",h),this},g.fillStroke=function(h){return Ks("B",h),this},g.fillStrokeEvenOdd=function(h){return Ks("B*",h),this};var Ks=function(h,C){Wt(C)==="object"?Jd(C,h):W(h)},ll=function(h){h===null||L===w.ADVANCED&&h===void 0||(h=Dc(h),W(h))};function Wd(h,C,Q,ie,ve){var ke=new Eo(C||this.boundingBox,Q||this.xStep,ie||this.yStep,this.gState,ve||this.matrix);ke.stream=this.stream;var Fe=h+"$$"+this.cloneIndex+++"$$";return Ut(Fe,ke),ke}var Jd=function(h,C){var Q=Er[h.key],ie=It[Q];if(ie instanceof Ps)W("q"),W(Xd(C)),ie.gState&&g.setGState(ie.gState),W(h.matrix.toString()+" cm"),W("/"+Q+" sh"),W("Q");else if(ie instanceof Eo){var ve=new $e(1,0,0,-1,0,Aa());h.matrix&&(ve=ve.multiply(h.matrix||Lt),Q=Wd.call(ie,h.key,h.boundingBox,h.xStep,h.yStep,ve).id),W("q"),W("/Pattern cs"),W("/"+Q+" scn"),ie.gState&&g.setGState(ie.gState),W(C),W("Q")}},Xd=function(h){switch(h){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},cl=g.moveTo=function(h,C){return W(H(z(h))+" "+H($(C))+" m"),this},gs=g.lineTo=function(h,C){return W(H(z(h))+" "+H($(C))+" l"),this},ka=g.curveTo=function(h,C,Q,ie,ve,ke){return W([H(z(h)),H($(C)),H(z(Q)),H($(ie)),H(z(ve)),H($(ke)),"c"].join(" ")),this};g.__private__.line=g.line=function(h,C,Q,ie,ve){if(isNaN(h)||isNaN(C)||isNaN(Q)||isNaN(ie)||!Ii(ve))throw new Error("Invalid arguments passed to jsPDF.line");return L===w.COMPAT?this.lines([[Q-h,ie-C]],h,C,[1,1],ve||"S"):this.lines([[Q-h,ie-C]],h,C,[1,1]).stroke()},g.__private__.lines=g.lines=function(h,C,Q,ie,ve,ke){var Fe,Ye,lt,jt,wt,Tt,hn,gn,Ln,tr,Rn,mi;if(typeof h=="number"&&(mi=Q,Q=C,C=h,h=mi),ie=ie||[1,1],ke=ke||!1,isNaN(C)||isNaN(Q)||!Array.isArray(h)||!Array.isArray(ie)||!Ii(ve)||typeof ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(cl(C,Q),Fe=ie[0],Ye=ie[1],jt=h.length,tr=C,Rn=Q,lt=0;lt<jt;lt++)(wt=h[lt]).length===2?(tr=wt[0]*Fe+tr,Rn=wt[1]*Ye+Rn,gs(tr,Rn)):(Tt=wt[0]*Fe+tr,hn=wt[1]*Ye+Rn,gn=wt[2]*Fe+tr,Ln=wt[3]*Ye+Rn,tr=wt[4]*Fe+tr,Rn=wt[5]*Ye+Rn,ka(Tt,hn,gn,Ln,tr,Rn));return ke&&Mc(),ll(ve),this},g.path=function(h){for(var C=0;C<h.length;C++){var Q=h[C],ie=Q.c;switch(Q.op){case"m":cl(ie[0],ie[1]);break;case"l":gs(ie[0],ie[1]);break;case"c":ka.apply(this,ie);break;case"h":Mc()}}return this},g.__private__.rect=g.rect=function(h,C,Q,ie,ve){if(isNaN(h)||isNaN(C)||isNaN(Q)||isNaN(ie)||!Ii(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return L===w.COMPAT&&(ie=-ie),W([H(z(h)),H($(C)),H(z(Q)),H(z(ie)),"re"].join(" ")),ll(ve),this},g.__private__.triangle=g.triangle=function(h,C,Q,ie,ve,ke,Fe){if(isNaN(h)||isNaN(C)||isNaN(Q)||isNaN(ie)||isNaN(ve)||isNaN(ke)||!Ii(Fe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Q-h,ie-C],[ve-Q,ke-ie],[h-ve,C-ke]],h,C,[1,1],Fe,!0),this},g.__private__.roundedRect=g.roundedRect=function(h,C,Q,ie,ve,ke,Fe){if(isNaN(h)||isNaN(C)||isNaN(Q)||isNaN(ie)||isNaN(ve)||isNaN(ke)||!Ii(Fe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*Q),ke=Math.min(ke,.5*ie),this.lines([[Q-2*ve,0],[ve*Ye,0,ve,ke-ke*Ye,ve,ke],[0,ie-2*ke],[0,ke*Ye,-ve*Ye,ke,-ve,ke],[2*ve-Q,0],[-ve*Ye,0,-ve,-ke*Ye,-ve,-ke],[0,2*ke-ie],[0,-ke*Ye,ve*Ye,-ke,ve,-ke]],h+ve,C,[1,1],Fe,!0),this},g.__private__.ellipse=g.ellipse=function(h,C,Q,ie,ve){if(isNaN(h)||isNaN(C)||isNaN(Q)||isNaN(ie)||!Ii(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ke=4/3*(Math.SQRT2-1)*Q,Fe=4/3*(Math.SQRT2-1)*ie;return cl(h+Q,C),ka(h+Q,C-Fe,h+ke,C-ie,h,C-ie),ka(h-ke,C-ie,h-Q,C-Fe,h-Q,C),ka(h-Q,C+Fe,h-ke,C+ie,h,C+ie),ka(h+ke,C+ie,h+Q,C+Fe,h+Q,C),ll(ve),this},g.__private__.circle=g.circle=function(h,C,Q,ie){if(isNaN(h)||isNaN(C)||isNaN(Q)||!Ii(ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(h,C,Q,Q,ie)},g.setFont=function(h,C,Q){return Q&&(C=fe(C,Q)),ht=Nt(h,C,{disableWarning:!1}),this};var Yd=g.__private__.getFont=g.getFont=function(){return Dt[Nt.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var h,C,Q={};for(h in Xt)if(Xt.hasOwnProperty(h))for(C in Q[h]=[],Xt[h])Xt[h].hasOwnProperty(C)&&Q[h].push(C);return Q},g.addFont=function(h,C,Q,ie,ve){var ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ke.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&ke.indexOf(arguments[3])==-1&&(Q=fe(Q,ie)),ve=ve||"Identity-H",ja.call(this,h,C,Q,ve)};var xs,ul=e.lineWidth||.200025,Qs=g.__private__.getLineWidth=g.getLineWidth=function(){return ul},zc=g.__private__.setLineWidth=g.setLineWidth=function(h){return ul=h,W(H(z(h))+" w"),this};g.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(h,C){if(h=h||[],C=C||0,isNaN(C)||!Array.isArray(h))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return h=h.map(function(Q){return H(z(Q))}).join(" "),C=H(z(C)),W("["+h+"] "+C+" d"),this};var Ec=g.__private__.getLineHeight=g.getLineHeight=function(){return Ee*xs};g.__private__.getLineHeight=g.getLineHeight=function(){return Ee*xs};var Fc=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(h){return typeof(h=h||1.15)=="number"&&(xs=h),this},Oc=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return xs};Fc(e.lineHeight);var Ti=g.__private__.getHorizontalCoordinate=function(h){return z(h)},Ki=g.__private__.getVerticalCoordinate=function(h){return L===w.ADVANCED?h:Ue[q].mediaBox.topRightY-Ue[q].mediaBox.bottomLeftY-z(h)},Kd=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(h){return H(Ti(h))},La=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(h){return H(Ki(h))},pi=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Rr(pi)},g.__private__.setStrokeColor=g.setDrawColor=function(h,C,Q,ie){return pi=wr({ch1:h,ch2:C,ch3:Q,ch4:ie,pdfColorType:"draw",precision:2}),W(pi),this};var dl=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Rr(dl)},g.__private__.setFillColor=g.setFillColor=function(h,C,Q,ie){return dl=wr({ch1:h,ch2:C,ch3:Q,ch4:ie,pdfColorType:"fill",precision:2}),W(dl),this};var vs=e.textColor||"0 g",Qd=g.__private__.getTextColor=g.getTextColor=function(){return Rr(vs)};g.__private__.setTextColor=g.setTextColor=function(h,C,Q,ie){return vs=wr({ch1:h,ch2:C,ch3:Q,ch4:ie,pdfColorType:"text",precision:3}),this};var Zs=e.charSpace,Zd=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Zs||0)};g.__private__.setCharSpace=g.setCharSpace=function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zs=h,this};var hl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(h){var C=g.CapJoinStyles[h];if(C===void 0)throw new Error("Line cap style of '"+h+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hl=C,W(C+" J"),this};var fl=0;g.__private__.setLineJoin=g.setLineJoin=function(h){var C=g.CapJoinStyles[h];if(C===void 0)throw new Error("Line join style of '"+h+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fl=C,W(C+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(h){if(h=h||0,isNaN(h))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(H(z(h))+" M"),this},g.GState=jd,g.setGState=function(h){(h=typeof h=="string"?en[Fn[h]]:Rc(null,h)).equals(Bt)||(W("/"+h.id+" gs"),Bt=h)};var Rc=function(h,C){if(!h||!Fn[h]){var Q=!1;for(var ie in en)if(en.hasOwnProperty(ie)&&en[ie].equals(C)){Q=!0;break}if(Q)C=en[ie];else{var ve="GS"+(Object.keys(en).length+1).toString(10);en[ve]=C,C.id=ve}return h&&(Fn[h]=C.id),T.publish("addGState",C),C}};g.addGState=function(h,C){return Rc(h,C),this},g.saveGraphicsState=function(){return W("q"),Zn.push({key:ht,size:Ee,color:vs}),this},g.restoreGraphicsState=function(){W("Q");var h=Zn.pop();return ht=h.key,Ee=h.size,vs=h.color,Bt=null,this},g.setCurrentTransformationMatrix=function(h){return W(h.toString()+" cm"),this},g.comment=function(h){return W("#"+h),this};var eo=function(h,C){var Q=h||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Q},set:function(ke){isNaN(ke)||(Q=parseFloat(ke))}});var ie=C||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ie},set:function(ke){isNaN(ke)||(ie=parseFloat(ke))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(ke){ve=ke.toString()}}),this},pl=function(h,C,Q,ie){eo.call(this,h,C),this.type="rect";var ve=Q||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Fe){isNaN(Fe)||(ve=parseFloat(Fe))}});var ke=ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ke},set:function(Fe){isNaN(Fe)||(ke=parseFloat(Fe))}}),this},ml=function(){this.page=Ot,this.currentPage=q,this.pages=F.slice(0),this.pagesContext=Ue.slice(0),this.x=an,this.y=Ct,this.matrix=Zt,this.width=ys(q),this.height=Aa(q),this.outputDestination=be,this.id="",this.objectNumber=-1};ml.prototype.restore=function(){Ot=this.page,q=this.currentPage,Ue=this.pagesContext,F=this.pages,an=this.x,Ct=this.y,Zt=this.matrix,gl(q,this.width),xl(q,this.height),be=this.outputDestination};var Bc=function(h,C,Q,ie,ve){yt.push(new ml),Ot=q=0,F=[],an=h,Ct=C,Zt=ve,Sa([Q,ie])},eh=function(h){if(et[h])yt.pop().restore();else{var C=new ml,Q="Xo"+(Object.keys(Ae).length+1).toString(10);C.id=Q,et[h]=Q,Ae[Q]=C,T.publish("addFormObject",C),yt.pop().restore()}};for(var to in g.beginFormObject=function(h,C,Q,ie,ve){return Bc(h,C,Q,ie,ve),this},g.endFormObject=function(h){return eh(h),this},g.doFormObject=function(h,C){var Q=Ae[et[h]];return W("q"),W(C.toString()+" cm"),W("/"+Q.id+" Do"),W("Q"),this},g.getFormObject=function(h){var C=Ae[et[h]];return{x:C.x,y:C.y,width:C.width,height:C.height,matrix:C.matrix}},g.save=function(h,C){return h=h||"generated.pdf",(C=C||{}).returnPromise=C.returnPromise||!1,C.returnPromise===!1?(_s(hr(Mt()),h),typeof _s.unload=="function"&&pt.setTimeout&&setTimeout(_s.unload,911),this):new Promise(function(Q,ie){try{var ve=_s(hr(Mt()),h);typeof _s.unload=="function"&&pt.setTimeout&&setTimeout(_s.unload,911),Q(ve)}catch(ke){ie(ke.message)}})},ft.API)ft.API.hasOwnProperty(to)&&(to==="events"&&ft.API.events.length?function(h,C){var Q,ie,ve;for(ve=C.length-1;ve!==-1;ve--)Q=C[ve][0],ie=C[ve][1],h.subscribe.apply(h,[Q].concat(typeof ie=="function"?[ie]:ie))}(T,ft.API.events):g[to]=ft.API[to]);var ys=g.getPageWidth=function(h){return(Ue[h=h||q].mediaBox.topRightX-Ue[h].mediaBox.bottomLeftX)/Ve},gl=g.setPageWidth=function(h,C){Ue[h].mediaBox.topRightX=C*Ve+Ue[h].mediaBox.bottomLeftX},Aa=g.getPageHeight=function(h){return(Ue[h=h||q].mediaBox.topRightY-Ue[h].mediaBox.bottomLeftY)/Ve},xl=g.setPageHeight=function(h,C){Ue[h].mediaBox.topRightY=C*Ve+Ue[h].mediaBox.bottomLeftY};return g.internal={pdfEscape:Gn,getStyle:Dc,getFont:Yd,getFontSize:Ce,getCharSpace:Zd,getTextColor:Qd,getLineHeight:Ec,getLineHeightFactor:Oc,getLineWidth:Qs,write:rt,getHorizontalCoordinate:Ti,getVerticalCoordinate:Ki,getCoordinateString:Kd,getVerticalCoordinateString:La,collections:{},newObject:Vt,newAdditionalObject:Fr,newObjectDeferred:Rt,newObjectDeferredBegin:On,getFilters:Qr,putStream:br,events:T,scaleFactor:Ve,pageSize:{getWidth:function(){return ys(q)},setWidth:function(h){gl(q,h)},getHeight:function(){return Aa(q)},setHeight:function(h){xl(q,h)}},encryptionOptions:x,encryption:er,getEncryptor:Vd,output:Ca,getNumberOfPages:Oe,pages:F,out:W,f2:oe,f3:D,getPageInfo:Tc,getPageInfoByObjId:vt,getCurrentPageInfo:Hd,getPDFVersion:b,Point:eo,Rectangle:pl,Matrix:$e,hasHotfix:Ys},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return ys(q)},set:function(h){gl(q,h)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Aa(q)},set:function(h){xl(q,h)},enumerable:!0,configurable:!0}),Xs.call(g,ze),ht="F1",ms(a,n),T.publish("initialized"),g}wo.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},wo.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wo.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},wo.prototype.processOwnerPassword=function(e,t){return rp(np(t).substr(0,5),e)},wo.prototype.encryptor=function(e,t){var n=np(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return rp(n,i)}},jd.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Wt(e)!==Wt(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return i===0},ft.API={events:[]},ft.version="3.0.1";var vn=ft.API,om=1,Hs=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vo=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bt=function(e){return e.toFixed(2)},$a=function(e){return e.toFixed(5)};vn.__acroform__={};var zr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},l1=function(e){return e*om},Fi=function(e){var t=new ex,n=nt.internal.getHeight(e)||0,i=nt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(bt(i)),Number(bt(n))],t},g4=vn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},x4=vn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},v4=vn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Sn=vn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return v4(e,t-1)},Cn=vn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return g4(e,t-1)},kn=vn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return x4(e,t-1)},y4=vn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,a=e[0],s=e[1],l=e[2],c=e[3],d={};return d.lowerLeft_X=n(a)||0,d.lowerLeft_Y=i(s+c)||0,d.upperRight_X=n(a+l)||0,d.upperRight_Y=i(s)||0,[Number(bt(d.lowerLeft_X)),Number(bt(d.lowerLeft_Y)),Number(bt(d.upperRight_X)),Number(bt(d.upperRight_Y))]},N4=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=ip(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+bt(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Fi(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},ip=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(D){return D.split(`
`)}):a.map(function(D){return[D]});var s=n,l=nt.internal.getHeight(e)||0;l=l<0?-l:l;var c=nt.internal.getWidth(e)||0;c=c<0?-c:c;var d=function(D,z,E){if(D+1<a.length){var $=z+" "+a[D+1][0];return Du($,e,E).width<=c-4}return!1};s++;e:for(;s>0;){t="",s--;var p,x,m=Du("3",e,s).height,y=e.multiline?l-s:(l-m)/2,g=y+=2,_=0,b=0,A=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Du(t,e,s=12).width+", FieldWidth:"+c+`
`;break}for(var N="",w=0,L=0;L<a.length;L++)if(a.hasOwnProperty(L)){var J=!1;if(a[L].length!==1&&A!==a[L].length-1){if((m+2)*(w+2)+2>l)continue e;N+=a[L][A],J=!0,b=L,L--}else{N=(N+=a[L][A]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var ee=parseInt(L),fe=d(ee,N,s),H=L>=a.length-1;if(fe&&!H){N+=" ",A=0;continue}if(fe||H){if(H)b=ee;else if(e.multiline&&(m+2)*(w+2)+2>l)continue e}else{if(!e.multiline||(m+2)*(w+2)+2>l)continue e;b=ee}}for(var R="",te=_;te<=b;te++){var oe=a[te];if(e.multiline){if(te===b){R+=oe[A]+" ",A=(A+1)%oe.length;continue}if(te===_){R+=oe[oe.length-1]+" ";continue}}R+=oe[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,x=Du(R,e,s).width,e.textAlign){case"right":p=c-x-2;break;case"center":p=(c-x)/2;break;case"left":default:p=2}t+=bt(p)+" "+bt(g)+` Td
`,t+="("+Hs(R)+`) Tj
`,t+=-bt(p)+` 0 Td
`,g=-(s+2),x=0,_=J?b:b+1,w++,N=""}break}return i.text=t,i.fontSize=s,i},Du=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},w4={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},b4=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},j4=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=n,a=e[n];t.internal.newObjectDeferredBegin(a.objId,!0),Wt(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[i]}},S4=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ai.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(w4)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");om=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new tx,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];s.objId=void 0,s.hasAnnotation&&b4(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(i,a){var s=!i;for(var l in i||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(l)){var c=i[l],d=[],p=c.Rect;if(c.Rect&&(c.Rect=y4(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=nt.createDefaultAppearanceStream(c),Wt(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=p,c.hasAppearanceStream&&!c.appearanceStreamContent){var x=N4(c);d.push({key:"AP",value:"<</N "+x+">>"}),a.internal.acroformPlugin.xForms.push(x)}if(c.appearanceStreamContent){var m="";for(var y in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(y)){var g=c.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var l in g)if(g.hasOwnProperty(l)){var _=g[l];typeof _=="function"&&(_=_.call(a,c)),m+="/"+l+" "+_+" ",a.internal.acroformPlugin.xForms.indexOf(_)>=0||a.internal.acroformPlugin.xForms.push(_)}}else typeof(_=g)=="function"&&(_=_.call(a,c)),m+="/"+l+" "+_,a.internal.acroformPlugin.xForms.indexOf(_)>=0||a.internal.acroformPlugin.xForms.push(_);m+=">>"}d.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:c.objId}),a.internal.out("endobj")}s&&j4(a.internal.acroformPlugin.xForms,a)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Z2=vn.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(l){return l};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),Wt(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(i=n.internal.getEncryptor(t)),a+="("+Hs(i(e[s].toString()))+")"):a+=e[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Kh=function(e,t,n){var i=function(a){return a};return t!==void 0&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Hs(i(e))+")"},qi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qi.prototype.toString=function(){return this.objId+" 0 R"},qi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},qi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var i=t[n],a=this[i];a&&(Array.isArray(a)?e.push({key:i,value:Z2(a,this.objId,this.scope)}):a instanceof qi?(a.scope=this.scope,e.push({key:i,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:i,value:a}))}return e};var ex=function(){qi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};zr(ex,qi);var tx=function(){qi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Hs(n(e))+")"}},set:function(n){e=n}})};zr(tx,qi);var Ai=function e(){qi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');t=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Sn(t,3)},set:function(N){N?this.F=Cn(t,3):this.F=kn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');n=N}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(N){i=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(N){i[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(N){i[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(N){i[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(N){i[3]=N}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Sd)return;s="FieldObject"+e.FieldNum++}var N=function(w){return w};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+Hs(N(s))+")"},set:function(N){s=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(N){s=N}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(N){c=N}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(N){d=N}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/om:p},set:function(N){p=N}});var x="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return x},set:function(N){x=N}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Sd||this instanceof Es))return Kh(m,this.objId,this.scope)},set:function(N){N=N.toString(),m=N}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Vn?y:Kh(y,this.objId,this.scope)},set:function(N){N=N.toString(),y=this instanceof Vn?N:N.substr(0,1)==="("?vo(N.substr(1,N.length-2)):vo(N)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vn?vo(y.substr(1,y.length-1)):y},set:function(N){N=N.toString(),y=this instanceof Vn?"/"+N:N}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Vn?g:Kh(g,this.objId,this.scope)},set:function(N){N=N.toString(),g=this instanceof Vn?N:N.substr(0,1)==="("?vo(N.substr(1,N.length-2)):vo(N)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vn?vo(g.substr(1,g.length-1)):g},set:function(N){N=N.toString(),g=this instanceof Vn?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(N){N=!!N,b=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(N){_=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,1)},set:function(N){N?this.Ff=Cn(this.Ff,1):this.Ff=kn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,2)},set:function(N){N?this.Ff=Cn(this.Ff,2):this.Ff=kn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,3)},set:function(N){N?this.Ff=Cn(this.Ff,3):this.Ff=kn(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');A=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(A){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};zr(Ai,qi);var Vo=function(){Ai.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Z2(t,this.objId,this.scope)},set:function(n){var i,a;a=[],typeof(i=n)=="string"&&(a=function(s,l,c){c||(c=1);for(var d,p=[];d=l.exec(s);)p.push(d[c]);return p}(i,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,18)},set:function(n){n?this.Ff=Cn(this.Ff,18):this.Ff=kn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Cn(this.Ff,19):this.Ff=kn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,20)},set:function(n){n?(this.Ff=Cn(this.Ff,20),t.sort()):this.Ff=kn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,22)},set:function(n){n?this.Ff=Cn(this.Ff,22):this.Ff=kn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,23)},set:function(n){n?this.Ff=Cn(this.Ff,23):this.Ff=kn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,27)},set:function(n){n?this.Ff=Cn(this.Ff,27):this.Ff=kn(this.Ff,27)}}),this.hasAppearanceStream=!1};zr(Vo,Ai);var Ho=function(){Vo.call(this),this.fontName="helvetica",this.combo=!1};zr(Ho,Vo);var Go=function(){Ho.call(this),this.combo=!0};zr(Go,Ho);var Ju=function(){Go.call(this),this.edit=!0};zr(Ju,Go);var Vn=function(){Ai.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,15)},set:function(n){n?this.Ff=Cn(this.Ff,15):this.Ff=kn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,16)},set:function(n){n?this.Ff=Cn(this.Ff,16):this.Ff=kn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,17)},set:function(n){n?this.Ff=Cn(this.Ff,17):this.Ff=kn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,26)},set:function(n){n?this.Ff=Cn(this.Ff,26):this.Ff=kn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,a=[];for(i in a.push("<<"),t)a.push("/"+i+" ("+Hs(n(t[i]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){Wt(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};zr(Vn,Ai);var Xu=function(){Vn.call(this),this.pushButton=!0};zr(Xu,Vn);var Wo=function(){Vn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};zr(Wo,Vn);var Sd=function(){var e,t;Ai.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,l=[];for(s in l.push("<<"),i)l.push("/"+s+" ("+Hs(a(i[s]))+")");return l.push(">>"),l.join(`
`)},set:function(a){Wt(a)==="object"&&(i=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(a){typeof a=="string"&&(i.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};zr(Sd,Ai),Wo.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Wo.prototype.createOption=function(e){var t=new Sd;return t.Parent=this,t.optionName=e,this.Kids.push(t),C4.call(this.scope,t),t};var Yu=function(){Vn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nt.CheckBox.createAppearanceStream()};zr(Yu,Vn);var Es=function(){Ai.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,13)},set:function(t){t?this.Ff=Cn(this.Ff,13):this.Ff=kn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,21)},set:function(t){t?this.Ff=Cn(this.Ff,21):this.Ff=kn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,23)},set:function(t){t?this.Ff=Cn(this.Ff,23):this.Ff=kn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,24)},set:function(t){t?this.Ff=Cn(this.Ff,24):this.Ff=kn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,25)},set:function(t){t?this.Ff=Cn(this.Ff,25):this.Ff=kn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,26)},set:function(t){t?this.Ff=Cn(this.Ff,26):this.Ff=kn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};zr(Es,Ai);var Ku=function(){Es.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,14)},set:function(e){e?this.Ff=Cn(this.Ff,14):this.Ff=kn(this.Ff,14)}}),this.password=!0};zr(Ku,Es);var nt={CheckBox:{createAppearanceStream:function(){return{N:{On:nt.CheckBox.YesNormal},D:{On:nt.CheckBox.YesPushDown,Off:nt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Fi(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=ip(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+bt(nt.internal.getWidth(e))+" "+bt(nt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+bt(s.fontSize)+" Tf "+a),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Fi(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=[],s=nt.internal.getHeight(e),l=nt.internal.getWidth(e),c=ip(e,e.caption);return a.push("1 g"),a.push("0 0 "+bt(l)+" "+bt(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+bt(l-1)+" "+bt(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+bt(c.fontSize)+" Tf "+i),a.push(c.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Fi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+bt(nt.internal.getWidth(e))+" "+bt(nt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:nt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=nt.RadioButton.Circle.YesNormal,t.D[e]=nt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Fi(e);t.scope=e.scope;var n=[],i=nt.internal.getWidth(e)<=nt.internal.getHeight(e)?nt.internal.getWidth(e)/4:nt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var a=nt.internal.Bezier_C,s=Number((i*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+$a(nt.internal.getWidth(e)/2)+" "+$a(nt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Fi(e);t.scope=e.scope;var n=[],i=nt.internal.getWidth(e)<=nt.internal.getHeight(e)?nt.internal.getWidth(e)/4:nt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),s=Number((a*nt.internal.Bezier_C).toFixed(5)),l=Number((i*nt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+$a(nt.internal.getWidth(e)/2)+" "+$a(nt.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+$a(nt.internal.getWidth(e)/2)+" "+$a(nt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),n.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),n.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),n.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Fi(e);t.scope=e.scope;var n=[],i=nt.internal.getWidth(e)<=nt.internal.getHeight(e)?nt.internal.getWidth(e)/4:nt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),s=Number((a*nt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+$a(nt.internal.getWidth(e)/2)+" "+$a(nt.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:nt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=nt.RadioButton.Cross.YesNormal,t.D[e]=nt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Fi(e);t.scope=e.scope;var n=[],i=nt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+bt(nt.internal.getWidth(e)-2)+" "+bt(nt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(bt(i.x1.x)+" "+bt(i.x1.y)+" m"),n.push(bt(i.x2.x)+" "+bt(i.x2.y)+" l"),n.push(bt(i.x4.x)+" "+bt(i.x4.y)+" m"),n.push(bt(i.x3.x)+" "+bt(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Fi(e);t.scope=e.scope;var n=nt.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+bt(nt.internal.getWidth(e))+" "+bt(nt.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+bt(nt.internal.getWidth(e)-2)+" "+bt(nt.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(bt(n.x1.x)+" "+bt(n.x1.y)+" m"),i.push(bt(n.x2.x)+" "+bt(n.x2.y)+" l"),i.push(bt(n.x4.x)+" "+bt(n.x4.y)+" m"),i.push(bt(n.x3.x)+" "+bt(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Fi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+bt(nt.internal.getWidth(e))+" "+bt(nt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};nt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=nt.internal.getWidth(e),n=nt.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},nt.internal.getWidth=function(e){var t=0;return Wt(e)==="object"&&(t=l1(e.Rect[2])),t},nt.internal.getHeight=function(e){var t=0;return Wt(e)==="object"&&(t=l1(e.Rect[3])),t};var C4=vn.addField=function(e){if(S4(this,e),!(e instanceof Ai))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};vn.AcroFormChoiceField=Vo,vn.AcroFormListBox=Ho,vn.AcroFormComboBox=Go,vn.AcroFormEditBox=Ju,vn.AcroFormButton=Vn,vn.AcroFormPushButton=Xu,vn.AcroFormRadioButton=Wo,vn.AcroFormCheckBox=Yu,vn.AcroFormTextField=Es,vn.AcroFormPasswordField=Ku,vn.AcroFormAppearance=nt,vn.AcroForm={ChoiceField:Vo,ListBox:Ho,ComboBox:Go,EditBox:Ju,Button:Vn,PushButton:Xu,RadioButton:Wo,CheckBox:Yu,TextField:Es,PasswordField:Ku,Appearance:nt},ft.AcroForm={ChoiceField:Vo,ListBox:Ho,ComboBox:Go,EditBox:Ju,Button:Vn,PushButton:Xu,RadioButton:Wo,CheckBox:Yu,TextField:Es,PasswordField:Ku,Appearance:nt};function nx(e){return e.reduce(function(t,n,i){return t[n]=i,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(D,z){var E,$,re,ue,ye,X=t;if((z=z||t)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(fe(D))for(ye in n)for(re=n[ye],E=0;E<re.length;E+=1){for(ue=!0,$=0;$<re[E].length;$+=1)if(re[E][$]!==void 0&&re[E][$]!==D[$]){ue=!1;break}if(ue===!0){X=ye;break}}else for(ye in n)for(re=n[ye],E=0;E<re.length;E+=1){for(ue=!0,$=0;$<re[E].length;$+=1)if(re[E][$]!==void 0&&re[E][$]!==D.charCodeAt($)){ue=!1;break}if(ue===!0){X=ye;break}}return X===t&&z!==t&&(X=z),X},a=function D(z){for(var E=this.internal.write,$=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:z.width}),ue.push({key:"Height",value:z.height}),z.colorSpace===A.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===A.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)){for(var ye="",X=0,he=z.transparency.length;X<he;X++)ye+=z.transparency[X]+" "+z.transparency[X]+" ";ue.push({key:"Mask",value:"["+ye+"]"})}z.sMask!==void 0&&ue.push({key:"SMask",value:z.objectId+1+" 0 R"});var ne=z.filter!==void 0?["/"+z.filter]:void 0;if($({data:z.data,additionalKeyValues:ue,alreadyAppliedFilters:ne,objectId:z.objectId}),E("endobj"),"sMask"in z&&z.sMask!==void 0){var Le="/Predictor "+z.predictor+" /Colors 1 /BitsPerComponent "+z.bitsPerComponent+" /Columns "+z.width,k={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:z.bitsPerComponent,decodeParameters:Le,data:z.sMask};"filter"in z&&(k.filter=z.filter),D.call(this,k)}if(z.colorSpace===A.INDEXED){var q=this.internal.newObject();$({data:R(new Uint8Array(z.palette)),objectId:q}),E("endobj")}},s=function(){var D=this.internal.collections.addImage_images;for(var z in D)a.call(this,D[z])},l=function(){var D,z=this.internal.collections.addImage_images,E=this.internal.write;for(var $ in z)E("/I"+(D=z[$]).index,D.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var D=this.internal.collections.addImage_images;return c.call(this),D},p=function(){return Object.keys(this.internal.collections.addImage_images).length},x=function(D){return typeof e["process"+D.toUpperCase()]=="function"},m=function(D){return Wt(D)==="object"&&D.nodeType===1},y=function(D,z){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var E=""+D.getAttribute("src");if(E.indexOf("data:image/")===0)return oc(unescape(E).split("base64,").pop());var $=e.loadFile(E,!0);if($!==void 0)return $}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var re;switch(z){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;case"JPEG":case"JPG":default:re="image/jpeg"}return oc(D.toDataURL(re,1).split("base64,").pop())}},g=function(D){var z=this.internal.collections.addImage_images;if(z){for(var E in z)if(D===z[E].alias)return z[E]}},_=function(D,z,E){return D||z||(D=-96,z=-96),D<0&&(D=-1*E.width*72/D/this.internal.scaleFactor),z<0&&(z=-1*E.height*72/z/this.internal.scaleFactor),D===0&&(D=z*E.width/E.height),z===0&&(z=D*E.height/E.width),[D,z]},b=function(D,z,E,$,re,ue){var ye=_.call(this,E,$,re),X=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,ne=d.call(this);if(E=ye[0],$=ye[1],ne[re.index]=re,ue){ue*=Math.PI/180;var Le=Math.cos(ue),k=Math.sin(ue),q=function(Y){return Y.toFixed(4)},G=[q(Le),q(k),q(-1*k),q(Le),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,X(D),he(z+$),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([X(E),"0","0",X($),"0","0","cm"].join(" "))):this.internal.write([X(E),"0","0",X($),X(D),he(z+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(D){var z,E,$=0;if(typeof D=="string")for(E=D.length,z=0;z<E;z++)$=($<<5)-$+D.charCodeAt(z),$|=0;else if(fe(D))for(E=D.byteLength/2,z=0;z<E;z++)$=($<<5)-$+D[z],$|=0;return $},L=e.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var z=!0;return D.length===0&&(z=!1),D.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(z=!1),z},J=e.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var z=D.indexOf(",");return z<0?null:D.substring(0,z).trim().endsWith("base64")?D.substring(z+1):null},ee=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(D){return ee()&&D instanceof ArrayBuffer};var fe=e.__addimage__.isArrayBufferView=function(D){return ee()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},H=e.__addimage__.binaryStringToUint8Array=function(D){for(var z=D.length,E=new Uint8Array(z),$=0;$<z;$++)E[$]=D.charCodeAt($);return E},R=e.__addimage__.arrayBufferToBinaryString=function(D){for(var z="",E=fe(D)?D:new Uint8Array(D),$=0;$<E.length;$+=8192)z+=String.fromCharCode.apply(null,E.subarray($,$+8192));return z};e.addImage=function(){var D,z,E,$,re,ue,ye,X,he;if(typeof arguments[1]=="number"?(z=t,E=arguments[1],$=arguments[2],re=arguments[3],ue=arguments[4],ye=arguments[5],X=arguments[6],he=arguments[7]):(z=arguments[1],E=arguments[2],$=arguments[3],re=arguments[4],ue=arguments[5],ye=arguments[6],X=arguments[7],he=arguments[8]),Wt(D=arguments[0])==="object"&&!m(D)&&"imageData"in D){var ne=D;D=ne.imageData,z=ne.format||z||t,E=ne.x||E||0,$=ne.y||$||0,re=ne.w||ne.width||re,ue=ne.h||ne.height||ue,ye=ne.alias||ye,X=ne.compression||X,he=ne.rotation||ne.angle||he}var Le=this.internal.getFilters();if(X===void 0&&Le.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(E)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var k=te.call(this,D,z,ye,X);return b.call(this,E,$,re,ue,k,he),this};var te=function(D,z,E,$){var re,ue,ye;if(typeof D=="string"&&i(D)===t){D=unescape(D);var X=oe(D,!1);(X!==""||(X=e.loadFile(D,!0))!==void 0)&&(D=X)}if(m(D)&&(D=y(D,z)),z=i(D,z),!x(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(((ye=E)==null||ye.length===0)&&(E=function(he){return typeof he=="string"||fe(he)?w(he):fe(he.data)?w(he.data):null}(D)),(re=g.call(this,E))||(ee()&&(D instanceof Uint8Array||z==="RGBA"||(ue=D,D=H(D))),re=this["process"+z.toUpperCase()](D,p.call(this),E,function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in e.image_compression?he:N.NONE}($),ue)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},oe=e.__addimage__.convertBase64ToBinaryString=function(D,z){z=typeof z!="boolean"||z;var E,$="";if(typeof D=="string"){var re;E=(re=J(D))!==null&&re!==void 0?re:D;try{$=oc(E)}catch(ue){if(z)throw L(E)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};e.getImageProperties=function(D){var z,E,$="";if(m(D)&&(D=y(D)),typeof D=="string"&&i(D)===t&&(($=oe(D,!1))===""&&($=e.loadFile(D)||""),D=$),E=i(D),!x(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(!ee()||D instanceof Uint8Array||(D=H(D)),!(z=this["process"+E.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=E,z}})(ft.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};ft.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var i,a,s,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(n.objId),p=n.pageContext.annotations,x=!1,m=0;m<p.length&&!x;m++)switch((i=p[m]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(x=!0);break;case"reference":case"text":case"freetext":x=!0}if(x!=0){this.internal.write("/Annots [");for(var y=0;y<p.length;y++){i=p[y];var g=this.internal.pdfEscape,_=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(b.objId),w=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+g(N(i.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+d.objId+" 0 R",s+=" /T ("+g(N(w))+") >>",b.content=s;var L=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+l(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+L,i.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(b.objId,"0 R",A.objId,"0 R");break;case"freetext":a="/Rect ["+l(i.bounds.x)+" "+c(i.bounds.y)+" "+l(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var J=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(_(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+J+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var ee=this.annotations._nameMap[i.options.name];i.options.pageNumber=ee.page,i.options.top=ee.y}else i.options.top||(i.options.top=0);if(a="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(_(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var fe=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+fe+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},e.link=function(n,i,a,s,l){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(n),y:p(i),w:d(n+a),h:p(i+s)},options:l,type:"link"})},e.textWithLink=function(n,i,a,s){var l,c,d=this.getTextWidth(n),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var x=this.splitTextToSize(n,c).length;l=Math.ceil(p*x)}else c=d,l=p;return this.text(n,i,a,s),a+=.2*p,s.align==="center"&&(i-=d/2),s.align==="right"&&(i-=d),this.link(i,a-p,c,l,s),d},e.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(ft.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},c=e.__arabicParser__.isArabicEndLetter=function(b){return l(b)&&s(b)&&t[b.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(b){return l(b)&&a.indexOf(b.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return l(b)&&s(b)&&t[b.charCodeAt(0)].length>=1};var p=e.__arabicParser__.arabicLetterHasFinalForm=function(b){return l(b)&&s(b)&&t[b.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(b){return l(b)&&s(b)&&t[b.charCodeAt(0)].length>=3};var x=e.__arabicParser__.arabicLetterHasMedialForm=function(b){return l(b)&&s(b)&&t[b.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(b){var A=0,N=n,w="",L=0;for(A=0;A<b.length;A+=1)N[b.charCodeAt(A)]!==void 0?(L++,typeof(N=N[b.charCodeAt(A)])=="number"&&(w+=String.fromCharCode(N),N=n,L=0),A===b.length-1&&(N=n,w+=b.charAt(A-(L-1)),A-=L-1,L=0)):(N=n,w+=b.charAt(A-L),A-=L,L=0);return w};e.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&i[b.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(b,A,N){return l(b)?s(b)===!1?-1:!p(b)||!l(A)&&!l(N)||!l(N)&&c(A)||c(b)&&!l(A)||c(b)&&d(A)||c(b)&&c(A)?0:x(b)&&l(A)&&!c(A)&&l(N)&&p(N)?3:c(b)||!l(N)?1:2:-1},g=function(b){var A=0,N=0,w=0,L="",J="",ee="",fe=(b=b||"").split("\\s+"),H=[];for(A=0;A<fe.length;A+=1){for(H.push(""),N=0;N<fe[A].length;N+=1)L=fe[A][N],J=fe[A][N-1],ee=fe[A][N+1],l(L)?(w=y(L,J,ee),H[A]+=w!==-1?String.fromCharCode(t[L.charCodeAt(0)][w]):L):H[A]+=L;H[A]=m(H[A])}return H.join(" ")},_=e.__arabicParser__.processArabic=e.processArabic=function(){var b,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(A)){var w=0;for(N=[],w=0;w<A.length;w+=1)Array.isArray(A[w])?N.push([g(A[w][0]),A[w][1],A[w][2]]):N.push([g(A[w])]);b=N}else b=g(A);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};e.events.push(["preProcessText",_])}(ft.API),ft.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,i){var a;if((n=n||"2d")!=="2d")return null;for(a in i)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=i[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ft.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var x=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return x},set:function(b){x=b}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(b){y=b}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(b){_=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return i.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,p){i.call(this);var x=(p=p||{}).fontSize||this.getFontSize(),m=p.font||this.getFont(),y=p.scaleFactor||this.internal.scaleFactor,g=0,_=0,b=0,A=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var N=p.maxWidth;N>0?typeof d=="string"?d=this.splitTextToSize(d,N):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(L,J){return L.concat(A.splitTextToSize(J,N))},[])):d=Array.isArray(d)?d:[d];for(var w=0;w<d.length;w++)g<(b=this.getStringUnitWidth(d[w],{font:m})*x)&&(g=b);return g!==0&&(_=d.length),{w:g/=y,h:Math.max((_*x*this.getLineHeightFactor()-x*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var d;d=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var p=this.internal.__cell__.lastCell,x=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===d.lineNumber?(d.x=(p.x||0)+(p.width||0),d.y=p.y||0):p.y+p.height+d.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=m.top,g&&y&&(this.printHeaderRow(d.lineNumber,!0),d.y+=y[0].height)):d.y=p.y+p.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,n===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-x,d.y+x,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+x,{align:"center",baseline:"top",maxWidth:d.width-x-x}):this.text(d.text,d.x+x,d.y+x,{align:"left",baseline:"top",maxWidth:d.width-x-x})),this.internal.__cell__.lastCell=d,this};e.table=function(d,p,x,m,y){if(i.call(this),!x)throw new Error("No data for PDF table.");var g,_,b,A,N=[],w=[],L=[],J={},ee={},fe=[],H=[],R=(y=y||{}).autoSize||!1,te=y.printHeaders!==!1,oe=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,D=y.margins||Object.assign({width:this.getPageWidth()},t),z=typeof y.padding=="number"?y.padding:3,E=y.headerBackgroundColor||"#c8c8c8",$=y.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=te,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=oe,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=$,this.setFontSize(oe),m==null)w=N=Object.keys(x[0]),L=N.map(function(){return"left"});else if(Array.isArray(m)&&Wt(m[0])==="object")for(N=m.map(function(ne){return ne.name}),w=m.map(function(ne){return ne.prompt||ne.name||""}),L=m.map(function(ne){return ne.align||"left"}),g=0;g<m.length;g+=1)ee[m[g].name]=m[g].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(w=N=m,L=N.map(function(){return"left"}));if(R||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<N.length;g+=1){for(J[A=N[g]]=x.map(function(ne){return ne[A]}),this.setFont(void 0,"bold"),fe.push(this.getTextDimensions(w[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=J[A],this.setFont(void 0,"normal"),b=0;b<_.length;b+=1)fe.push(this.getTextDimensions(_[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ee[A]=Math.max.apply(null,fe)+z+z,fe=[]}if(te){var re={};for(g=0;g<N.length;g+=1)re[N[g]]={},re[N[g]].text=w[g],re[N[g]].align=L[g];var ue=c.call(this,re,ee);H=N.map(function(ne){return new s(d,p,ee[ne],ue,re[ne].text,void 0,re[ne].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var ye=m.reduce(function(ne,Le){return ne[Le.name]=Le.align,ne},{});for(g=0;g<x.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:x[g]},this);var X=c.call(this,x[g],ee);for(b=0;b<N.length;b+=1){var he=x[g][N[b]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:b,data:he},this),l.call(this,new s(d,p,ee[N[b]],X,he,g+2,ye[N[b]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=p,this};var c=function(d,p){var x=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(d).map(function(g){var _=d[g];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,p[g]-x-x)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/y+x+x},this).reduce(function(g,_){return Math.max(g,_)},0)};e.setTableHeaderRow=function(d){i.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,p){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var x;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){x=this.internal.__cell__.tableHeaderRow[g].clone(),p&&(x.y=this.internal.__cell__.margins.top||0,y.push(x)),x.lineNumber=d;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,x),this.setTextColor(_)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}}(ft.API);var rx={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ix=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ap=nx(ix),ax=[100,200,300,400,500,600,700,800,900],k4=nx(ax);function sp(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return rx[s=s||"normal"]?s:"normal"}(e.style),i=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(s){return typeof ap[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:i,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,i].join(" ")}}}function c1(e,t,n,i){var a;for(a=n;a>=0&&a<t.length;a+=i)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=i)if(e[t[a]])return e[t[a]]}var L4={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},u1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function d1(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function A4(e,t,n){for(var i=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},L4,n.genericFontFamilies||{}),s=null,l=null,c=0;c<t.length;++c)if(a[(s=sp(t[c])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){l=e[s.family];break}if(!(l=l||e[i]))throw new Error("Could not find a font-family for the rule '"+d1(s)+"' and default family '"+i+"'.");if(l=function(d,p){if(p[d])return p[d];var x=ap[d],m=x<=ap.normal?-1:1,y=c1(p,ix,x,m);if(!y)throw new Error("Could not find a matching font-stretch value for "+d);return y}(s.stretch,l),l=function(d,p){if(p[d])return p[d];for(var x=rx[d],m=0;m<x.length;++m)if(p[x[m]])return p[x[m]];throw new Error("Could not find a matching font-style for "+d)}(s.style,l),!(l=function(d,p){if(p[d])return p[d];if(d===400&&p[500])return p[500];if(d===500&&p[400])return p[400];var x=k4[d],m=c1(p,ax,x,d<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+d);return m}(s.weight,l)))throw new Error("Failed to resolve a font for the rule '"+d1(s)+"'.");return l}function h1(e){return e.trimLeft()}function _4(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function P4(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Mu,f1,p1,Qh=["times"];(function(e){var t,n,i,a,s,l,c,d,p,x=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new d,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new l,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new l,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,p=new x}]);var m=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=k;Object.defineProperty(this,"pdf",{get:function(){return q}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(xe){G=!!xe}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(xe){Y=!!xe}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(xe){isNaN(xe)||(Z=xe)}});var K=0;Object.defineProperty(this,"posY",{get:function(){return K},set:function(xe){isNaN(xe)||(K=xe)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(xe){var W;typeof xe=="number"?W=[xe,xe,xe,xe]:((W=new Array(4))[0]=xe[0],W[1]=xe.length>=2?xe[1]:W[0],W[2]=xe.length>=3?xe[2]:W[0],W[3]=xe.length>=4?xe[3]:W[1]),p.margin=W}});var le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return le},set:function(xe){le=xe}});var j=0;Object.defineProperty(this,"lastBreak",{get:function(){return j},set:function(xe){j=xe}});var V=[];Object.defineProperty(this,"pageBreaks",{get:function(){return V},set:function(xe){V=xe}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(xe){xe instanceof x&&(p=xe)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(xe){p.path=xe}});var F=[];Object.defineProperty(this,"ctxStack",{get:function(){return F},set:function(xe){F=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var W;W=y(xe),this.ctx.fillStyle=W.style,this.ctx.isFillTransparent=W.a===0,this.ctx.fillOpacity=W.a,this.pdf.setFillColor(W.r,W.g,W.b,{a:W.a}),this.pdf.setTextColor(W.r,W.g,W.b,{a:W.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var W=y(xe);this.ctx.strokeStyle=W.style,this.ctx.isStrokeTransparent=W.a===0,this.ctx.strokeOpacity=W.a,W.a===0?this.pdf.setDrawColor(255,255,255):(W.a,this.pdf.setDrawColor(W.r,W.g,W.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var ae=null;function be(xe,W){if(ae===null){var rt=function(Xe){var ze=[];return Object.keys(Xe).forEach(function(Ee){Xe[Ee].forEach(function(qe){var Ce=null;switch(qe){case"bold":Ce={family:Ee,weight:"bold"};break;case"italic":Ce={family:Ee,style:"italic"};break;case"bolditalic":Ce={family:Ee,weight:"bold",style:"italic"};break;case"":case"normal":Ce={family:Ee}}Ce!==null&&(Ce.ref={name:Ee,style:qe},ze.push(Ce))})}),ze}(xe.getFontList());ae=function(Xe){for(var ze={},Ee=0;Ee<Xe.length;++Ee){var qe=sp(Xe[Ee]),Ce=qe.family,Re=qe.stretch,tt=qe.style,it=qe.weight;ze[Ce]=ze[Ce]||{},ze[Ce][Re]=ze[Ce][Re]||{},ze[Ce][Re][tt]=ze[Ce][Re][tt]||{},ze[Ce][Re][tt][it]=qe}return ze}(rt.concat(W))}return ae}var Me=null;Object.defineProperty(this,"fontFaces",{get:function(){return Me},set:function(xe){ae=null,Me=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var W;if(this.ctx.font=xe,(W=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xe))!==null){var rt=W[1];W[2];var Xe=W[3],ze=W[4];W[5];var Ee=W[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(qe==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var Ce=function(ot){var ht,Ve,an=[],Ct=ot.trim();if(Ct==="")return Qh;if(Ct in u1)return[u1[Ct]];for(;Ct!=="";){switch(Ve=null,ht=(Ct=h1(Ct)).charAt(0)){case'"':case"'":Ve=_4(Ct.substring(1),ht);break;default:Ve=P4(Ct)}if(Ve===null||(an.push(Ve[0]),(Ct=h1(Ve[1]))!==""&&Ct.charAt(0)!==","))return Qh;Ct=Ct.replace(/^,/,"")}return an}(Ee);if(this.fontFaces){var Re=A4(be(this.pdf,this.fontFaces),Ce.map(function(ot){return{family:ot,stretch:"normal",weight:Xe,style:rt}}));this.pdf.setFont(Re.ref.name,Re.ref.style)}else{var tt="";(Xe==="bold"||parseInt(Xe,10)>=700||rt==="bold")&&(tt="bold"),rt==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var it="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},kt=0;kt<Ce.length;kt++){if(this.pdf.internal.getFont(Ce[kt],tt,{noFallback:!0,disableWarning:!0})!==void 0){it=Ce[kt];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(Ce[kt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)it=Ce[kt],tt="bold";else if(this.pdf.internal.getFont(Ce[kt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){it=Ce[kt],tt="normal";break}}if(it===""){for(var Ft=0;Ft<Ce.length;Ft++)if(ct[Ce[Ft]]){it=ct[Ce[Ft]];break}}it=it===""?"Times":it,this.pdf.setFont(it,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,Le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,Le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};m.prototype.setLineDash=function(k){this.lineDash=k},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){J.call(this,"fill",!1)},m.prototype.stroke=function(){J.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(k,q){if(isNaN(k)||isNaN(q))throw Qt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new l(k,q));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new l(k,q)},m.prototype.closePath=function(){var k=new l(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Wt(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){k=new l(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(k.x,k.y)},m.prototype.lineTo=function(k,q){if(isNaN(k)||isNaN(q))throw Qt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new l(k,q));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new l(G.x,G.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),J.call(this,null,!0)},m.prototype.quadraticCurveTo=function(k,q,G,Y){if(isNaN(G)||isNaN(Y)||isNaN(k)||isNaN(q))throw Qt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new l(G,Y)),K=this.ctx.transform.applyToPoint(new l(k,q));this.path.push({type:"qct",x1:K.x,y1:K.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new l(Z.x,Z.y)},m.prototype.bezierCurveTo=function(k,q,G,Y,Z,K){if(isNaN(Z)||isNaN(K)||isNaN(k)||isNaN(q)||isNaN(G)||isNaN(Y))throw Qt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var le=this.ctx.transform.applyToPoint(new l(Z,K)),j=this.ctx.transform.applyToPoint(new l(k,q)),V=this.ctx.transform.applyToPoint(new l(G,Y));this.path.push({type:"bct",x1:j.x,y1:j.y,x2:V.x,y2:V.y,x:le.x,y:le.y}),this.ctx.lastPoint=new l(le.x,le.y)},m.prototype.arc=function(k,q,G,Y,Z,K){if(isNaN(k)||isNaN(q)||isNaN(G)||isNaN(Y)||isNaN(Z))throw Qt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(K=!!K,!this.ctx.transform.isIdentity){var le=this.ctx.transform.applyToPoint(new l(k,q));k=le.x,q=le.y;var j=this.ctx.transform.applyToPoint(new l(0,G)),V=this.ctx.transform.applyToPoint(new l(0,0));G=Math.sqrt(Math.pow(j.x-V.x,2)+Math.pow(j.y-V.y,2))}Math.abs(Z-Y)>=2*Math.PI&&(Y=0,Z=2*Math.PI),this.path.push({type:"arc",x:k,y:q,radius:G,startAngle:Y,endAngle:Z,counterclockwise:K})},m.prototype.arcTo=function(k,q,G,Y,Z){throw new Error("arcTo not implemented.")},m.prototype.rect=function(k,q,G,Y){if(isNaN(k)||isNaN(q)||isNaN(G)||isNaN(Y))throw Qt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,q),this.lineTo(k+G,q),this.lineTo(k+G,q+Y),this.lineTo(k,q+Y),this.lineTo(k,q),this.lineTo(k+G,q),this.lineTo(k,q)},m.prototype.fillRect=function(k,q,G,Y){if(isNaN(k)||isNaN(q)||isNaN(G)||isNaN(Y))throw Qt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,q,G,Y),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},m.prototype.strokeRect=function(k,q,G,Y){if(isNaN(k)||isNaN(q)||isNaN(G)||isNaN(Y))throw Qt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(k,q,G,Y),this.stroke())},m.prototype.clearRect=function(k,q,G,Y){if(isNaN(k)||isNaN(q)||isNaN(G)||isNaN(Y))throw Qt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,q,G,Y))},m.prototype.save=function(k){k=typeof k!="boolean"||k;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new x(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},m.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(q),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(k){var q,G,Y,Z;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))q=0,G=0,Y=0,Z=0;else{var K=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(K!==null)q=parseInt(K[1]),G=parseInt(K[2]),Y=parseInt(K[3]),Z=1;else if((K=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)q=parseInt(K[1]),G=parseInt(K[2]),Y=parseInt(K[3]),Z=parseFloat(K[4]);else{if(Z=1,typeof k=="string"&&k.charAt(0)!=="#"){var le=new Y2(k);k=le.ok?le.toHex():"#000000"}k.length===4?(q=k.substring(1,2),q+=q,G=k.substring(2,3),G+=G,Y=k.substring(3,4),Y+=Y):(q=k.substring(1,3),G=k.substring(3,5),Y=k.substring(5,7)),q=parseInt(q,16),G=parseInt(G,16),Y=parseInt(Y,16)}}return{r:q,g:G,b:Y,a:Z,style:k}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(k,q,G,Y){if(isNaN(q)||isNaN(G)||typeof k!="string")throw Qt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!g.call(this)){var Z=X(this.ctx.transform.rotation),K=this.ctx.transform.scaleX;z.call(this,{text:k,x:q,y:G,scale:K,angle:Z,align:this.textAlign,maxWidth:Y})}},m.prototype.strokeText=function(k,q,G,Y){if(isNaN(q)||isNaN(G)||typeof k!="string")throw Qt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){Y=isNaN(Y)?void 0:Y;var Z=X(this.ctx.transform.rotation),K=this.ctx.transform.scaleX;z.call(this,{text:k,x:q,y:G,scale:K,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:Y})}},m.prototype.measureText=function(k){if(typeof k!="string")throw Qt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,G=this.pdf.internal.scaleFactor,Y=q.internal.getFontSize(),Z=q.getStringUnitWidth(k)*Y/q.internal.scaleFactor,K=function(le){var j=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return j}}),this};return new K({width:Z*=Math.round(96*G/72*1e4)/1e4})},m.prototype.scale=function(k,q){if(isNaN(k)||isNaN(q))throw Qt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new d(k,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.rotate=function(k){if(isNaN(k))throw Qt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new d(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.translate=function(k,q){if(isNaN(k)||isNaN(q))throw Qt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new d(1,0,0,1,k,q);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.transform=function(k,q,G,Y,Z,K){if(isNaN(k)||isNaN(q)||isNaN(G)||isNaN(Y)||isNaN(Z)||isNaN(K))throw Qt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var le=new d(k,q,G,Y,Z,K);this.ctx.transform=this.ctx.transform.multiply(le)},m.prototype.setTransform=function(k,q,G,Y,Z,K){k=isNaN(k)?1:k,q=isNaN(q)?0:q,G=isNaN(G)?0:G,Y=isNaN(Y)?1:Y,Z=isNaN(Z)?0:Z,K=isNaN(K)?0:K,this.ctx.transform=new d(k,q,G,Y,Z,K)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(k,q,G,Y,Z,K,le,j,V){var F=this.pdf.getImageProperties(k),ae=1,be=1,Me=1,xe=1;Y!==void 0&&j!==void 0&&(Me=j/Y,xe=V/Z,ae=F.width/Y*j/Y,be=F.height/Z*V/Z),K===void 0&&(K=q,le=G,q=0,G=0),Y!==void 0&&j===void 0&&(j=Y,V=Z),Y===void 0&&j===void 0&&(j=F.width,V=F.height);for(var W,rt=this.ctx.transform.decompose(),Xe=X(rt.rotate.shx),ze=new d,Ee=(ze=(ze=(ze=ze.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale)).applyToRectangle(new c(K-q*Me,le-G*xe,Y*ae,Z*be)),qe=A.call(this,Ee),Ce=[],Re=0;Re<qe.length;Re+=1)Ce.indexOf(qe[Re])===-1&&Ce.push(qe[Re]);if(L(Ce),this.autoPaging)for(var tt=Ce[0],it=Ce[Ce.length-1],ct=tt;ct<it+1;ct++){this.pdf.setPage(ct);var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=ct===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=ct===1?0:ot+(ct-2)*ht;if(this.ctx.clip_path.length!==0){var an=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(W,this.posX+this.margin[3],-Ve+Ft+this.ctx.prevPageLastElemOffset),ee.call(this,"fill",!0),this.path=an}var Ct=JSON.parse(JSON.stringify(Ee));Ct=w([Ct],this.posX+this.margin[3],-Ve+Ft+this.ctx.prevPageLastElemOffset)[0];var Zt=(ct>tt||ct<it)&&b.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,ht,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Ct.x,Ct.y,Ct.w,Ct.h,null,null,Xe),Zt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,Xe)};var A=function(k,q,G){var Y=[];q=q||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":Y.push(Math.floor((k.y+Z)/G)+1);break;case"arc":Y.push(Math.floor((k.y+Z-k.radius)/G)+1),Y.push(Math.floor((k.y+Z+k.radius)/G)+1);break;case"qct":var K=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);Y.push(Math.floor((K.y+Z)/G)+1),Y.push(Math.floor((K.y+K.h+Z)/G)+1);break;case"bct":var le=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);Y.push(Math.floor((le.y+Z)/G)+1),Y.push(Math.floor((le.y+le.h+Z)/G)+1);break;case"rect":Y.push(Math.floor((k.y+Z)/G)+1),Y.push(Math.floor((k.y+k.h+Z)/G)+1)}for(var j=0;j<Y.length;j+=1)for(;this.pdf.internal.getNumberOfPages()<Y[j];)N.call(this);return Y},N=function(){var k=this.fillStyle,q=this.strokeStyle,G=this.font,Y=this.lineCap,Z=this.lineWidth,K=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=q,this.font=G,this.lineCap=Y,this.lineWidth=Z,this.lineJoin=K},w=function(k,q,G){for(var Y=0;Y<k.length;Y++)switch(k[Y].type){case"bct":k[Y].x2+=q,k[Y].y2+=G;case"qct":k[Y].x1+=q,k[Y].y1+=G;case"mt":case"lt":case"arc":default:k[Y].x+=q,k[Y].y+=G}return k},L=function(k){return k.sort(function(q,G){return q-G})},J=function(k,q){for(var G,Y,Z=this.fillStyle,K=this.strokeStyle,le=this.lineCap,j=this.lineWidth,V=Math.abs(j*this.ctx.transform.scaleX),F=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),be=JSON.parse(JSON.stringify(this.path)),Me=[],xe=0;xe<be.length;xe++)if(be[xe].x!==void 0)for(var W=A.call(this,be[xe]),rt=0;rt<W.length;rt+=1)Me.indexOf(W[rt])===-1&&Me.push(W[rt]);for(var Xe=0;Xe<Me.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<Me[Xe];)N.call(this);if(L(Me),this.autoPaging)for(var ze=Me[0],Ee=Me[Me.length-1],qe=ze;qe<Ee+1;qe++){this.pdf.setPage(qe),this.fillStyle=Z,this.strokeStyle=K,this.lineCap=le,this.lineWidth=V,this.lineJoin=F;var Ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=qe===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=qe===1?0:tt+(qe-2)*it;if(this.ctx.clip_path.length!==0){var kt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(G,this.posX+this.margin[3],-ct+Re+this.ctx.prevPageLastElemOffset),ee.call(this,k,!0),this.path=kt}if(Y=JSON.parse(JSON.stringify(ae)),this.path=w(Y,this.posX+this.margin[3],-ct+Re+this.ctx.prevPageLastElemOffset),q===!1||qe===0){var Ft=(qe>ze||qe<Ee)&&b.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ce,it,null).clip().discardPath()),ee.call(this,k,q),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=j}else this.lineWidth=V,ee.call(this,k,q),this.lineWidth=j;this.path=ae},ee=function(k,q){if((k!=="stroke"||q||!_.call(this))&&(k==="stroke"||q||!g.call(this))){for(var G,Y,Z=[],K=this.path,le=0;le<K.length;le++){var j=K[le];switch(j.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:j,deltas:[],abs:[]});break;case"lt":var V=Z.length;if(K[le-1]&&!isNaN(K[le-1].x)&&(G=[j.x-K[le-1].x,j.y-K[le-1].y],V>0)){for(;V>=0;V--)if(Z[V-1].close!==!0&&Z[V-1].begin!==!0){Z[V-1].deltas.push(G),Z[V-1].abs.push(j);break}}break;case"bct":G=[j.x1-K[le-1].x,j.y1-K[le-1].y,j.x2-K[le-1].x,j.y2-K[le-1].y,j.x-K[le-1].x,j.y-K[le-1].y],Z[Z.length-1].deltas.push(G);break;case"qct":var F=K[le-1].x+2/3*(j.x1-K[le-1].x),ae=K[le-1].y+2/3*(j.y1-K[le-1].y),be=j.x+2/3*(j.x1-j.x),Me=j.y+2/3*(j.y1-j.y),xe=j.x,W=j.y;G=[F-K[le-1].x,ae-K[le-1].y,be-K[le-1].x,Me-K[le-1].y,xe-K[le-1].x,W-K[le-1].y],Z[Z.length-1].deltas.push(G);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(j)}}Y=q?null:k==="stroke"?"stroke":"fill";for(var rt=!1,Xe=0;Xe<Z.length;Xe++)if(Z[Xe].arc)for(var ze=Z[Xe].abs,Ee=0;Ee<ze.length;Ee++){var qe=ze[Ee];qe.type==="arc"?R.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,q,!rt):E.call(this,qe.x,qe.y),rt=!0}else if(Z[Xe].close===!0)this.pdf.internal.out("h"),rt=!1;else if(Z[Xe].begin!==!0){var Ce=Z[Xe].start.x,Re=Z[Xe].start.y;$.call(this,Z[Xe].deltas,Ce,Re),rt=!0}Y&&te.call(this,Y),q&&oe.call(this)}},fe=function(k){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-G;case"top":return k+q-G;case"hanging":return k+q-2*G;case"middle":return k+q/2-G;case"ideographic":return k;case"alphabetic":default:return k}},H=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(q,G){this.colorStops.push([q,G])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(k,q,G,Y,Z,K,le,j,V){for(var F=ue.call(this,G,Y,Z,K),ae=0;ae<F.length;ae++){var be=F[ae];ae===0&&(V?D.call(this,be.x1+k,be.y1+q):E.call(this,be.x1+k,be.y1+q)),re.call(this,k,q,be.x2,be.y2,be.x3,be.y3,be.x4,be.y4)}j?oe.call(this):te.call(this,le)},te=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},oe=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(k,q){this.pdf.internal.out(n(k)+" "+i(q)+" m")},z=function(k){var q;switch(k.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var G=this.pdf.getTextDimensions(k.text),Y=fe.call(this,k.y),Z=H.call(this,Y)-G.h,K=this.ctx.transform.applyToPoint(new l(k.x,Y)),le=this.ctx.transform.decompose(),j=new d;j=(j=(j=j.multiply(le.translate)).multiply(le.skew)).multiply(le.scale);for(var V,F,ae,be=this.ctx.transform.applyToRectangle(new c(k.x,Y,G.w,G.h)),Me=j.applyToRectangle(new c(k.x,Z,G.w,G.h)),xe=A.call(this,Me),W=[],rt=0;rt<xe.length;rt+=1)W.indexOf(xe[rt])===-1&&W.push(xe[rt]);if(L(W),this.autoPaging)for(var Xe=W[0],ze=W[W.length-1],Ee=Xe;Ee<ze+1;Ee++){this.pdf.setPage(Ee);var qe=Ee===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[2],tt=Re-this.margin[0],it=this.pdf.internal.pageSize.width-this.margin[1],ct=it-this.margin[3],kt=Ee===1?0:Ce+(Ee-2)*tt;if(this.ctx.clip_path.length!==0){var Ft=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(V,this.posX+this.margin[3],-1*kt+qe),ee.call(this,"fill",!0),this.path=Ft}var ot=w([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-kt+qe+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(F=this.pdf.internal.getFontSize(),this.pdf.setFontSize(F*k.scale),ae=this.lineWidth,this.lineWidth=ae*k.scale);var ht=this.autoPaging!=="text";if(ht||ot.y+ot.h<=Re){if(ht||ot.y>=qe&&ot.x<=it){var Ve=ht?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||it-ot.x)[0],an=w([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-kt+qe+this.ctx.prevPageLastElemOffset)[0],Ct=ht&&(Ee>Xe||Ee<ze)&&b.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,tt,null).clip().discardPath()),this.pdf.text(Ve,an.x,an.y,{angle:k.angle,align:q,renderingMode:k.renderingMode}),Ct&&this.pdf.restoreGraphicsState()}}else ot.y<Re&&(this.ctx.prevPageLastElemOffset+=Re-ot.y);k.scale>=.01&&(this.pdf.setFontSize(F),this.lineWidth=ae)}else k.scale>=.01&&(F=this.pdf.internal.getFontSize(),this.pdf.setFontSize(F*k.scale),ae=this.lineWidth,this.lineWidth=ae*k.scale),this.pdf.text(k.text,K.x+this.posX,K.y+this.posY,{angle:k.angle,align:q,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(F),this.lineWidth=ae)},E=function(k,q,G,Y){G=G||0,Y=Y||0,this.pdf.internal.out(n(k+G)+" "+i(q+Y)+" l")},$=function(k,q,G){return this.pdf.lines(k,q,G,null,null)},re=function(k,q,G,Y,Z,K,le,j){this.pdf.internal.out([t(a(G+k)),t(s(Y+q)),t(a(Z+k)),t(s(K+q)),t(a(le+k)),t(s(j+q)),"c"].join(" "))},ue=function(k,q,G,Y){for(var Z=2*Math.PI,K=Math.PI/2;q>G;)q-=Z;var le=Math.abs(G-q);le<Z&&Y&&(le=Z-le);for(var j=[],V=Y?-1:1,F=q;le>1e-5;){var ae=F+V*Math.min(le,K);j.push(ye.call(this,k,F,ae)),le-=Math.abs(ae-F),F=ae}return j},ye=function(k,q,G){var Y=(G-q)/2,Z=k*Math.cos(Y),K=k*Math.sin(Y),le=Z,j=-K,V=le*le+j*j,F=V+le*Z+j*K,ae=4/3*(Math.sqrt(2*V*F)-F)/(le*K-j*Z),be=le-ae*j,Me=j+ae*le,xe=be,W=-Me,rt=Y+q,Xe=Math.cos(rt),ze=Math.sin(rt);return{x1:k*Math.cos(q),y1:k*Math.sin(q),x2:be*Xe-Me*ze,y2:be*ze+Me*Xe,x3:xe*Xe-W*ze,y3:xe*ze+W*Xe,x4:k*Math.cos(G),y4:k*Math.sin(G)}},X=function(k){return 180*k/Math.PI},he=function(k,q,G,Y,Z,K){var le=k+.5*(G-k),j=q+.5*(Y-q),V=Z+.5*(G-Z),F=K+.5*(Y-K),ae=Math.min(k,Z,le,V),be=Math.max(k,Z,le,V),Me=Math.min(q,K,j,F),xe=Math.max(q,K,j,F);return new c(ae,Me,be-ae,xe-Me)},ne=function(k,q,G,Y,Z,K,le,j){var V,F,ae,be,Me,xe,W,rt,Xe,ze,Ee,qe,Ce,Re,tt=G-k,it=Y-q,ct=Z-G,kt=K-Y,Ft=le-Z,ot=j-K;for(F=0;F<41;F++)Xe=(W=(ae=k+(V=F/40)*tt)+V*((Me=G+V*ct)-ae))+V*(Me+V*(Z+V*Ft-Me)-W),ze=(rt=(be=q+V*it)+V*((xe=Y+V*kt)-be))+V*(xe+V*(K+V*ot-xe)-rt),F==0?(Ee=Xe,qe=ze,Ce=Xe,Re=ze):(Ee=Math.min(Ee,Xe),qe=Math.min(qe,ze),Ce=Math.max(Ce,Xe),Re=Math.max(Re,ze));return new c(Math.round(Ee),Math.round(qe),Math.round(Ce-Ee),Math.round(Re-qe))},Le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,q,G=(k=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:q}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(ft.API),function(e){var t=function(s){var l,c,d,p,x,m,y,g,_,b;for(c=[],d=0,p=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;p>d;d+=4)(x=(s.charCodeAt(d)<<24)+(s.charCodeAt(d+1)<<16)+(s.charCodeAt(d+2)<<8)+s.charCodeAt(d+3))!==0?(m=(x=((x=((x=((x=(x-(b=x%85))/85)-(_=x%85))/85)-(g=x%85))/85)-(y=x%85))/85)%85,c.push(m+33,y+33,g+33,_+33,b+33)):c.push(122);return function(A,N){for(var w=N;w>0;w--)A.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(s){var l,c,d,p,x,m=String,y="length",g=255,_="charCodeAt",b="slice",A="replace";for(s[b](-2),s=s[b](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),d=[],p=0,x=(s+=l="uuuuu"[b](s[y]%5||5))[y];x>p;p+=5)c=52200625*(s[_](p)-33)+614125*(s[_](p+1)-33)+7225*(s[_](p+2)-33)+85*(s[_](p+3)-33)+(s[_](p+4)-33),d.push(g&c>>24,g&c>>16,g&c>>8,g&c);return function(N,w){for(var L=w;L>0;L--)N.pop()}(d,l[y]),m.fromCharCode.apply(m,d)},i=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var c="",d=0;d<s.length;d+=2)c+=String.fromCharCode("0x"+(s[d]+s[d+1]));return c},a=function(s){for(var l=new Uint8Array(s.length),c=s.length;c--;)l[c]=s.charCodeAt(c);return s=(l=ep(l)).reduce(function(d,p){return d+String.fromCharCode(p)},"")};e.processDataByFilters=function(s,l){var c=0,d=s||"",p=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=n(d),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map(function(x){return("0"+x.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:p.reverse().join(" ")}}}(ft.API),function(e){e.loadFile=function(t,n,i){return function(a,s,l){s=s!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(d,p,x){var m=new XMLHttpRequest,y=0,g=function(_){var b=_.length,A=[],N=String.fromCharCode;for(y=0;y<b;y+=1)A.push(N(255&_.charCodeAt(y)));return A.join("")};if(m.open("GET",d,!p),m.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(m.onload=function(){m.status===200?x(g(this.responseText)):x(void 0)}),m.send(null),p&&m.status===200)return g(m.responseText)}(a,s,l)}catch{}return c}(t,n,i)},e.loadImageFile=e.loadFile}(ft.API),function(e){function t(){return(pt.html2canvas?Promise.resolve(pt.html2canvas):Xf(()=>import("./html2canvas.esm-e0a7d97b.js"),[],import.meta.url)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(pt.DOMPurify?Promise.resolve(pt.DOMPurify):Xf(()=>import("./purify.es-31816194.js"),[],import.meta.url)).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var i=function(l){var c=Wt(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var d=document.createElement(l);for(var p in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[p]=c.style[p];return d},s=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),p=l.convert(Promise.resolve(),d);return p=(p=p.setProgress(1,l,1,[l])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,c){return l.__proto__=c||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(i(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(n).then(function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function d(p,x){for(var m=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),y=p.firstChild;y;y=y.nextSibling)x!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||m.appendChild(d(y,x));return p.nodeType===1&&(p.nodeName==="CANVAS"?(m.width=p.width,m.height=p.height,m.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(m.value=p.value),m.addEventListener("load",function(){m.scrollTop=p.scrollTop,m.scrollLeft=p.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,p=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=p,p)for(var y=0;y<p.length;++y){var g=p[y],_=g.src.find(function(b){return b.format==="truetype"});_&&d.addFont(_.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,d.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},s.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(i(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in s.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(l,c){return this.then(function(){var d=l in s.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},s.prototype.setMargin=function(l){return this.then(function(){switch(i(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function c(d,p){return Math.floor(d*p/72*96)}return this.then(function(){(l=l||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,c,d,p){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,c,d,p){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,p?this.progress.stack.concat(p):null)},s.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(p,x){return d.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(m){return d.updateProgress(null,p),m}).then(p,x).then(function(m){return d.updateProgress(1),m})})},s.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then,l&&(l=l.bind(this)),c&&(c=c.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),x=d.call(p,l,c);return s.convert(x,this.__proto__)},s.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},s.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},s.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return s.convert(c,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ft.getPageSize=function(l,c,d){if(Wt(l)==="object"){var p=l;l=p.orientation,c=p.unit||c,d=p.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var x,m=(""+d).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+c}var g,_=0,b=0;if(y.hasOwnProperty(m))_=y[m][1]/x,b=y[m][0]/x;else try{_=d[1],b=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",b>_&&(g=b,b=_,_=g);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",_>b&&(g=b,b=_,_=g)}return{width:b,height:_,unit:c,k:x,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(sp):null;var d=new s(c);return c.worker?d:d.from(l).doCallback()}}(ft.API),ft.API.addJS=function(e){return p1=e,this.internal.events.subscribe("postPutResources",function(){Mu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Mu+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),f1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+p1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Mu!==void 0&&f1!==void 0&&this.internal.out("/Names <</JavaScript "+Mu+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),s=0;s<a.length;s++){var l=a[s],c=i.exec(l);if(c!=null){var d=c[1];n.internal.newObjectDeferredBegin(d,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,x=[];for(s=0;s<p;s++){var m=n.internal.newObject();x.push(m);var y=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<x.length;s++)n.internal.write("(page_"+(s+1)+")"+x[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,a,s){var l={title:a,options:s,children:[]};return i==null&&(i=this.root),i.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var a=0;a<i.children.length;a++)this.genIds_r(i.children[a])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var l=i.children[s];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var d=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var p=0;p<i.children.length;p++)this.renderItems(i.children[p])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,a){for(var s=0;s<a.children.length;s++)i.count++,this.count_r(i,a.children[s]);return i.count}}])}(ft.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,i,a,s,l,c){var d,p=this.decode.DCT_DECODE,x=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(d=function(m){for(var y,g=256*m.charCodeAt(4)+m.charCodeAt(5),_=m.length,b={width:0,height:0,numcomponents:1},A=4;A<_;A+=2){if(A+=g,t.indexOf(m.charCodeAt(A+1))!==-1){y=256*m.charCodeAt(A+5)+m.charCodeAt(A+6),b={width:256*m.charCodeAt(A+7)+m.charCodeAt(A+8),height:y,numcomponents:m.charCodeAt(A+9)};break}g=256*m.charCodeAt(A+2)+m.charCodeAt(A+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}x={data:n,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:p,index:i,alias:a}}return x}}(ft.API);var yo,zu,m1,g1,x1,I4=function(){var e,t,n;function i(s){var l,c,d,p,x,m,y,g,_,b,A,N,w,L;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(l=this.readUInt32(),_=(function(){var J,ee;for(ee=[],J=0;J<4;++J)ee.push(String.fromCharCode(this.data[this.pos++]));return ee}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},x=this.readUInt16(),p=this.readUInt16()||100,m.delay=1e3*x/p,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(_==="fdAT"&&(this.pos+=4,l-=4),s=(m!=null?m.data:void 0)||this.imgData,N=0;0<=l?N<l:N>l;0<=l?++N:--N)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((b=d-this.transparency.indexed.length)>0)for(w=0;0<=b?w<b:w>b;0<=b?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":y=(A=this.read(l)).indexOf(0),g=String.fromCharCode.apply(String,A.slice(0,y)),this.text[g]=String.fromCharCode.apply(String,A.slice(y+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(L=this.colorType)===4||L===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var l,c;for(c=[],l=0;0<=s?l<s:l>s;0<=s?++l:--l)c.push(this.data[this.pos++]);return c},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var l=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*l),d=0,p=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function x(m,y,g,_){var b,A,N,w,L,J,ee,fe,H,R,te,oe,D,z,E,$,re,ue,ye,X,he,ne=Math.ceil((p.width-m)/g),Le=Math.ceil((p.height-y)/_),k=p.width==ne&&p.height==Le;for(z=l*ne,oe=k?c:new Uint8Array(z*Le),J=s.length,D=0,A=0;D<Le&&d<J;){switch(s[d++]){case 0:for(w=re=0;re<z;w=re+=1)oe[A++]=s[d++];break;case 1:for(w=ue=0;ue<z;w=ue+=1)b=s[d++],L=w<l?0:oe[A-l],oe[A++]=(b+L)%256;break;case 2:for(w=ye=0;ye<z;w=ye+=1)b=s[d++],N=(w-w%l)/l,E=D&&oe[(D-1)*z+N*l+w%l],oe[A++]=(E+b)%256;break;case 3:for(w=X=0;X<z;w=X+=1)b=s[d++],N=(w-w%l)/l,L=w<l?0:oe[A-l],E=D&&oe[(D-1)*z+N*l+w%l],oe[A++]=(b+Math.floor((L+E)/2))%256;break;case 4:for(w=he=0;he<z;w=he+=1)b=s[d++],N=(w-w%l)/l,L=w<l?0:oe[A-l],D===0?E=$=0:(E=oe[(D-1)*z+N*l+w%l],$=N&&oe[(D-1)*z+(N-1)*l+w%l]),ee=L+E-$,fe=Math.abs(ee-L),R=Math.abs(ee-E),te=Math.abs(ee-$),H=fe<=R&&fe<=te?L:R<=te?E:$,oe[A++]=(b+H)%256;break;default:throw new Error("Invalid filter algorithm: "+s[d-1])}if(!k){var q=((y+D*_)*p.width+m)*l,G=D*z;for(w=0;w<ne;w+=1){for(var Y=0;Y<l;Y+=1)c[q++]=oe[G++];q+=(g-1)*l}}D++}}return s=c4(s),p.interlaceMethod==1?(x(0,0,8,8),x(4,0,8,8),x(0,4,4,8),x(2,0,4,4),x(0,2,2,4),x(1,0,2,2),x(0,1,1,2)):x(0,0,1,1),c},i.prototype.decodePalette=function(){var s,l,c,d,p,x,m,y,g;for(c=this.palette,x=this.transparency.indexed||[],p=new Uint8Array((x.length||0)+c.length),d=0,s=0,l=m=0,y=c.length;m<y;l=m+=3)p[d++]=c[l],p[d++]=c[l+1],p[d++]=c[l+2],p[d++]=(g=x[s++])!=null?g:255;return p},i.prototype.copyToImageData=function(s,l){var c,d,p,x,m,y,g,_,b,A,N;if(d=this.colors,b=null,c=this.hasAlphaChannel,this.palette.length&&(b=(N=this._decodedPalette)!=null?N:this._decodedPalette=this.decodePalette(),d=4,c=!0),_=(p=s.data||s).length,m=b||l,x=y=0,d===1)for(;x<_;)g=b?4*l[x/4]:y,A=m[g++],p[x++]=A,p[x++]=A,p[x++]=A,p[x++]=c?m[g++]:255,y=g;else for(;x<_;)g=b?4*l[x/4]:y,p[x++]=m[g++],p[x++]=m[g++],p[x++]=m[g++],p[x++]=c?m[g++]:255,y=g},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(pt)==="[object Window]"){try{t=pt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(s){var l;if(a()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(l=new Image).src=t.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var l,c,d,p,x,m,y,g;if(this.animation){for(g=[],c=x=0,m=(y=this.animation.frames).length;x<m;c=++x)l=y[c],d=s.createImageData(l.width,l.height),p=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(d,p),l.imageData=d,g.push(l.image=e(d));return g}},i.prototype.renderFrame=function(s,l){var c,d,p;return c=(d=this.animation.frames)[l],p=d[l-1],l===0&&s.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?s.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&s.putImageData(p.imageData,p.xOffset,p.yOffset),c.blendOp===0&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},i.prototype.animate=function(s){var l,c,d,p,x,m,y=this;return c=0,m=this.animation,p=m.numFrames,d=m.frames,x=m.numPlays,(l=function(){var g,_;if(g=c++%p,_=d[g],y.renderFrame(s,g),p>1&&c/p<x)return y.animation._timeout=setTimeout(l,_.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},i.prototype.render=function(s){var l,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,l=s.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(c=l.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),l.putImageData(c,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function T4(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,l=1<<(7&a)+1;e[t++],e[t++];var c=null,d=null;s&&(c=t,d=l,t+=3*l);var p=!0,x=[],m=0,y=null,g=0,_=null;for(this.width=n,this.height=i;p&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,_=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[t++];m=e[t++]|e[t++]<<8,y=e[t++],!(1&b)&&(y=null),g=b>>2&7,t++;break;case 254:for(;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var A=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,J=e[t++],ee=J>>6&1,fe=1<<(7&J)+1,H=c,R=d,te=!1;J>>7&&(te=!0,H=t,R=fe,t+=3*fe);var oe=t;for(t++;;){var D;if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}x.push({x:A,y:N,width:w,height:L,has_local_palette:te,palette_offset:H,palette_size:R,data_offset:oe,data_length:t-oe,transparent_index:y,interlaced:!!ee,delay:m,disposal:g});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return x.length},this.loopCount=function(){return _},this.frameInfo=function(z){if(z<0||z>=x.length)throw new Error("Frame index out of range.");return x[z]},this.decodeAndBlitFrameBGRA=function(z,E){var $=this.frameInfo(z),re=$.width*$.height,ue=new Uint8Array(re);v1(e,$.data_offset,ue,re);var ye=$.palette_offset,X=$.transparent_index;X===null&&(X=256);var he=$.width,ne=n-he,Le=he,k=4*($.y*n+$.x),q=4*(($.y+$.height)*n+$.x),G=k,Y=4*ne;$.interlaced===!0&&(Y+=4*n*7);for(var Z=8,K=0,le=ue.length;K<le;++K){var j=ue[K];if(Le===0&&(Le=he,(G+=Y)>=q&&(Y=4*ne+4*n*(Z-1),G=k+(he+ne)*(Z<<1),Z>>=1)),j===X)G+=4;else{var V=e[ye+3*j],F=e[ye+3*j+1],ae=e[ye+3*j+2];E[G++]=ae,E[G++]=F,E[G++]=V,E[G++]=255}--Le}},this.decodeAndBlitFrameRGBA=function(z,E){var $=this.frameInfo(z),re=$.width*$.height,ue=new Uint8Array(re);v1(e,$.data_offset,ue,re);var ye=$.palette_offset,X=$.transparent_index;X===null&&(X=256);var he=$.width,ne=n-he,Le=he,k=4*($.y*n+$.x),q=4*(($.y+$.height)*n+$.x),G=k,Y=4*ne;$.interlaced===!0&&(Y+=4*n*7);for(var Z=8,K=0,le=ue.length;K<le;++K){var j=ue[K];if(Le===0&&(Le=he,(G+=Y)>=q&&(Y=4*ne+4*n*(Z-1),G=k+(he+ne)*(Z<<1),Z>>=1)),j===X)G+=4;else{var V=e[ye+3*j],F=e[ye+3*j+1],ae=e[ye+3*j+2];E[G++]=V,E[G++]=F,E[G++]=ae,E[G++]=255}--Le}}}function v1(e,t,n,i){for(var a=e[t++],s=1<<a,l=s+1,c=l+1,d=a+1,p=(1<<d)-1,x=0,m=0,y=0,g=e[t++],_=new Int32Array(4096),b=null;;){for(;x<16&&g!==0;)m|=e[t++]<<x,x+=8,g===1?g=e[t++]:--g;if(x<d)break;var A=m&p;if(m>>=d,x-=d,A!==s){if(A===l)break;for(var N=A<c?A:b,w=0,L=N;L>s;)L=_[L]>>8,++w;var J=L;if(y+w+(N!==A?1:0)>i)return void Qt.log("Warning, gif stream longer than expected.");n[y++]=J;var ee=y+=w;for(N!==A&&(n[y++]=J),L=N;w--;)L=_[L],n[--ee]=255&L,L>>=8;b!==null&&c<4096&&(_[c++]=b<<8|J,c>=p+1&&d<12&&(++d,p=p<<1|1)),b=A}else c=l+1,p=(1<<(d=a+1))-1,b=null}return y!==i&&Qt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Zh(e){var t,n,i,a,s,l=Math.floor,c=new Array(64),d=new Array(64),p=new Array(64),x=new Array(64),m=new Array(65535),y=new Array(65535),g=new Array(64),_=new Array(64),b=[],A=0,N=7,w=new Array(64),L=new Array(64),J=new Array(64),ee=new Array(256),fe=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(k,q){for(var G=0,Y=0,Z=new Array,K=1;K<=16;K++){for(var le=1;le<=k[K];le++)Z[q[Y]]=[],Z[q[Y]][0]=G,Z[q[Y]][1]=K,Y++,G++;G*=2}return Z}function ye(k){for(var q=k[0],G=k[1]-1;G>=0;)q&1<<G&&(A|=1<<N),G--,--N<0&&(A==255?(X(255),X(0)):X(A),N=7,A=0)}function X(k){b.push(k)}function he(k){X(k>>8&255),X(255&k)}function ne(k,q,G,Y,Z){for(var K,le=Z[0],j=Z[240],V=function(ze,Ee){var qe,Ce,Re,tt,it,ct,kt,Ft,ot,ht,Ve=0;for(ot=0;ot<8;++ot){qe=ze[Ve],Ce=ze[Ve+1],Re=ze[Ve+2],tt=ze[Ve+3],it=ze[Ve+4],ct=ze[Ve+5],kt=ze[Ve+6];var an=qe+(Ft=ze[Ve+7]),Ct=qe-Ft,Zt=Ce+kt,Dt=Ce-kt,Xt=Re+ct,Zn=Re-ct,It=tt+it,Er=tt-it,en=an+It,Fn=an-It,Bt=Zt+Xt,Ot=Zt-Xt;ze[Ve]=en+Bt,ze[Ve+4]=en-Bt;var Ue=.707106781*(Ot+Fn);ze[Ve+2]=Fn+Ue,ze[Ve+6]=Fn-Ue;var T=.382683433*((en=Er+Zn)-(Ot=Dt+Ct)),_e=.5411961*en+T,Ae=1.306562965*Ot+T,et=.707106781*(Bt=Zn+Dt),yt=Ct+et,$e=Ct-et;ze[Ve+5]=$e+_e,ze[Ve+3]=$e-_e,ze[Ve+1]=yt+Ae,ze[Ve+7]=yt-Ae,Ve+=8}for(Ve=0,ot=0;ot<8;++ot){qe=ze[Ve],Ce=ze[Ve+8],Re=ze[Ve+16],tt=ze[Ve+24],it=ze[Ve+32],ct=ze[Ve+40],kt=ze[Ve+48];var $t=qe+(Ft=ze[Ve+56]),Lt=qe-Ft,Ut=Ce+kt,Vt=Ce-kt,Rt=Re+ct,On=Re-ct,Fr=tt+it,dr=tt-it,Or=$t+Fr,Rr=$t-Fr,wr=Ut+Rt,Qr=Ut-Rt;ze[Ve]=Or+wr,ze[Ve+32]=Or-wr;var br=.707106781*(Qr+Rr);ze[Ve+16]=Rr+br,ze[Ve+48]=Rr-br;var Tn=.382683433*((Or=dr+On)-(Qr=Vt+Lt)),Gi=.5411961*Or+Tn,ya=1.306562965*Qr+Tn,Wi=.707106781*(wr=On+Vt),Na=Lt+Wi,wa=Lt-Wi;ze[Ve+40]=wa+Gi,ze[Ve+24]=wa-Gi,ze[Ve+8]=Na+ya,ze[Ve+56]=Na-ya,Ve++}for(ot=0;ot<64;++ot)ht=ze[ot]*Ee[ot],g[ot]=ht>0?ht+.5|0:ht-.5|0;return g}(k,q),F=0;F<64;++F)_[H[F]]=V[F];var ae=_[0]-G;G=_[0],ae==0?ye(Y[0]):(ye(Y[y[K=32767+ae]]),ye(m[K]));for(var be=63;be>0&&_[be]==0;)be--;if(be==0)return ye(le),G;for(var Me,xe=1;xe<=be;){for(var W=xe;_[xe]==0&&xe<=be;)++xe;var rt=xe-W;if(rt>=16){Me=rt>>4;for(var Xe=1;Xe<=Me;++Xe)ye(j);rt&=15}K=32767+_[xe],ye(Z[(rt<<4)+y[K]]),ye(m[K]),xe++}return be!=63&&ye(le),G}function Le(k){k=Math.min(Math.max(k,1),100),s!=k&&(function(q){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var Z=l((G[Y]*q+50)/100);Z=Math.min(Math.max(Z,1),255),c[H[Y]]=Z}for(var K=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],le=0;le<64;le++){var j=l((K[le]*q+50)/100);j=Math.min(Math.max(j,1),255),d[H[le]]=j}for(var V=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],F=0,ae=0;ae<8;ae++)for(var be=0;be<8;be++)p[F]=1/(c[H[F]]*V[ae]*V[be]*8),x[F]=1/(d[H[F]]*V[ae]*V[be]*8),F++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),s=k)}this.encode=function(k,q){q&&Le(q),b=new Array,A=0,N=7,he(65496),he(65504),he(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),he(1),he(1),X(0),X(0),function(){he(65499),he(132),X(0);for(var Ce=0;Ce<64;Ce++)X(c[Ce]);X(1);for(var Re=0;Re<64;Re++)X(d[Re])}(),function(Ce,Re){he(65472),he(17),X(8),he(Re),he(Ce),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(k.width,k.height),function(){he(65476),he(418),X(0);for(var Ce=0;Ce<16;Ce++)X(R[Ce+1]);for(var Re=0;Re<=11;Re++)X(te[Re]);X(16);for(var tt=0;tt<16;tt++)X(oe[tt+1]);for(var it=0;it<=161;it++)X(D[it]);X(1);for(var ct=0;ct<16;ct++)X(z[ct+1]);for(var kt=0;kt<=11;kt++)X(E[kt]);X(17);for(var Ft=0;Ft<16;Ft++)X($[Ft+1]);for(var ot=0;ot<=161;ot++)X(re[ot])}(),he(65498),he(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var G=0,Y=0,Z=0;A=0,N=7,this.encode.displayName="_encode_";for(var K,le,j,V,F,ae,be,Me,xe,W=k.data,rt=k.width,Xe=k.height,ze=4*rt,Ee=0;Ee<Xe;){for(K=0;K<ze;){for(F=ze*Ee+K,be=-1,Me=0,xe=0;xe<64;xe++)ae=F+(Me=xe>>3)*ze+(be=4*(7&xe)),Ee+Me>=Xe&&(ae-=ze*(Ee+1+Me-Xe)),K+be>=ze&&(ae-=K+be-ze+4),le=W[ae++],j=W[ae++],V=W[ae++],w[xe]=(fe[le]+fe[j+256>>0]+fe[V+512>>0]>>16)-128,L[xe]=(fe[le+768>>0]+fe[j+1024>>0]+fe[V+1280>>0]>>16)-128,J[xe]=(fe[le+1280>>0]+fe[j+1536>>0]+fe[V+1792>>0]>>16)-128;G=ne(w,p,G,t,i),Y=ne(L,x,Y,n,a),Z=ne(J,x,Z,n,a),K+=32}Ee+=8}if(N>=0){var qe=[];qe[1]=N+1,qe[0]=(1<<N+1)-1,ye(qe)}return he(65497),new Uint8Array(b)},e=e||50,function(){for(var k=String.fromCharCode,q=0;q<256;q++)ee[q]=k(q)}(),t=ue(R,te),n=ue(z,E),i=ue(oe,D),a=ue($,re),function(){for(var k=1,q=2,G=1;G<=15;G++){for(var Y=k;Y<q;Y++)y[32767+Y]=G,m[32767+Y]=[],m[32767+Y][1]=G,m[32767+Y][0]=Y;for(var Z=-(q-1);Z<=-k;Z++)y[32767+Z]=G,m[32767+Z]=[],m[32767+Z][1]=G,m[32767+Z][0]=q-1+Z;k<<=1,q<<=1}}(),function(){for(var k=0;k<256;k++)fe[k]=19595*k,fe[k+256>>0]=38470*k,fe[k+512>>0]=7471*k+32768,fe[k+768>>0]=-11059*k,fe[k+1024>>0]=-21709*k,fe[k+1280>>0]=32768*k+8421375,fe[k+1536>>0]=-27439*k,fe[k+1792>>0]=-5329*k}(),Le(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ni(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function y1(e){function t(R){if(!R)throw Error("assert :P")}function n(R,te,oe){for(var D=0;4>D;D++)if(R[te+D]!=oe.charCodeAt(D))return!0;return!1}function i(R,te,oe,D,z){for(var E=0;E<z;E++)R[te+E]=oe[D+E]}function a(R,te,oe,D){for(var z=0;z<D;z++)R[te+z]=oe}function s(R){return new Int32Array(R)}function l(R,te){for(var oe=[],D=0;D<R;D++)oe.push(new te);return oe}function c(R,te){var oe=[];return function D(z,E,$){for(var re=$[E],ue=0;ue<re&&(z.push($.length>E+1?[]:new te),!($.length<E+1));ue++)D(z[ue],E+1,$)}(oe,0,R),oe}var d=function(){var R=this;function te(o,u){for(var f=1<<u-1>>>0;o&f;)f>>>=1;return f?(o&f-1)+f:o}function oe(o,u,f,v,S){t(!(v%f));do o[u+(v-=f)]=S;while(0<v)}function D(o,u,f,v,S){if(t(2328>=S),512>=S)var P=s(512);else if((P=s(S))==null)return 0;return function(I,M,O,U,ce,Ne){var we,me,Te=M,Se=1<<O,de=s(16),pe=s(16);for(t(ce!=0),t(U!=null),t(I!=null),t(0<O),me=0;me<ce;++me){if(15<U[me])return 0;++de[U[me]]}if(de[0]==ce)return 0;for(pe[1]=0,we=1;15>we;++we){if(de[we]>1<<we)return 0;pe[we+1]=pe[we]+de[we]}for(me=0;me<ce;++me)we=U[me],0<U[me]&&(Ne[pe[we]++]=me);if(pe[15]==1)return(U=new z).g=0,U.value=Ne[0],oe(I,Te,1,Se,U),Se;var Pe,De=-1,Ie=Se-1,Qe=0,He=1,dt=1,We=1<<O;for(me=0,we=1,ce=2;we<=O;++we,ce<<=1){if(He+=dt<<=1,0>(dt-=de[we]))return 0;for(;0<de[we];--de[we])(U=new z).g=we,U.value=Ne[me++],oe(I,Te+Qe,ce,We,U),Qe=te(Qe,we)}for(we=O+1,ce=2;15>=we;++we,ce<<=1){if(He+=dt<<=1,0>(dt-=de[we]))return 0;for(;0<de[we];--de[we]){if(U=new z,(Qe&Ie)!=De){for(Te+=We,Pe=1<<(De=we)-O;15>De&&!(0>=(Pe-=de[De]));)++De,Pe<<=1;Se+=We=1<<(Pe=De-O),I[M+(De=Qe&Ie)].g=Pe+O,I[M+De].value=Te-M-De}U.g=we-O,U.value=Ne[me++],oe(I,Te+(Qe>>O),ce,We,U),Qe=te(Qe,we)}}return He!=2*pe[15]-1?0:Se}(o,u,f,v,S,P)}function z(){this.value=this.g=0}function E(){this.value=this.g=0}function $(){this.G=l(5,z),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Wn,E)}function re(o,u,f,v){t(o!=null),t(u!=null),t(2147483648>v),o.Ca=254,o.I=0,o.b=-8,o.Ka=0,o.oa=u,o.pa=f,o.Jd=u,o.Yc=f+v,o.Zc=4<=v?f+v-4+1:f,K(o)}function ue(o,u){for(var f=0;0<u--;)f|=j(o,128)<<u;return f}function ye(o,u){var f=ue(o,u);return le(o)?-f:f}function X(o,u,f,v){var S,P=0;for(t(o!=null),t(u!=null),t(4294967288>v),o.Sb=v,o.Ra=0,o.u=0,o.h=0,4<v&&(v=4),S=0;S<v;++S)P+=u[f+S]<<8*S;o.Ra=P,o.bb=v,o.oa=u,o.pa=f}function he(o){for(;8<=o.u&&o.bb<o.Sb;)o.Ra>>>=8,o.Ra+=o.oa[o.pa+o.bb]<<so-8>>>0,++o.bb,o.u-=8;G(o)&&(o.h=1,o.u=0)}function ne(o,u){if(t(0<=u),!o.h&&u<=ao){var f=q(o)&io[u];return o.u+=u,he(o),f}return o.h=1,o.u=0}function Le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(o){return o.Ra>>>(o.u&so-1)>>>0}function G(o){return t(o.bb<=o.Sb),o.h||o.bb==o.Sb&&o.u>so}function Y(o,u){o.u=u,o.h=G(o)}function Z(o){o.u>=bl&&(t(o.u>=bl),he(o))}function K(o){t(o!=null&&o.oa!=null),o.pa<o.Zc?(o.I=(o.oa[o.pa++]|o.I<<8)>>>0,o.b+=8):(t(o!=null&&o.oa!=null),o.pa<o.Yc?(o.b+=8,o.I=o.oa[o.pa++]|o.I<<8):o.Ka?o.b=0:(o.I<<=8,o.b+=8,o.Ka=1))}function le(o){return ue(o,1)}function j(o,u){var f=o.Ca;0>o.b&&K(o);var v=o.b,S=f*u>>>8,P=(o.I>>>v>S)+0;for(P?(f-=S,o.I-=S+1<<v>>>0):f=S+1,v=f,S=0;256<=v;)S+=8,v>>=8;return v=7^S+Sr[v],o.b-=v,o.Ca=(f<<v)-1,P}function V(o,u,f){o[u+0]=f>>24&255,o[u+1]=f>>16&255,o[u+2]=f>>8&255,o[u+3]=f>>0&255}function F(o,u){return o[u+0]<<0|o[u+1]<<8}function ae(o,u){return F(o,u)|o[u+2]<<16}function be(o,u){return F(o,u)|F(o,u+2)<<16}function Me(o,u){var f=1<<u;return t(o!=null),t(0<u),o.X=s(f),o.X==null?0:(o.Mb=32-u,o.Xa=u,1)}function xe(o,u){t(o!=null),t(u!=null),t(o.Xa==u.Xa),i(u.X,0,o.X,0,1<<u.Xa)}function W(){this.X=[],this.Xa=this.Mb=0}function rt(o,u,f,v){t(f!=null),t(v!=null);var S=f[0],P=v[0];return S==0&&(S=(o*P+u/2)/u),P==0&&(P=(u*S+o/2)/o),0>=S||0>=P?0:(f[0]=S,v[0]=P,1)}function Xe(o,u){return o+(1<<u)-1>>>u}function ze(o,u){return((4278255360&o)+(4278255360&u)>>>0&4278255360)+((16711935&o)+(16711935&u)>>>0&16711935)>>>0}function Ee(o,u){R[u]=function(f,v,S,P,I,M,O){var U;for(U=0;U<I;++U){var ce=R[o](M[O+U-1],S,P+U);M[O+U]=ze(f[v+U],ce)}}}function qe(){this.ud=this.hd=this.jd=0}function Ce(o,u){return((4278124286&(o^u))>>>1)+(o&u)>>>0}function Re(o){return 0<=o&&256>o?o:0>o?0:255<o?255:void 0}function tt(o,u){return Re(o+(o-u+.5>>1))}function it(o,u,f){return Math.abs(u-f)-Math.abs(o-f)}function ct(o,u,f,v,S,P,I){for(v=P[I-1],f=0;f<S;++f)P[I+f]=v=ze(o[u+f],v)}function kt(o,u,f,v,S){var P;for(P=0;P<f;++P){var I=o[u+P],M=I>>8&255,O=16711935&(O=(O=16711935&I)+((M<<16)+M));v[S+P]=(4278255360&I)+O>>>0}}function Ft(o,u){u.jd=o>>0&255,u.hd=o>>8&255,u.ud=o>>16&255}function ot(o,u,f,v,S,P){var I;for(I=0;I<v;++I){var M=u[f+I],O=M>>>8,U=M,ce=255&(ce=(ce=M>>>16)+((o.jd<<24>>24)*(O<<24>>24)>>>5));U=255&(U=(U=U+((o.hd<<24>>24)*(O<<24>>24)>>>5))+((o.ud<<24>>24)*(ce<<24>>24)>>>5)),S[P+I]=(4278255360&M)+(ce<<16)+U}}function ht(o,u,f,v,S){R[u]=function(P,I,M,O,U,ce,Ne,we,me){for(O=Ne;O<we;++O)for(Ne=0;Ne<me;++Ne)U[ce++]=S(M[v(P[I++])])},R[o]=function(P,I,M,O,U,ce,Ne){var we=8>>P.b,me=P.Ea,Te=P.K[0],Se=P.w;if(8>we)for(P=(1<<P.b)-1,Se=(1<<we)-1;I<M;++I){var de,pe=0;for(de=0;de<me;++de)de&P||(pe=v(O[U++])),ce[Ne++]=S(Te[pe&Se]),pe>>=we}else R["VP8LMapColor"+f](O,U,Te,Se,ce,Ne,I,M,me)}}function Ve(o,u,f,v,S){for(f=u+f;u<f;){var P=o[u++];v[S++]=P>>16&255,v[S++]=P>>8&255,v[S++]=P>>0&255}}function an(o,u,f,v,S){for(f=u+f;u<f;){var P=o[u++];v[S++]=P>>16&255,v[S++]=P>>8&255,v[S++]=P>>0&255,v[S++]=P>>24&255}}function Ct(o,u,f,v,S){for(f=u+f;u<f;){var P=(I=o[u++])>>16&240|I>>12&15,I=I>>0&240|I>>28&15;v[S++]=P,v[S++]=I}}function Zt(o,u,f,v,S){for(f=u+f;u<f;){var P=(I=o[u++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;v[S++]=P,v[S++]=I}}function Dt(o,u,f,v,S){for(f=u+f;u<f;){var P=o[u++];v[S++]=P>>0&255,v[S++]=P>>8&255,v[S++]=P>>16&255}}function Xt(o,u,f,v,S,P){if(P==0)for(f=u+f;u<f;)V(v,((P=o[u++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),S+=32;else i(v,S,o,u,f)}function Zn(o,u){R[u][0]=R[o+"0"],R[u][1]=R[o+"1"],R[u][2]=R[o+"2"],R[u][3]=R[o+"3"],R[u][4]=R[o+"4"],R[u][5]=R[o+"5"],R[u][6]=R[o+"6"],R[u][7]=R[o+"7"],R[u][8]=R[o+"8"],R[u][9]=R[o+"9"],R[u][10]=R[o+"10"],R[u][11]=R[o+"11"],R[u][12]=R[o+"12"],R[u][13]=R[o+"13"],R[u][14]=R[o+"0"],R[u][15]=R[o+"0"]}function It(o){return o==ih||o==ah||o==Qc||o==sh}function Er(){this.eb=[],this.size=this.A=this.fb=0}function en(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Fn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Er,this.f.kb=new en,this.sd=null}function Bt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ot(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ue(o){return alert("todo:WebPSamplerProcessPlane"),o.T}function T(o,u){var f=o.T,v=u.ba.f.RGBA,S=v.eb,P=v.fb+o.ka*v.A,I=si[u.ba.S],M=o.y,O=o.O,U=o.f,ce=o.N,Ne=o.ea,we=o.W,me=u.cc,Te=u.dc,Se=u.Mc,de=u.Nc,pe=o.ka,Pe=o.ka+o.T,De=o.U,Ie=De+1>>1;for(pe==0?I(M,O,null,null,U,ce,Ne,we,U,ce,Ne,we,S,P,null,null,De):(I(u.ec,u.fc,M,O,me,Te,Se,de,U,ce,Ne,we,S,P-v.A,S,P,De),++f);pe+2<Pe;pe+=2)me=U,Te=ce,Se=Ne,de=we,ce+=o.Rc,we+=o.Rc,P+=2*v.A,I(M,(O+=2*o.fa)-o.fa,M,O,me,Te,Se,de,U,ce,Ne,we,S,P-v.A,S,P,De);return O+=o.fa,o.j+Pe<o.o?(i(u.ec,u.fc,M,O,De),i(u.cc,u.dc,U,ce,Ie),i(u.Mc,u.Nc,Ne,we,Ie),f--):1&Pe||I(M,O,null,null,U,ce,Ne,we,U,ce,Ne,we,S,P+v.A,null,null,De),f}function _e(o,u,f){var v=o.F,S=[o.J];if(v!=null){var P=o.U,I=u.ba.S,M=I==Kc||I==Qc;u=u.ba.f.RGBA;var O=[0],U=o.ka;O[0]=o.T,o.Kb&&(U==0?--O[0]:(--U,S[0]-=o.width),o.j+o.ka+o.T==o.o&&(O[0]=o.o-o.j-U));var ce=u.eb;U=u.fb+U*u.A,o=nn(v,S[0],o.width,P,O,ce,U+(M?0:3),u.A),t(f==O),o&&It(I)&&ii(ce,U,M,P,O,u.A)}return 0}function Ae(o){var u=o.ma,f=u.ba.S,v=11>f,S=f==Xc||f==Yc||f==Kc||f==rh||f==12||It(f);if(u.memory=null,u.Ib=null,u.Jb=null,u.Nd=null,!Nl(u.Oa,o,S?11:12))return 0;if(S&&It(f)&&Fe(),o.da)alert("todo:use_scaling");else{if(v){if(u.Ib=Ue,o.Kb){if(f=o.U+1>>1,u.memory=s(o.U+2*f),u.memory==null)return 0;u.ec=u.memory,u.fc=0,u.cc=u.ec,u.dc=u.fc+o.U,u.Mc=u.cc,u.Nc=u.dc+f,u.Ib=T,Fe()}}else alert("todo:EmitYUV");S&&(u.Jb=_e,v&&ve())}if(v&&!vm){for(o=0;256>o;++o)kx[o]=89858*(o-128)+eu>>Zc,_x[o]=-22014*(o-128)+eu,Ax[o]=-45773*(o-128),Lx[o]=113618*(o-128)+eu>>Zc;for(o=_l;o<ch;++o)u=76283*(o-16)+eu>>Zc,Px[o-_l]=Br(u,255),Ix[o-_l]=Br(u+8>>4,15);vm=1}return 1}function et(o){var u=o.ma,f=o.U,v=o.T;return t(!(1&o.ka)),0>=f||0>=v?0:(f=u.Ib(o,u),u.Jb!=null&&u.Jb(o,u,f),u.Dc+=f,1)}function yt(o){o.ma.memory=null}function $e(o,u,f,v){return ne(o,8)!=47?0:(u[0]=ne(o,14)+1,f[0]=ne(o,14)+1,v[0]=ne(o,1),ne(o,3)!=0?0:!o.h)}function $t(o,u){if(4>o)return o+1;var f=o-2>>1;return(2+(1&o)<<f)+ne(u,f)+1}function Lt(o,u){return 120<u?u-120:1<=(f=((f=hx[u-1])>>4)*o+(8-(15&f)))?f:1;var f}function Ut(o,u,f){var v=q(f),S=o[u+=255&v].g-8;return 0<S&&(Y(f,f.u+8),v=q(f),u+=o[u].value,u+=v&(1<<S)-1),Y(f,f.u+o[u].g),o[u].value}function Vt(o,u,f){return f.g+=o.g,f.value+=o.value<<u>>>0,t(8>=f.g),o.g}function Rt(o,u,f){var v=o.xc;return t((u=v==0?0:o.vc[o.md*(f>>v)+(u>>v)])<o.Wb),o.Ya[u]}function On(o,u,f,v){var S=o.ab,P=o.c*u,I=o.C;u=I+u;var M=f,O=v;for(v=o.Ta,f=o.Ua;0<S--;){var U=o.gc[S],ce=I,Ne=u,we=M,me=O,Te=(O=v,M=f,U.Ea);switch(t(ce<Ne),t(Ne<=U.nc),U.hc){case 2:$c(we,me,(Ne-ce)*Te,O,M);break;case 0:var Se=ce,de=Ne,pe=O,Pe=M,De=(We=U).Ea;Se==0&&(th(we,me,null,null,1,pe,Pe),ct(we,me+1,0,0,De-1,pe,Pe+1),me+=De,Pe+=De,++Se);for(var Ie=1<<We.b,Qe=Ie-1,He=Xe(De,We.b),dt=We.K,We=We.w+(Se>>We.b)*He;Se<de;){var qt=dt,Ht=We,zt=1;for(jl(we,me,pe,Pe-De,1,pe,Pe);zt<De;){var Pt=(zt&~Qe)+Ie;Pt>De&&(Pt=De),(0,_a[qt[Ht++]>>8&15])(we,me+ +zt,pe,Pe+zt-De,Pt-zt,pe,Pe+zt),zt=Pt}me+=De,Pe+=De,++Se&Qe||(We+=He)}Ne!=U.nc&&i(O,M-Te,O,M+(Ne-ce-1)*Te,Te);break;case 1:for(Te=we,de=me,De=(we=U.Ea)-(Pe=we&~(pe=(me=1<<U.b)-1)),Se=Xe(we,U.b),Ie=U.K,U=U.w+(ce>>U.b)*Se;ce<Ne;){for(Qe=Ie,He=U,dt=new qe,We=de+Pe,qt=de+we;de<We;)Ft(Qe[He++],dt),Ns(dt,Te,de,me,O,M),de+=me,M+=me;de<qt&&(Ft(Qe[He++],dt),Ns(dt,Te,de,De,O,M),de+=De,M+=De),++ce&pe||(U+=Se)}break;case 3:if(we==O&&me==M&&0<U.b){for(de=O,we=Te=M+(Ne-ce)*Te-(Pe=(Ne-ce)*Xe(U.Ea,U.b)),me=O,pe=M,Se=[],Pe=(De=Pe)-1;0<=Pe;--Pe)Se[Pe]=me[pe+Pe];for(Pe=De-1;0<=Pe;--Pe)de[we+Pe]=Se[Pe];ti(U,ce,Ne,O,Te,O,M)}else ti(U,ce,Ne,we,me,O,M)}M=v,O=f}O!=f&&i(v,f,M,O,P)}function Fr(o,u){var f=o.V,v=o.Ba+o.c*o.C,S=u-o.C;if(t(u<=o.l.o),t(16>=S),0<S){var P=o.l,I=o.Ta,M=o.Ua,O=P.width;if(On(o,S,f,v),S=M=[M],t((f=o.C)<(v=u)),t(P.v<P.va),v>P.o&&(v=P.o),f<P.j){var U=P.j-f;f=P.j,S[0]+=U*O}if(f>=v?f=0:(S[0]+=4*P.v,P.ka=f-P.j,P.U=P.va-P.v,P.T=v-f,f=1),f){if(M=M[0],11>(f=o.ca).S){var ce=f.f.RGBA,Ne=(v=f.S,S=P.U,P=P.T,U=ce.eb,ce.A),we=P;for(ce=ce.fb+o.Ma*ce.A;0<we--;){var me=I,Te=M,Se=S,de=U,pe=ce;switch(v){case Jc:Cr(me,Te,Se,de,pe);break;case Xc:fr(me,Te,Se,de,pe);break;case ih:fr(me,Te,Se,de,pe),ii(de,pe,0,Se,1,0);break;case lm:Zi(me,Te,Se,de,pe);break;case Yc:Xt(me,Te,Se,de,pe,1);break;case ah:Xt(me,Te,Se,de,pe,1),ii(de,pe,0,Se,1,0);break;case Kc:Xt(me,Te,Se,de,pe,0);break;case Qc:Xt(me,Te,Se,de,pe,0),ii(de,pe,1,Se,1,0);break;case rh:Pa(me,Te,Se,de,pe);break;case sh:Pa(me,Te,Se,de,pe),tn(de,pe,Se,1,0);break;case cm:Qi(me,Te,Se,de,pe);break;default:t(0)}M+=O,ce+=Ne}o.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");t(o.Ma<=f.height)}}o.C=u,t(o.C<=o.i)}function dr(o){var u;if(0<o.ua)return 0;for(u=0;u<o.Wb;++u){var f=o.Ya[u].G,v=o.Ya[u].H;if(0<f[1][v[1]+0].g||0<f[2][v[2]+0].g||0<f[3][v[3]+0].g)return 0}return 1}function Or(o,u,f,v,S,P){if(o.Z!=0){var I=o.qd,M=o.rd;for(t(Ma[o.Z]!=null);u<f;++u)Ma[o.Z](I,M,v,S,v,S,P),I=v,M=S,S+=P;o.qd=I,o.rd=M}}function Rr(o,u){var f=o.l.ma,v=f.Z==0||f.Z==1?o.l.j:o.C;if(v=o.C<v?v:o.C,t(u<=o.l.o),u>v){var S=o.l.width,P=f.ca,I=f.tb+S*v,M=o.V,O=o.Ba+o.c*v,U=o.gc;t(o.ab==1),t(U[0].hc==3),Uc(U[0],v,u,M,O,P,I),Or(f,v,u,P,I,S)}o.C=o.Ma=u}function wr(o,u,f,v,S,P,I){var M=o.$/v,O=o.$%v,U=o.m,ce=o.s,Ne=f+o.$,we=Ne;S=f+v*S;var me=f+v*P,Te=280+ce.ua,Se=o.Pb?M:16777216,de=0<ce.ua?ce.Wa:null,pe=ce.wc,Pe=Ne<me?Rt(ce,O,M):null;t(o.C<P),t(me<=S);var De=!1;e:for(;;){for(;De||Ne<me;){var Ie=0;if(M>=Se){var Qe=Ne-f;t((Se=o).Pb),Se.wd=Se.m,Se.xd=Qe,0<Se.s.ua&&xe(Se.s.Wa,Se.s.vb),Se=M+px}if(O&pe||(Pe=Rt(ce,O,M)),t(Pe!=null),Pe.Qb&&(u[Ne]=Pe.qb,De=!0),!De)if(Z(U),Pe.jc){Ie=U,Qe=u;var He=Ne,dt=Pe.pd[q(Ie)&Wn-1];t(Pe.jc),256>dt.g?(Y(Ie,Ie.u+dt.g),Qe[He]=dt.value,Ie=0):(Y(Ie,Ie.u+dt.g-256),t(256<=dt.value),Ie=dt.value),Ie==0&&(De=!0)}else Ie=Ut(Pe.G[0],Pe.H[0],U);if(U.h)break;if(De||256>Ie){if(!De)if(Pe.nd)u[Ne]=(Pe.qb|Ie<<8)>>>0;else{if(Z(U),De=Ut(Pe.G[1],Pe.H[1],U),Z(U),Qe=Ut(Pe.G[2],Pe.H[2],U),He=Ut(Pe.G[3],Pe.H[3],U),U.h)break;u[Ne]=(He<<24|De<<16|Ie<<8|Qe)>>>0}if(De=!1,++Ne,++O>=v&&(O=0,++M,I!=null&&M<=P&&!(M%16)&&I(o,M),de!=null))for(;we<Ne;)Ie=u[we++],de.X[(506832829*Ie&4294967295)>>>de.Mb]=Ie}else if(280>Ie){if(Ie=$t(Ie-256,U),Qe=Ut(Pe.G[4],Pe.H[4],U),Z(U),Qe=Lt(v,Qe=$t(Qe,U)),U.h)break;if(Ne-f<Qe||S-Ne<Ie)break e;for(He=0;He<Ie;++He)u[Ne+He]=u[Ne+He-Qe];for(Ne+=Ie,O+=Ie;O>=v;)O-=v,++M,I!=null&&M<=P&&!(M%16)&&I(o,M);if(t(Ne<=S),O&pe&&(Pe=Rt(ce,O,M)),de!=null)for(;we<Ne;)Ie=u[we++],de.X[(506832829*Ie&4294967295)>>>de.Mb]=Ie}else{if(!(Ie<Te))break e;for(De=Ie-280,t(de!=null);we<Ne;)Ie=u[we++],de.X[(506832829*Ie&4294967295)>>>de.Mb]=Ie;Ie=Ne,t(!(De>>>(Qe=de).Xa)),u[Ie]=Qe.X[De],De=!0}De||t(U.h==G(U))}if(o.Pb&&U.h&&Ne<S)t(o.m.h),o.a=5,o.m=o.wd,o.$=o.xd,0<o.s.ua&&xe(o.s.vb,o.s.Wa);else{if(U.h)break e;I!=null&&I(o,M>P?P:M),o.a=0,o.$=Ne-f}return 1}return o.a=3,0}function Qr(o){t(o!=null),o.vc=null,o.yc=null,o.Ya=null;var u=o.Wa;u!=null&&(u.X=null),o.vb=null,t(o!=null)}function br(){var o=new eh;return o==null?null:(o.a=0,o.xb=hm,Zn("Predictor","VP8LPredictors"),Zn("Predictor","VP8LPredictors_C"),Zn("PredictorAdd","VP8LPredictorsAdd"),Zn("PredictorAdd","VP8LPredictorsAdd_C"),$c=kt,Ns=ot,Cr=Ve,fr=an,Pa=Ct,Qi=Zt,Zi=Dt,R.VP8LMapColor32b=oo,R.VP8LMapColor8b=Vc,o)}function Tn(o,u,f,v,S){var P=1,I=[o],M=[u],O=v.m,U=v.s,ce=null,Ne=0;e:for(;;){if(f)for(;P&&ne(O,1);){var we=I,me=M,Te=v,Se=1,de=Te.m,pe=Te.gc[Te.ab],Pe=ne(de,2);if(Te.Oc&1<<Pe)P=0;else{switch(Te.Oc|=1<<Pe,pe.hc=Pe,pe.Ea=we[0],pe.nc=me[0],pe.K=[null],++Te.ab,t(4>=Te.ab),Pe){case 0:case 1:pe.b=ne(de,3)+2,Se=Tn(Xe(pe.Ea,pe.b),Xe(pe.nc,pe.b),0,Te,pe.K),pe.K=pe.K[0];break;case 3:var De,Ie=ne(de,8)+1,Qe=16<Ie?0:4<Ie?1:2<Ie?2:3;if(we[0]=Xe(pe.Ea,Qe),pe.b=Qe,De=Se=Tn(Ie,1,0,Te,pe.K)){var He,dt=Ie,We=pe,qt=1<<(8>>We.b),Ht=s(qt);if(Ht==null)De=0;else{var zt=We.K[0],Pt=We.w;for(Ht[0]=We.K[0][0],He=1;He<1*dt;++He)Ht[He]=ze(zt[Pt+He],Ht[He-1]);for(;He<4*qt;++He)Ht[He]=0;We.K[0]=null,We.K[0]=Ht,De=1}}Se=De;break;case 2:break;default:t(0)}P=Se}}if(I=I[0],M=M[0],P&&ne(O,1)&&!(P=1<=(Ne=ne(O,4))&&11>=Ne)){v.a=3;break e}var Kt;if(Kt=P)t:{var Yt,St,An,kr=v,_n=I,Lr=M,Gt=Ne,$r=f,Ur=kr.m,Bn=kr.s,Jn=[null],mr=1,oi=0,Mi=fx[Gt];n:for(;;){if($r&&ne(Ur,1)){var qn=ne(Ur,3)+2,ra=Xe(_n,qn),Cs=Xe(Lr,qn),fo=ra*Cs;if(!Tn(ra,Cs,0,kr,Jn))break n;for(Jn=Jn[0],Bn.xc=qn,Yt=0;Yt<fo;++Yt){var za=Jn[Yt]>>8&65535;Jn[Yt]=za,za>=mr&&(mr=za+1)}}if(Ur.h)break n;for(St=0;5>St;++St){var xn=um[St];!St&&0<Gt&&(xn+=1<<Gt),oi<xn&&(oi=xn)}var uh=l(mr*Mi,z),wm=mr,bm=l(wm,$);if(bm==null)var nu=null;else t(65536>=wm),nu=bm;var Pl=s(oi);if(nu==null||Pl==null||uh==null){kr.a=1;break n}var ru=uh;for(Yt=An=0;Yt<mr;++Yt){var xi=nu[Yt],po=xi.G,mo=xi.H,jm=0,iu=1,Sm=0;for(St=0;5>St;++St){xn=um[St],po[St]=ru,mo[St]=An,!St&&0<Gt&&(xn+=1<<Gt);i:{var au,dh=xn,su=kr,Il=Pl,Mx=ru,zx=An,hh=0,Ea=su.m,Ex=ne(Ea,1);if(a(Il,0,0,dh),Ex){var Fx=ne(Ea,1)+1,Ox=ne(Ea,1),Cm=ne(Ea,Ox==0?1:8);Il[Cm]=1,Fx==2&&(Il[Cm=ne(Ea,8)]=1);var ou=1}else{var km=s(19),Lm=ne(Ea,4)+4;if(19<Lm){su.a=3;var lu=0;break i}for(au=0;au<Lm;++au)km[dx[au]]=ne(Ea,3);var fh=void 0,Tl=void 0,Am=su,Rx=km,cu=dh,_m=Il,ph=0,Fa=Am.m,Pm=8,Im=l(128,z);r:for(;D(Im,0,7,Rx,19);){if(ne(Fa,1)){var Bx=2+2*ne(Fa,3);if((fh=2+ne(Fa,Bx))>cu)break r}else fh=cu;for(Tl=0;Tl<cu&&fh--;){Z(Fa);var Tm=Im[0+(127&q(Fa))];Y(Fa,Fa.u+Tm.g);var go=Tm.value;if(16>go)_m[Tl++]=go,go!=0&&(Pm=go);else{var qx=go==16,Dm=go-16,$x=cx[Dm],Mm=ne(Fa,lx[Dm])+$x;if(Tl+Mm>cu)break r;for(var Ux=qx?Pm:0;0<Mm--;)_m[Tl++]=Ux}}ph=1;break r}ph||(Am.a=3),ou=ph}(ou=ou&&!Ea.h)&&(hh=D(Mx,zx,8,Il,dh)),ou&&hh!=0?lu=hh:(su.a=3,lu=0)}if(lu==0)break n;if(iu&&ux[St]==1&&(iu=ru[An].g==0),jm+=ru[An].g,An+=lu,3>=St){var Dl,mh=Pl[0];for(Dl=1;Dl<xn;++Dl)Pl[Dl]>mh&&(mh=Pl[Dl]);Sm+=mh}}if(xi.nd=iu,xi.Qb=0,iu&&(xi.qb=(po[3][mo[3]+0].value<<24|po[1][mo[1]+0].value<<16|po[2][mo[2]+0].value)>>>0,jm==0&&256>po[0][mo[0]+0].value&&(xi.Qb=1,xi.qb+=po[0][mo[0]+0].value<<8)),xi.jc=!xi.Qb&&6>Sm,xi.jc){var uu,ia=xi;for(uu=0;uu<Wn;++uu){var Oa=uu,Ra=ia.pd[Oa],du=ia.G[0][ia.H[0]+Oa];256<=du.value?(Ra.g=du.g+256,Ra.value=du.value):(Ra.g=0,Ra.value=0,Oa>>=Vt(du,8,Ra),Oa>>=Vt(ia.G[1][ia.H[1]+Oa],16,Ra),Oa>>=Vt(ia.G[2][ia.H[2]+Oa],0,Ra),Vt(ia.G[3][ia.H[3]+Oa],24,Ra))}}}Bn.vc=Jn,Bn.Wb=mr,Bn.Ya=nu,Bn.yc=uh,Kt=1;break t}Kt=0}if(!(P=Kt)){v.a=3;break e}if(0<Ne){if(U.ua=1<<Ne,!Me(U.Wa,Ne)){v.a=1,P=0;break e}}else U.ua=0;var gh=v,zm=I,Vx=M,xh=gh.s,vh=xh.xc;if(gh.c=zm,gh.i=Vx,xh.md=Xe(zm,vh),xh.wc=vh==0?-1:(1<<vh)-1,f){v.xb=wx;break e}if((ce=s(I*M))==null){v.a=1,P=0;break e}P=(P=wr(v,ce,0,I,M,M,null))&&!O.h;break e}return P?(S!=null?S[0]=ce:(t(ce==null),t(f)),v.$=0,f||Qr(U)):Qr(U),P}function Gi(o,u){var f=o.c*o.i,v=f+u+16*u;return t(o.c<=u),o.V=s(v),o.V==null?(o.Ta=null,o.Ua=0,o.a=1,0):(o.Ta=o.V,o.Ua=o.Ba+f+u,1)}function ya(o,u){var f=o.C,v=u-f,S=o.V,P=o.Ba+o.c*f;for(t(u<=o.l.o);0<v;){var I=16<v?16:v,M=o.l.ma,O=o.l.width,U=O*I,ce=M.ca,Ne=M.tb+O*f,we=o.Ta,me=o.Ua;On(o,I,S,P),wn(we,me,ce,Ne,U),Or(M,f,f+I,ce,Ne,O),v-=I,S+=I*o.c,f+=I}t(f==u),o.C=o.Ma=u}function Wi(){this.ub=this.yd=this.td=this.Rb=0}function Na(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function wa(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Gs(){this.Yb=function(){var o=[];return function u(f,v,S){for(var P=S[v],I=0;I<P&&(f.push(S.length>v+1?[]:0),!(S.length<v+1));I++)u(f[I],v+1,S)}(o,0,[3,11]),o}()}function il(){this.jb=s(3),this.Wc=c([4,8],Gs),this.Xc=c([4,17],Gs)}function al(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ba(){this.ld=this.La=this.dd=this.tc=0}function Ws(){this.Na=this.la=0}function sl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fs(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ji(){this.uc=this.M=this.Nb=0,this.wa=Array(new ba),this.Y=0,this.ya=Array(new fs),this.aa=0,this.l=new ei}function Zr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Dn(){this.cb=this.a=0,this.sc="",this.m=new Le,this.Od=new Wi,this.Kc=new Na,this.ed=new al,this.Qa=new wa,this.Ic=this.$c=this.Aa=0,this.D=new Ji,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,Le),this.ia=0,this.pb=l(4,sl),this.Pa=new il,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Zr),this.Hd=0,this.rb=Array(new Ws),this.sb=0,this.wa=Array(new ba),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fs),this.L=this.aa=0,this.gd=c([4,2],ba),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ei(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ol(){var o=new Dn;return o!=null&&(o.a=0,o.sc="OK",o.cb=0,o.Xb=0,Al||(Al=ps)),o}function un(o,u,f){return o.a==0&&(o.a=u,o.sc=f,o.cb=0),0}function Js(o,u,f){return 3<=f&&o[u+0]==157&&o[u+1]==1&&o[u+2]==42}function Xi(o,u){if(o==null)return 0;if(o.a=0,o.sc="OK",u==null)return un(o,2,"null VP8Io passed to VP8GetHeaders()");var f=u.data,v=u.w,S=u.ha;if(4>S)return un(o,7,"Truncated header.");var P=f[v+0]|f[v+1]<<8|f[v+2]<<16,I=o.Od;if(I.Rb=!(1&P),I.td=P>>1&7,I.yd=P>>4&1,I.ub=P>>5,3<I.td)return un(o,3,"Incorrect keyframe parameters.");if(!I.yd)return un(o,4,"Frame not displayable.");v+=3,S-=3;var M=o.Kc;if(I.Rb){if(7>S)return un(o,7,"cannot parse picture header");if(!Js(f,v,S))return un(o,3,"Bad code word");M.c=16383&(f[v+4]<<8|f[v+3]),M.Td=f[v+4]>>6,M.i=16383&(f[v+6]<<8|f[v+5]),M.Ud=f[v+6]>>6,v+=7,S-=7,o.za=M.c+15>>4,o.Ub=M.i+15>>4,u.width=M.c,u.height=M.i,u.Da=0,u.j=0,u.v=0,u.va=u.width,u.o=u.height,u.da=0,u.ib=u.width,u.hb=u.height,u.U=u.width,u.T=u.height,a((P=o.Pa).jb,0,255,P.jb.length),t((P=o.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,a(P.Zb,0,0,P.Zb.length),a(P.Lb,0,0,P.Lb)}if(I.ub>S)return un(o,7,"bad partition length");re(P=o.m,f,v,I.ub),v+=I.ub,S-=I.ub,I.Rb&&(M.Ld=le(P),M.Kd=le(P)),M=o.Qa;var O,U=o.Pa;if(t(P!=null),t(M!=null),M.Cb=le(P),M.Cb){if(M.Bb=le(P),le(P)){for(M.Fb=le(P),O=0;4>O;++O)M.Zb[O]=le(P)?ye(P,7):0;for(O=0;4>O;++O)M.Lb[O]=le(P)?ye(P,6):0}if(M.Bb)for(O=0;3>O;++O)U.jb[O]=le(P)?ue(P,8):255}else M.Bb=0;if(P.Ka)return un(o,3,"cannot parse segment header");if((M=o.ed).zd=le(P),M.Tb=ue(P,6),M.wb=ue(P,3),M.Pc=le(P),M.Pc&&le(P)){for(U=0;4>U;++U)le(P)&&(M.vd[U]=ye(P,6));for(U=0;4>U;++U)le(P)&&(M.od[U]=ye(P,6))}if(o.L=M.Tb==0?0:M.zd?1:2,P.Ka)return un(o,3,"cannot parse filter header");var ce=S;if(S=O=v,v=O+ce,M=ce,o.Xb=(1<<ue(o.m,2))-1,ce<3*(U=o.Xb))f=7;else{for(O+=3*U,M-=3*U,ce=0;ce<U;++ce){var Ne=f[S+0]|f[S+1]<<8|f[S+2]<<16;Ne>M&&(Ne=M),re(o.Jc[+ce],f,O,Ne),O+=Ne,M-=Ne,S+=3}re(o.Jc[+U],f,O,M),f=O<v?0:5}if(f!=0)return un(o,f,"cannot parse partitions");for(f=ue(O=o.m,7),S=le(O)?ye(O,4):0,v=le(O)?ye(O,4):0,M=le(O)?ye(O,4):0,U=le(O)?ye(O,4):0,O=le(O)?ye(O,4):0,ce=o.Qa,Ne=0;4>Ne;++Ne){if(ce.Cb){var we=ce.Zb[Ne];ce.Fb||(we+=f)}else{if(0<Ne){o.pb[Ne]=o.pb[0];continue}we=f}var me=o.pb[Ne];me.Sc[0]=oh[Br(we+S,127)],me.Sc[1]=lh[Br(we+0,127)],me.Eb[0]=2*oh[Br(we+v,127)],me.Eb[1]=101581*lh[Br(we+M,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=oh[Br(we+U,117)],me.Qc[1]=lh[Br(we+O,127)],me.lc=we+O}if(!I.Rb)return un(o,4,"Not a key frame.");for(le(P),I=o.Pa,f=0;4>f;++f){for(S=0;8>S;++S)for(v=0;3>v;++v)for(M=0;11>M;++M)U=j(P,yx[f][S][v][M])?ue(P,8):xx[f][S][v][M],I.Wc[f][S].Yb[v][M]=U;for(S=0;17>S;++S)I.Xc[f][S]=I.Wc[f][Nx[S]]}return o.kc=le(P),o.kc&&(o.Bd=ue(P,8)),o.cb=1}function ps(o,u,f,v,S,P,I){var M=u[S].Yb[f];for(f=0;16>S;++S){if(!j(o,M[f+0]))return S;for(;!j(o,M[f+1]);)if(M=u[++S].Yb[0],f=0,S==16)return 16;var O=u[S+1].Yb;if(j(o,M[f+2])){var U=o,ce=0;if(j(U,(we=M)[(Ne=f)+3]))if(j(U,we[Ne+6])){for(M=0,Ne=2*(ce=j(U,we[Ne+8]))+(we=j(U,we[Ne+9+ce])),ce=0,we=mx[Ne];we[M];++M)ce+=ce+j(U,we[M]);ce+=3+(8<<Ne)}else j(U,we[Ne+7])?(ce=7+2*j(U,165),ce+=j(U,145)):ce=5+j(U,159);else ce=j(U,we[Ne+4])?3+j(U,we[Ne+5]):2;M=O[2]}else ce=1,M=O[1];O=I+gx[S],0>(U=o).b&&K(U);var Ne,we=U.b,me=(Ne=U.Ca>>1)-(U.I>>we)>>31;--U.b,U.Ca+=me,U.Ca|=1,U.I-=(Ne+1&me)<<we,P[O]=((ce^me)-me)*v[(0<S)+0]}return 16}function ja(o){var u=o.rb[o.sb-1];u.la=0,u.Na=0,a(o.zc,0,0,o.zc.length),o.ja=0}function Xs(o,u){if(o==null)return 0;if(u==null)return un(o,2,"NULL VP8Io parameter in VP8Decode().");if(!o.cb&&!Xi(o,u))return 0;if(t(o.cb),u.ac==null||u.ac(u)){u.ob&&(o.L=0);var f=tu[o.L];if(o.L==2?(o.yb=0,o.zb=0):(o.yb=u.v-f>>4,o.zb=u.j-f>>4,0>o.yb&&(o.yb=0),0>o.zb&&(o.zb=0)),o.Va=u.o+15+f>>4,o.Hb=u.va+15+f>>4,o.Hb>o.za&&(o.Hb=o.za),o.Va>o.Ub&&(o.Va=o.Ub),0<o.L){var v=o.ed;for(f=0;4>f;++f){var S;if(o.Qa.Cb){var P=o.Qa.Lb[f];o.Qa.Fb||(P+=v.Tb)}else P=v.Tb;for(S=0;1>=S;++S){var I=o.gd[f][S],M=P;if(v.Pc&&(M+=v.vd[0],S&&(M+=v.od[0])),0<(M=0>M?0:63<M?63:M)){var O=M;0<v.wb&&(O=4<v.wb?O>>2:O>>1)>9-v.wb&&(O=9-v.wb),1>O&&(O=1),I.dd=O,I.tc=2*M+O,I.ld=40<=M?2:15<=M?1:0}else I.tc=0;I.La=S}}}f=0}else un(o,6,"Frame setup failed"),f=o.a;if(f=f==0){if(f){o.$c=0,0<o.Aa||(o.Ic=Dx);e:{f=o.Ic,v=4*(O=o.za);var U=32*O,ce=O+1,Ne=0<o.L?O*(0<o.Aa?2:1):0,we=(o.Aa==2?2:1)*O;if((I=v+832+(S=3*(16*f+tu[o.L])/2*U)+(P=o.Fa!=null&&0<o.Fa.length?o.Kc.c*o.Kc.i:0))!=I)f=0;else{if(I>o.Vb){if(o.Vb=0,o.Ec=s(I),o.Fc=0,o.Ec==null){f=un(o,1,"no memory during frame initialization.");break e}o.Vb=I}I=o.Ec,M=o.Fc,o.Ac=I,o.Bc=M,M+=v,o.Gd=l(U,Zr),o.Hd=0,o.rb=l(ce+1,Ws),o.sb=1,o.wa=Ne?l(Ne,ba):null,o.Y=0,o.D.Nb=0,o.D.wa=o.wa,o.D.Y=o.Y,0<o.Aa&&(o.D.Y+=O),t(!0),o.oc=I,o.pc=M,M+=832,o.ya=l(we,fs),o.aa=0,o.D.ya=o.ya,o.D.aa=o.aa,o.Aa==2&&(o.D.aa+=O),o.R=16*O,o.B=8*O,O=(U=tu[o.L])*o.R,U=U/2*o.B,o.sa=I,o.ta=M+O,o.qa=o.sa,o.ra=o.ta+16*f*o.R+U,o.Ha=o.qa,o.Ia=o.ra+8*f*o.B+U,o.$c=0,M+=S,o.mb=P?I:null,o.nb=P?M:null,t(M+P<=o.Fc+o.Vb),ja(o),a(o.Ac,o.Bc,0,v),f=1}}if(f){if(u.ka=0,u.y=o.sa,u.O=o.ta,u.f=o.qa,u.N=o.ra,u.ea=o.Ha,u.Vd=o.Ia,u.fa=o.R,u.Rc=o.B,u.F=null,u.J=0,!Gc){for(f=-255;255>=f;++f)Mn[255+f]=0>f?-f:f;for(f=-1020;1020>=f;++f)ta[1020+f]=-128>f?-128:127<f?127:f;for(f=-112;112>=f;++f)Ll[112+f]=-16>f?-16:15<f?15:f;for(f=-255;510>=f;++f)ho[255+f]=0>f?0:255<f?255:f;Gc=1}lo=ut,ea=B,Sl=je,pr=Oe,ni=Nt,Nn=ms,co=dl,Hc=vs,Cl=Zd,ws=hl,bs=Qd,Ia=Zs,js=fl,uo=Rc,Ss=Oc,Ta=Ti,kl=Ki,ri=Kd,gi[0]=Ii,gi[1]=At,gi[2]=Hd,gi[3]=Gd,gi[4]=Dc,gi[5]=Ks,gi[6]=Mc,gi[7]=ll,gi[8]=Jd,gi[9]=Wd,Da[0]=Ys,Da[1]=Pi,Da[2]=Mt,Da[3]=hr,Da[4]=er,Da[5]=Vd,Da[6]=Tc,na[0]=ka,na[1]=dn,na[2]=Xd,na[3]=cl,na[4]=xs,na[5]=Yd,na[6]=ul,f=1}else f=0}f&&(f=function(me,Te){for(me.M=0;me.M<me.Va;++me.M){var Se,de=me.Jc[me.M&me.Xb],pe=me.m,Pe=me;for(Se=0;Se<Pe.za;++Se){var De=pe,Ie=Pe,Qe=Ie.Ac,He=Ie.Bc+4*Se,dt=Ie.zc,We=Ie.ya[Ie.aa+Se];if(Ie.Qa.Bb?We.$b=j(De,Ie.Pa.jb[0])?2+j(De,Ie.Pa.jb[2]):j(De,Ie.Pa.jb[1]):We.$b=0,Ie.kc&&(We.Ad=j(De,Ie.Bd)),We.Za=!j(De,145)+0,We.Za){var qt=We.Ob,Ht=0;for(Ie=0;4>Ie;++Ie){var zt,Pt=dt[0+Ie];for(zt=0;4>zt;++zt){Pt=vx[Qe[He+zt]][Pt];for(var Kt=dm[j(De,Pt[0])];0<Kt;)Kt=dm[2*Kt+j(De,Pt[Kt])];Pt=-Kt,Qe[He+zt]=Pt}i(qt,Ht,Qe,He,4),Ht+=4,dt[0+Ie]=Pt}}else Pt=j(De,156)?j(De,128)?1:3:j(De,163)?2:0,We.Ob[0]=Pt,a(Qe,He,Pt,4),a(dt,0,Pt,4);We.Dd=j(De,142)?j(De,114)?j(De,183)?1:3:2:0}if(Pe.m.Ka)return un(me,7,"Premature end-of-partition0 encountered.");for(;me.ja<me.za;++me.ja){if(Pe=de,De=(pe=me).rb[pe.sb-1],Qe=pe.rb[pe.sb+pe.ja],Se=pe.ya[pe.aa+pe.ja],He=pe.kc?Se.Ad:0)De.la=Qe.la=0,Se.Za||(De.Na=Qe.Na=0),Se.Hc=0,Se.Gc=0,Se.ia=0;else{var Yt,St;if(De=Qe,Qe=Pe,He=pe.Pa.Xc,dt=pe.ya[pe.aa+pe.ja],We=pe.pb[dt.$b],Ie=dt.ad,qt=0,Ht=pe.rb[pe.sb-1],Pt=zt=0,a(Ie,qt,0,384),dt.Za)var An=0,kr=He[3];else{Kt=s(16);var _n=De.Na+Ht.Na;if(_n=Al(Qe,He[1],_n,We.Eb,0,Kt,0),De.Na=Ht.Na=(0<_n)+0,1<_n)lo(Kt,0,Ie,qt);else{var Lr=Kt[0]+3>>3;for(Kt=0;256>Kt;Kt+=16)Ie[qt+Kt]=Lr}An=1,kr=He[0]}var Gt=15&De.la,$r=15&Ht.la;for(Kt=0;4>Kt;++Kt){var Ur=1&$r;for(Lr=St=0;4>Lr;++Lr)Gt=Gt>>1|(Ur=(_n=Al(Qe,kr,_n=Ur+(1&Gt),We.Sc,An,Ie,qt))>An)<<7,St=St<<2|(3<_n?3:1<_n?2:Ie[qt+0]!=0),qt+=16;Gt>>=4,$r=$r>>1|Ur<<7,zt=(zt<<8|St)>>>0}for(kr=Gt,An=$r>>4,Yt=0;4>Yt;Yt+=2){for(St=0,Gt=De.la>>4+Yt,$r=Ht.la>>4+Yt,Kt=0;2>Kt;++Kt){for(Ur=1&$r,Lr=0;2>Lr;++Lr)_n=Ur+(1&Gt),Gt=Gt>>1|(Ur=0<(_n=Al(Qe,He[2],_n,We.Qc,0,Ie,qt)))<<3,St=St<<2|(3<_n?3:1<_n?2:Ie[qt+0]!=0),qt+=16;Gt>>=2,$r=$r>>1|Ur<<5}Pt|=St<<4*Yt,kr|=Gt<<4<<Yt,An|=(240&$r)<<Yt}De.la=kr,Ht.la=An,dt.Hc=zt,dt.Gc=Pt,dt.ia=43690&Pt?0:We.ia,He=!(zt|Pt)}if(0<pe.L&&(pe.wa[pe.Y+pe.ja]=pe.gd[Se.$b][Se.Za],pe.wa[pe.Y+pe.ja].La|=!He),Pe.Ka)return un(me,7,"Premature end-of-file encountered.")}if(ja(me),pe=Te,Pe=1,Se=(de=me).D,De=0<de.L&&de.M>=de.zb&&de.M<=de.Va,de.Aa==0)e:{if(Se.M=de.M,Se.uc=De,yl(de,Se),Pe=1,Se=(St=de.D).Nb,De=(Pt=tu[de.L])*de.R,Qe=Pt/2*de.B,Kt=16*Se*de.R,Lr=8*Se*de.B,He=de.sa,dt=de.ta-De+Kt,We=de.qa,Ie=de.ra-Qe+Lr,qt=de.Ha,Ht=de.Ia-Qe+Lr,$r=(Gt=St.M)==0,zt=Gt>=de.Va-1,de.Aa==2&&yl(de,St),St.uc)for(Ur=(_n=de).D.M,t(_n.D.uc),St=_n.yb;St<_n.Hb;++St){An=St,kr=Ur;var Bn=(Jn=(xn=_n).D).Nb;Yt=xn.R;var Jn=Jn.wa[Jn.Y+An],mr=xn.sa,oi=xn.ta+16*Bn*Yt+16*An,Mi=Jn.dd,qn=Jn.tc;if(qn!=0)if(t(3<=qn),xn.L==1)0<An&&Ta(mr,oi,Yt,qn+4),Jn.La&&ri(mr,oi,Yt,qn),0<kr&&Ss(mr,oi,Yt,qn+4),Jn.La&&kl(mr,oi,Yt,qn);else{var ra=xn.B,Cs=xn.qa,fo=xn.ra+8*Bn*ra+8*An,za=xn.Ha,xn=xn.Ia+8*Bn*ra+8*An;Bn=Jn.ld,0<An&&(Hc(mr,oi,Yt,qn+4,Mi,Bn),ws(Cs,fo,za,xn,ra,qn+4,Mi,Bn)),Jn.La&&(Ia(mr,oi,Yt,qn,Mi,Bn),uo(Cs,fo,za,xn,ra,qn,Mi,Bn)),0<kr&&(co(mr,oi,Yt,qn+4,Mi,Bn),Cl(Cs,fo,za,xn,ra,qn+4,Mi,Bn)),Jn.La&&(bs(mr,oi,Yt,qn,Mi,Bn),js(Cs,fo,za,xn,ra,qn,Mi,Bn))}}if(de.ia&&alert("todo:DitherRow"),pe.put!=null){if(St=16*Gt,Gt=16*(Gt+1),$r?(pe.y=de.sa,pe.O=de.ta+Kt,pe.f=de.qa,pe.N=de.ra+Lr,pe.ea=de.Ha,pe.W=de.Ia+Lr):(St-=Pt,pe.y=He,pe.O=dt,pe.f=We,pe.N=Ie,pe.ea=qt,pe.W=Ht),zt||(Gt-=Pt),Gt>pe.o&&(Gt=pe.o),pe.F=null,pe.J=null,de.Fa!=null&&0<de.Fa.length&&St<Gt&&(pe.J=xl(de,pe,St,Gt-St),pe.F=de.mb,pe.F==null&&pe.F.length==0)){Pe=un(de,3,"Could not decode alpha data.");break e}St<pe.j&&(Pt=pe.j-St,St=pe.j,t(!(1&Pt)),pe.O+=de.R*Pt,pe.N+=de.B*(Pt>>1),pe.W+=de.B*(Pt>>1),pe.F!=null&&(pe.J+=pe.width*Pt)),St<Gt&&(pe.O+=pe.v,pe.N+=pe.v>>1,pe.W+=pe.v>>1,pe.F!=null&&(pe.J+=pe.v),pe.ka=St-pe.j,pe.U=pe.va-pe.v,pe.T=Gt-St,Pe=pe.put(pe))}Se+1!=de.Ic||zt||(i(de.sa,de.ta-De,He,dt+16*de.R,De),i(de.qa,de.ra-Qe,We,Ie+8*de.B,Qe),i(de.Ha,de.Ia-Qe,qt,Ht+8*de.B,Qe))}if(!Pe)return un(me,6,"Output aborted.")}return 1}(o,u)),u.bc!=null&&u.bc(u),f&=1}return f?(o.cb=0,f):0}function jr(o,u,f,v,S){S=o[u+f+32*v]+(S>>3),o[u+f+32*v]=-256&S?0>S?0:255:S}function Yi(o,u,f,v,S,P){jr(o,u,0,f,v+S),jr(o,u,1,f,v+P),jr(o,u,2,f,v-P),jr(o,u,3,f,v-S)}function Gn(o){return(20091*o>>16)+o}function Sa(o,u,f,v){var S,P=0,I=s(16);for(S=0;4>S;++S){var M=o[u+0]+o[u+8],O=o[u+0]-o[u+8],U=(35468*o[u+4]>>16)-Gn(o[u+12]),ce=Gn(o[u+4])+(35468*o[u+12]>>16);I[P+0]=M+ce,I[P+1]=O+U,I[P+2]=O-U,I[P+3]=M-ce,P+=4,u++}for(S=P=0;4>S;++S)M=(o=I[P+0]+4)+I[P+8],O=o-I[P+8],U=(35468*I[P+4]>>16)-Gn(I[P+12]),jr(f,v,0,0,M+(ce=Gn(I[P+4])+(35468*I[P+12]>>16))),jr(f,v,1,0,O+U),jr(f,v,2,0,O-U),jr(f,v,3,0,M-ce),P++,v+=32}function ms(o,u,f,v){var S=o[u+0]+4,P=35468*o[u+4]>>16,I=Gn(o[u+4]),M=35468*o[u+1]>>16;Yi(f,v,0,S+I,o=Gn(o[u+1]),M),Yi(f,v,1,S+P,o,M),Yi(f,v,2,S-P,o,M),Yi(f,v,3,S-I,o,M)}function B(o,u,f,v,S){Sa(o,u,f,v),S&&Sa(o,u+16,f,v+4)}function je(o,u,f,v){ea(o,u+0,f,v,1),ea(o,u+32,f,v+128,1)}function Oe(o,u,f,v){var S;for(o=o[u+0]+4,S=0;4>S;++S)for(u=0;4>u;++u)jr(f,v,u,S,o)}function Nt(o,u,f,v){o[u+0]&&pr(o,u+0,f,v),o[u+16]&&pr(o,u+16,f,v+4),o[u+32]&&pr(o,u+32,f,v+128),o[u+48]&&pr(o,u+48,f,v+128+4)}function ut(o,u,f,v){var S,P=s(16);for(S=0;4>S;++S){var I=o[u+0+S]+o[u+12+S],M=o[u+4+S]+o[u+8+S],O=o[u+4+S]-o[u+8+S],U=o[u+0+S]-o[u+12+S];P[0+S]=I+M,P[8+S]=I-M,P[4+S]=U+O,P[12+S]=U-O}for(S=0;4>S;++S)I=(o=P[0+4*S]+3)+P[3+4*S],M=P[1+4*S]+P[2+4*S],O=P[1+4*S]-P[2+4*S],U=o-P[3+4*S],f[v+0]=I+M>>3,f[v+16]=U+O>>3,f[v+32]=I-M>>3,f[v+48]=U-O>>3,v+=64}function xt(o,u,f){var v,S=u-32,P=qr,I=255-o[S-1];for(v=0;v<f;++v){var M,O=P,U=I+o[u-1];for(M=0;M<f;++M)o[u+M]=O[U+o[S+M]];u+=32}}function At(o,u){xt(o,u,4)}function dn(o,u){xt(o,u,8)}function Pi(o,u){xt(o,u,16)}function Mt(o,u){var f;for(f=0;16>f;++f)i(o,u+32*f,o,u-32,16)}function hr(o,u){var f;for(f=16;0<f;--f)a(o,u,o[u-1],16),u+=32}function Ca(o,u,f){var v;for(v=0;16>v;++v)a(u,f+32*v,o,16)}function Ys(o,u){var f,v=16;for(f=0;16>f;++f)v+=o[u-1+32*f]+o[u+f-32];Ca(v>>5,o,u)}function er(o,u){var f,v=8;for(f=0;16>f;++f)v+=o[u-1+32*f];Ca(v>>4,o,u)}function Vd(o,u){var f,v=8;for(f=0;16>f;++f)v+=o[u+f-32];Ca(v>>4,o,u)}function Tc(o,u){Ca(128,o,u)}function vt(o,u,f){return o+2*u+f+2>>2}function Hd(o,u){var f,v=u-32;for(v=new Uint8Array([vt(o[v-1],o[v+0],o[v+1]),vt(o[v+0],o[v+1],o[v+2]),vt(o[v+1],o[v+2],o[v+3]),vt(o[v+2],o[v+3],o[v+4])]),f=0;4>f;++f)i(o,u+32*f,v,0,v.length)}function Gd(o,u){var f=o[u-1],v=o[u-1+32],S=o[u-1+64],P=o[u-1+96];V(o,u+0,16843009*vt(o[u-1-32],f,v)),V(o,u+32,16843009*vt(f,v,S)),V(o,u+64,16843009*vt(v,S,P)),V(o,u+96,16843009*vt(S,P,P))}function Ii(o,u){var f,v=4;for(f=0;4>f;++f)v+=o[u+f-32]+o[u-1+32*f];for(v>>=3,f=0;4>f;++f)a(o,u+32*f,v,4)}function Dc(o,u){var f=o[u-1+0],v=o[u-1+32],S=o[u-1+64],P=o[u-1-32],I=o[u+0-32],M=o[u+1-32],O=o[u+2-32],U=o[u+3-32];o[u+0+96]=vt(v,S,o[u-1+96]),o[u+1+96]=o[u+0+64]=vt(f,v,S),o[u+2+96]=o[u+1+64]=o[u+0+32]=vt(P,f,v),o[u+3+96]=o[u+2+64]=o[u+1+32]=o[u+0+0]=vt(I,P,f),o[u+3+64]=o[u+2+32]=o[u+1+0]=vt(M,I,P),o[u+3+32]=o[u+2+0]=vt(O,M,I),o[u+3+0]=vt(U,O,M)}function Mc(o,u){var f=o[u+1-32],v=o[u+2-32],S=o[u+3-32],P=o[u+4-32],I=o[u+5-32],M=o[u+6-32],O=o[u+7-32];o[u+0+0]=vt(o[u+0-32],f,v),o[u+1+0]=o[u+0+32]=vt(f,v,S),o[u+2+0]=o[u+1+32]=o[u+0+64]=vt(v,S,P),o[u+3+0]=o[u+2+32]=o[u+1+64]=o[u+0+96]=vt(S,P,I),o[u+3+32]=o[u+2+64]=o[u+1+96]=vt(P,I,M),o[u+3+64]=o[u+2+96]=vt(I,M,O),o[u+3+96]=vt(M,O,O)}function Ks(o,u){var f=o[u-1+0],v=o[u-1+32],S=o[u-1+64],P=o[u-1-32],I=o[u+0-32],M=o[u+1-32],O=o[u+2-32],U=o[u+3-32];o[u+0+0]=o[u+1+64]=P+I+1>>1,o[u+1+0]=o[u+2+64]=I+M+1>>1,o[u+2+0]=o[u+3+64]=M+O+1>>1,o[u+3+0]=O+U+1>>1,o[u+0+96]=vt(S,v,f),o[u+0+64]=vt(v,f,P),o[u+0+32]=o[u+1+96]=vt(f,P,I),o[u+1+32]=o[u+2+96]=vt(P,I,M),o[u+2+32]=o[u+3+96]=vt(I,M,O),o[u+3+32]=vt(M,O,U)}function ll(o,u){var f=o[u+0-32],v=o[u+1-32],S=o[u+2-32],P=o[u+3-32],I=o[u+4-32],M=o[u+5-32],O=o[u+6-32],U=o[u+7-32];o[u+0+0]=f+v+1>>1,o[u+1+0]=o[u+0+64]=v+S+1>>1,o[u+2+0]=o[u+1+64]=S+P+1>>1,o[u+3+0]=o[u+2+64]=P+I+1>>1,o[u+0+32]=vt(f,v,S),o[u+1+32]=o[u+0+96]=vt(v,S,P),o[u+2+32]=o[u+1+96]=vt(S,P,I),o[u+3+32]=o[u+2+96]=vt(P,I,M),o[u+3+64]=vt(I,M,O),o[u+3+96]=vt(M,O,U)}function Wd(o,u){var f=o[u-1+0],v=o[u-1+32],S=o[u-1+64],P=o[u-1+96];o[u+0+0]=f+v+1>>1,o[u+2+0]=o[u+0+32]=v+S+1>>1,o[u+2+32]=o[u+0+64]=S+P+1>>1,o[u+1+0]=vt(f,v,S),o[u+3+0]=o[u+1+32]=vt(v,S,P),o[u+3+32]=o[u+1+64]=vt(S,P,P),o[u+3+64]=o[u+2+64]=o[u+0+96]=o[u+1+96]=o[u+2+96]=o[u+3+96]=P}function Jd(o,u){var f=o[u-1+0],v=o[u-1+32],S=o[u-1+64],P=o[u-1+96],I=o[u-1-32],M=o[u+0-32],O=o[u+1-32],U=o[u+2-32];o[u+0+0]=o[u+2+32]=f+I+1>>1,o[u+0+32]=o[u+2+64]=v+f+1>>1,o[u+0+64]=o[u+2+96]=S+v+1>>1,o[u+0+96]=P+S+1>>1,o[u+3+0]=vt(M,O,U),o[u+2+0]=vt(I,M,O),o[u+1+0]=o[u+3+32]=vt(f,I,M),o[u+1+32]=o[u+3+64]=vt(v,f,I),o[u+1+64]=o[u+3+96]=vt(S,v,f),o[u+1+96]=vt(P,S,v)}function Xd(o,u){var f;for(f=0;8>f;++f)i(o,u+32*f,o,u-32,8)}function cl(o,u){var f;for(f=0;8>f;++f)a(o,u,o[u-1],8),u+=32}function gs(o,u,f){var v;for(v=0;8>v;++v)a(u,f+32*v,o,8)}function ka(o,u){var f,v=8;for(f=0;8>f;++f)v+=o[u+f-32]+o[u-1+32*f];gs(v>>4,o,u)}function Yd(o,u){var f,v=4;for(f=0;8>f;++f)v+=o[u+f-32];gs(v>>3,o,u)}function xs(o,u){var f,v=4;for(f=0;8>f;++f)v+=o[u-1+32*f];gs(v>>3,o,u)}function ul(o,u){gs(128,o,u)}function Qs(o,u,f){var v=o[u-f],S=o[u+0],P=3*(S-v)+nh[1020+o[u-2*f]-o[u+f]],I=Wc[112+(P+4>>3)];o[u-f]=qr[255+v+Wc[112+(P+3>>3)]],o[u+0]=qr[255+S-I]}function zc(o,u,f,v){var S=o[u+0],P=o[u+f];return ai[255+o[u-2*f]-o[u-f]]>v||ai[255+P-S]>v}function Ec(o,u,f,v){return 4*ai[255+o[u-f]-o[u+0]]+ai[255+o[u-2*f]-o[u+f]]<=v}function Fc(o,u,f,v,S){var P=o[u-3*f],I=o[u-2*f],M=o[u-f],O=o[u+0],U=o[u+f],ce=o[u+2*f],Ne=o[u+3*f];return 4*ai[255+M-O]+ai[255+I-U]>v?0:ai[255+o[u-4*f]-P]<=S&&ai[255+P-I]<=S&&ai[255+I-M]<=S&&ai[255+Ne-ce]<=S&&ai[255+ce-U]<=S&&ai[255+U-O]<=S}function Oc(o,u,f,v){var S=2*v+1;for(v=0;16>v;++v)Ec(o,u+v,f,S)&&Qs(o,u+v,f)}function Ti(o,u,f,v){var S=2*v+1;for(v=0;16>v;++v)Ec(o,u+v*f,1,S)&&Qs(o,u+v*f,1)}function Ki(o,u,f,v){var S;for(S=3;0<S;--S)Oc(o,u+=4*f,f,v)}function Kd(o,u,f,v){var S;for(S=3;0<S;--S)Ti(o,u+=4,f,v)}function La(o,u,f,v,S,P,I,M){for(P=2*P+1;0<S--;){if(Fc(o,u,f,P,I))if(zc(o,u,f,M))Qs(o,u,f);else{var O=o,U=u,ce=f,Ne=O[U-2*ce],we=O[U-ce],me=O[U+0],Te=O[U+ce],Se=O[U+2*ce],de=27*(Pe=nh[1020+3*(me-we)+nh[1020+Ne-Te]])+63>>7,pe=18*Pe+63>>7,Pe=9*Pe+63>>7;O[U-3*ce]=qr[255+O[U-3*ce]+Pe],O[U-2*ce]=qr[255+Ne+pe],O[U-ce]=qr[255+we+de],O[U+0]=qr[255+me-de],O[U+ce]=qr[255+Te-pe],O[U+2*ce]=qr[255+Se-Pe]}u+=v}}function pi(o,u,f,v,S,P,I,M){for(P=2*P+1;0<S--;){if(Fc(o,u,f,P,I))if(zc(o,u,f,M))Qs(o,u,f);else{var O=o,U=u,ce=f,Ne=O[U-ce],we=O[U+0],me=O[U+ce],Te=Wc[112+((Se=3*(we-Ne))+4>>3)],Se=Wc[112+(Se+3>>3)],de=Te+1>>1;O[U-2*ce]=qr[255+O[U-2*ce]+de],O[U-ce]=qr[255+Ne+Se],O[U+0]=qr[255+we-Te],O[U+ce]=qr[255+me-de]}u+=v}}function dl(o,u,f,v,S,P){La(o,u,f,1,16,v,S,P)}function vs(o,u,f,v,S,P){La(o,u,1,f,16,v,S,P)}function Qd(o,u,f,v,S,P){var I;for(I=3;0<I;--I)pi(o,u+=4*f,f,1,16,v,S,P)}function Zs(o,u,f,v,S,P){var I;for(I=3;0<I;--I)pi(o,u+=4,1,f,16,v,S,P)}function Zd(o,u,f,v,S,P,I,M){La(o,u,S,1,8,P,I,M),La(f,v,S,1,8,P,I,M)}function hl(o,u,f,v,S,P,I,M){La(o,u,1,S,8,P,I,M),La(f,v,1,S,8,P,I,M)}function fl(o,u,f,v,S,P,I,M){pi(o,u+4*S,S,1,8,P,I,M),pi(f,v+4*S,S,1,8,P,I,M)}function Rc(o,u,f,v,S,P,I,M){pi(o,u+4,1,S,8,P,I,M),pi(f,v+4,1,S,8,P,I,M)}function eo(){this.ba=new Fn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ot,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ml(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bc(){this.ua=0,this.Wa=new W,this.vb=new W,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new z}function eh(){this.xb=this.a=0,this.l=new ei,this.ca=new Fn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bc,this.ab=0,this.gc=l(4,ml),this.Oc=0}function to(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ei,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ys(o,u,f,v,S,P,I){for(o=o==null?0:o[u+0],u=0;u<I;++u)S[P+u]=o+f[v+u]&255,o=S[P+u]}function gl(o,u,f,v,S,P,I){var M;if(o==null)ys(null,null,f,v,S,P,I);else for(M=0;M<I;++M)S[P+M]=o[u+M]+f[v+M]&255}function Aa(o,u,f,v,S,P,I){if(o==null)ys(null,null,f,v,S,P,I);else{var M,O=o[u+0],U=O,ce=O;for(M=0;M<I;++M)U=ce+(O=o[u+M])-U,ce=f[v+M]+(-256&U?0>U?0:255:U)&255,U=O,S[P+M]=ce}}function xl(o,u,f,v){var S=u.width,P=u.o;if(t(o!=null&&u!=null),0>f||0>=v||f+v>P)return null;if(!o.Cc){if(o.ga==null){var I;if(o.ga=new to,(I=o.ga==null)||(I=u.width*u.o,t(o.Gb.length==0),o.Gb=s(I),o.Uc=0,o.Gb==null?I=0:(o.mb=o.Gb,o.nb=o.Uc,o.rc=null,I=1),I=!I),!I){I=o.ga;var M=o.Fa,O=o.P,U=o.qc,ce=o.mb,Ne=o.nb,we=O+1,me=U-1,Te=I.l;if(t(M!=null&&ce!=null&&u!=null),Ma[0]=null,Ma[1]=ys,Ma[2]=gl,Ma[3]=Aa,I.ca=ce,I.tb=Ne,I.c=u.width,I.i=u.height,t(0<I.c&&0<I.i),1>=U)u=0;else if(I.$a=M[O+0]>>0&3,I.Z=M[O+0]>>2&3,I.Lc=M[O+0]>>4&3,O=M[O+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||O)u=0;else if(Te.put=et,Te.ac=Ae,Te.bc=yt,Te.ma=I,Te.width=u.width,Te.height=u.height,Te.Da=u.Da,Te.v=u.v,Te.va=u.va,Te.j=u.j,Te.o=u.o,I.$a)e:{t(I.$a==1),u=br();t:for(;;){if(u==null){u=0;break e}if(t(I!=null),I.mc=u,u.c=I.c,u.i=I.i,u.l=I.l,u.l.ma=I,u.l.width=I.c,u.l.height=I.i,u.a=0,X(u.m,M,we,me),!Tn(I.c,I.i,1,u,null)||(u.ab==1&&u.gc[0].hc==3&&dr(u.s)?(I.ic=1,M=u.c*u.i,u.Ta=null,u.Ua=0,u.V=s(M),u.Ba=0,u.V==null?(u.a=1,u=0):u=1):(I.ic=0,u=Gi(u,I.c)),!u))break t;u=1;break e}I.mc=null,u=0}else u=me>=I.c*I.i;I=!u}if(I)return null;o.ga.Lc!=1?o.Ga=0:v=P-f}t(o.ga!=null),t(f+v<=P);e:{if(u=(M=o.ga).c,P=M.l.o,M.$a==0){if(we=o.rc,me=o.Vc,Te=o.Fa,O=o.P+1+f*u,U=o.mb,ce=o.nb+f*u,t(O<=o.P+o.qc),M.Z!=0)for(t(Ma[M.Z]!=null),I=0;I<v;++I)Ma[M.Z](we,me,Te,O,U,ce,u),we=U,me=ce,ce+=u,O+=u;else for(I=0;I<v;++I)i(U,ce,Te,O,u),we=U,me=ce,ce+=u,O+=u;o.rc=we,o.Vc=me}else{if(t(M.mc!=null),u=f+v,t((I=M.mc)!=null),t(u<=I.i),I.C>=u)u=1;else if(M.ic||ve(),M.ic){M=I.V,we=I.Ba,me=I.c;var Se=I.i,de=(Te=1,O=I.$/me,U=I.$%me,ce=I.m,Ne=I.s,I.$),pe=me*Se,Pe=me*u,De=Ne.wc,Ie=de<Pe?Rt(Ne,U,O):null;t(de<=pe),t(u<=Se),t(dr(Ne));t:for(;;){for(;!ce.h&&de<Pe;){if(U&De||(Ie=Rt(Ne,U,O)),t(Ie!=null),Z(ce),256>(Se=Ut(Ie.G[0],Ie.H[0],ce)))M[we+de]=Se,++de,++U>=me&&(U=0,++O<=u&&!(O%16)&&Rr(I,O));else{if(!(280>Se)){Te=0;break t}Se=$t(Se-256,ce);var Qe,He=Ut(Ie.G[4],Ie.H[4],ce);if(Z(ce),!(de>=(He=Lt(me,He=$t(He,ce)))&&pe-de>=Se)){Te=0;break t}for(Qe=0;Qe<Se;++Qe)M[we+de+Qe]=M[we+de+Qe-He];for(de+=Se,U+=Se;U>=me;)U-=me,++O<=u&&!(O%16)&&Rr(I,O);de<Pe&&U&De&&(Ie=Rt(Ne,U,O))}t(ce.h==G(ce))}Rr(I,O>u?u:O);break t}!Te||ce.h&&de<pe?(Te=0,I.a=ce.h?5:3):I.$=de,u=Te}else u=wr(I,I.V,I.Ba,I.c,I.i,u,ya);if(!u){v=0;break e}}f+v>=P&&(o.Cc=1),v=1}if(!v)return null;if(o.Cc&&((v=o.ga)!=null&&(v.mc=null),o.ga=null,0<o.Ga))return alert("todo:WebPDequantizeLevels"),null}return o.nb+f*S}function h(o,u,f,v,S,P){for(;0<S--;){var I,M=o,O=u+(f?1:0),U=o,ce=u+(f?0:3);for(I=0;I<v;++I){var Ne=U[ce+4*I];Ne!=255&&(Ne*=32897,M[O+4*I+0]=M[O+4*I+0]*Ne>>23,M[O+4*I+1]=M[O+4*I+1]*Ne>>23,M[O+4*I+2]=M[O+4*I+2]*Ne>>23)}u+=P}}function C(o,u,f,v,S){for(;0<v--;){var P;for(P=0;P<f;++P){var I=o[u+2*P+0],M=15&(U=o[u+2*P+1]),O=4369*M,U=(240&U|U>>4)*O>>16;o[u+2*P+0]=(240&I|I>>4)*O>>16&240|(15&I|I<<4)*O>>16>>4&15,o[u+2*P+1]=240&U|M}u+=S}}function Q(o,u,f,v,S,P,I,M){var O,U,ce=255;for(U=0;U<S;++U){for(O=0;O<v;++O){var Ne=o[u+O];P[I+4*O]=Ne,ce&=Ne}u+=f,I+=M}return ce!=255}function ie(o,u,f,v,S){var P;for(P=0;P<S;++P)f[v+P]=o[u+P]>>8}function ve(){ii=h,tn=C,nn=Q,wn=ie}function ke(o,u,f){R[o]=function(v,S,P,I,M,O,U,ce,Ne,we,me,Te,Se,de,pe,Pe,De){var Ie,Qe=De-1>>1,He=M[O+0]|U[ce+0]<<16,dt=Ne[we+0]|me[Te+0]<<16;t(v!=null);var We=3*He+dt+131074>>2;for(u(v[S+0],255&We,We>>16,Se,de),P!=null&&(We=3*dt+He+131074>>2,u(P[I+0],255&We,We>>16,pe,Pe)),Ie=1;Ie<=Qe;++Ie){var qt=M[O+Ie]|U[ce+Ie]<<16,Ht=Ne[we+Ie]|me[Te+Ie]<<16,zt=He+qt+dt+Ht+524296,Pt=zt+2*(qt+dt)>>3;We=Pt+He>>1,He=(zt=zt+2*(He+Ht)>>3)+qt>>1,u(v[S+2*Ie-1],255&We,We>>16,Se,de+(2*Ie-1)*f),u(v[S+2*Ie-0],255&He,He>>16,Se,de+(2*Ie-0)*f),P!=null&&(We=zt+dt>>1,He=Pt+Ht>>1,u(P[I+2*Ie-1],255&We,We>>16,pe,Pe+(2*Ie-1)*f),u(P[I+2*Ie+0],255&He,He>>16,pe,Pe+(2*Ie+0)*f)),He=qt,dt=Ht}1&De||(We=3*He+dt+131074>>2,u(v[S+De-1],255&We,We>>16,Se,de+(De-1)*f),P!=null&&(We=3*dt+He+131074>>2,u(P[I+De-1],255&We,We>>16,pe,Pe+(De-1)*f)))}}function Fe(){si[Jc]=bx,si[Xc]=fm,si[lm]=jx,si[Yc]=pm,si[Kc]=mm,si[rh]=gm,si[cm]=Sx,si[ih]=fm,si[ah]=pm,si[Qc]=mm,si[sh]=gm}function Ye(o){return o&~Cx?0>o?0:255:o>>xm}function lt(o,u){return Ye((19077*o>>8)+(26149*u>>8)-14234)}function jt(o,u,f){return Ye((19077*o>>8)-(6419*u>>8)-(13320*f>>8)+8708)}function wt(o,u){return Ye((19077*o>>8)+(33050*u>>8)-17685)}function Tt(o,u,f,v,S){v[S+0]=lt(o,f),v[S+1]=jt(o,u,f),v[S+2]=wt(o,u)}function hn(o,u,f,v,S){v[S+0]=wt(o,u),v[S+1]=jt(o,u,f),v[S+2]=lt(o,f)}function gn(o,u,f,v,S){var P=jt(o,u,f);u=P<<3&224|wt(o,u)>>3,v[S+0]=248&lt(o,f)|P>>5,v[S+1]=u}function Ln(o,u,f,v,S){var P=240&wt(o,u)|15;v[S+0]=240&lt(o,f)|jt(o,u,f)>>4,v[S+1]=P}function tr(o,u,f,v,S){v[S+0]=255,Tt(o,u,f,v,S+1)}function Rn(o,u,f,v,S){hn(o,u,f,v,S),v[S+3]=255}function mi(o,u,f,v,S){Tt(o,u,f,v,S),v[S+3]=255}function Br(o,u){return 0>o?0:o>u?u:o}function Di(o,u,f){R[o]=function(v,S,P,I,M,O,U,ce,Ne){for(var we=ce+(-2&Ne)*f;ce!=we;)u(v[S+0],P[I+0],M[O+0],U,ce),u(v[S+1],P[I+0],M[O+0],U,ce+f),S+=2,++I,++O,ce+=2*f;1&Ne&&u(v[S+0],P[I+0],M[O+0],U,ce)}}function qc(o,u,f){return f==0?o==0?u==0?6:5:u==0?4:0:f}function vl(o,u,f,v,S){switch(o>>>30){case 3:ea(u,f,v,S,0);break;case 2:Nn(u,f,v,S);break;case 1:pr(u,f,v,S)}}function yl(o,u){var f,v,S=u.M,P=u.Nb,I=o.oc,M=o.pc+40,O=o.oc,U=o.pc+584,ce=o.oc,Ne=o.pc+600;for(f=0;16>f;++f)I[M+32*f-1]=129;for(f=0;8>f;++f)O[U+32*f-1]=129,ce[Ne+32*f-1]=129;for(0<S?I[M-1-32]=O[U-1-32]=ce[Ne-1-32]=129:(a(I,M-32-1,127,21),a(O,U-32-1,127,9),a(ce,Ne-32-1,127,9)),v=0;v<o.za;++v){var we=u.ya[u.aa+v];if(0<v){for(f=-1;16>f;++f)i(I,M+32*f-4,I,M+32*f+12,4);for(f=-1;8>f;++f)i(O,U+32*f-4,O,U+32*f+4,4),i(ce,Ne+32*f-4,ce,Ne+32*f+4,4)}var me=o.Gd,Te=o.Hd+v,Se=we.ad,de=we.Hc;if(0<S&&(i(I,M-32,me[Te].y,0,16),i(O,U-32,me[Te].f,0,8),i(ce,Ne-32,me[Te].ea,0,8)),we.Za){var pe=I,Pe=M-32+16;for(0<S&&(v>=o.za-1?a(pe,Pe,me[Te].y[15],4):i(pe,Pe,me[Te+1].y,0,4)),f=0;4>f;f++)pe[Pe+128+f]=pe[Pe+256+f]=pe[Pe+384+f]=pe[Pe+0+f];for(f=0;16>f;++f,de<<=2)pe=I,Pe=M+ym[f],gi[we.Ob[f]](pe,Pe),vl(de,Se,16*+f,pe,Pe)}else if(pe=qc(v,S,we.Ob[0]),Da[pe](I,M),de!=0)for(f=0;16>f;++f,de<<=2)vl(de,Se,16*+f,I,M+ym[f]);for(f=we.Gc,pe=qc(v,S,we.Dd),na[pe](O,U),na[pe](ce,Ne),de=Se,pe=O,Pe=U,255&(we=f>>0)&&(170&we?Sl(de,256,pe,Pe):ni(de,256,pe,Pe)),we=ce,de=Ne,255&(f>>=8)&&(170&f?Sl(Se,320,we,de):ni(Se,320,we,de)),S<o.Ub-1&&(i(me[Te].y,0,I,M+480,16),i(me[Te].f,0,O,U+224,8),i(me[Te].ea,0,ce,Ne+224,8)),f=8*P*o.B,me=o.sa,Te=o.ta+16*v+16*P*o.R,Se=o.qa,we=o.ra+8*v+f,de=o.Ha,pe=o.Ia+8*v+f,f=0;16>f;++f)i(me,Te+f*o.R,I,M+32*f,16);for(f=0;8>f;++f)i(Se,we+f*o.B,O,U+32*f,8),i(de,pe+f*o.B,ce,Ne+32*f,8)}}function no(o,u,f,v,S,P,I,M,O){var U=[0],ce=[0],Ne=0,we=O!=null?O.kd:0,me=O??new pl;if(o==null||12>f)return 7;me.data=o,me.w=u,me.ha=f,u=[u],f=[f],me.gb=[me.gb];e:{var Te=u,Se=f,de=me.gb;if(t(o!=null),t(Se!=null),t(de!=null),de[0]=0,12<=Se[0]&&!n(o,Te[0],"RIFF")){if(n(o,Te[0]+8,"WEBP")){de=3;break e}var pe=be(o,Te[0]+4);if(12>pe||4294967286<pe){de=3;break e}if(we&&pe>Se[0]-8){de=7;break e}de[0]=pe,Te[0]+=12,Se[0]-=12}de=0}if(de!=0)return de;for(pe=0<me.gb[0],f=f[0];;){e:{var Pe=o;Se=u,de=f;var De=U,Ie=ce,Qe=Te=[0];if((We=Ne=[Ne])[0]=0,8>de[0])de=7;else{if(!n(Pe,Se[0],"VP8X")){if(be(Pe,Se[0]+4)!=10){de=3;break e}if(18>de[0]){de=7;break e}var He=be(Pe,Se[0]+8),dt=1+ae(Pe,Se[0]+12);if(2147483648<=dt*(Pe=1+ae(Pe,Se[0]+15))){de=3;break e}Qe!=null&&(Qe[0]=He),De!=null&&(De[0]=dt),Ie!=null&&(Ie[0]=Pe),Se[0]+=18,de[0]-=18,We[0]=1}de=0}}if(Ne=Ne[0],Te=Te[0],de!=0)return de;if(Se=!!(2&Te),!pe&&Ne)return 3;if(P!=null&&(P[0]=!!(16&Te)),I!=null&&(I[0]=Se),M!=null&&(M[0]=0),I=U[0],Te=ce[0],Ne&&Se&&O==null){de=0;break}if(4>f){de=7;break}if(pe&&Ne||!pe&&!Ne&&!n(o,u[0],"ALPH")){f=[f],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{He=o,de=u,pe=f;var We=me.gb;De=me.na,Ie=me.P,Qe=me.Sa,dt=22,t(He!=null),t(pe!=null),Pe=de[0];var qt=pe[0];for(t(De!=null),t(Qe!=null),De[0]=null,Ie[0]=null,Qe[0]=0;;){if(de[0]=Pe,pe[0]=qt,8>qt){de=7;break e}var Ht=be(He,Pe+4);if(4294967286<Ht){de=3;break e}var zt=8+Ht+1&-2;if(dt+=zt,0<We&&dt>We){de=3;break e}if(!n(He,Pe,"VP8 ")||!n(He,Pe,"VP8L")){de=0;break e}if(qt[0]<zt){de=7;break e}n(He,Pe,"ALPH")||(De[0]=He,Ie[0]=Pe+8,Qe[0]=Ht),Pe+=zt,qt-=zt}}if(f=f[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],de!=0)break}f=[f],me.Ja=[me.Ja],me.xa=[me.xa];e:if(We=o,de=u,pe=f,De=me.gb[0],Ie=me.Ja,Qe=me.xa,He=de[0],Pe=!n(We,He,"VP8 "),dt=!n(We,He,"VP8L"),t(We!=null),t(pe!=null),t(Ie!=null),t(Qe!=null),8>pe[0])de=7;else{if(Pe||dt){if(We=be(We,He+4),12<=De&&We>De-12){de=3;break e}if(we&&We>pe[0]-8){de=7;break e}Ie[0]=We,de[0]+=8,pe[0]-=8,Qe[0]=dt}else Qe[0]=5<=pe[0]&&We[He+0]==47&&!(We[He+4]>>5),Ie[0]=pe[0];de=0}if(f=f[0],me.Ja=me.Ja[0],me.xa=me.xa[0],u=u[0],de!=0)break;if(4294967286<me.Ja)return 3;if(M==null||Se||(M[0]=me.xa?2:1),I=[I],Te=[Te],me.xa){if(5>f){de=7;break}M=I,we=Te,Se=P,o==null||5>f?o=0:5<=f&&o[u+0]==47&&!(o[u+4]>>5)?(pe=[0],We=[0],De=[0],X(Ie=new k,o,u,f),$e(Ie,pe,We,De)?(M!=null&&(M[0]=pe[0]),we!=null&&(we[0]=We[0]),Se!=null&&(Se[0]=De[0]),o=1):o=0):o=0}else{if(10>f){de=7;break}M=Te,o==null||10>f||!Js(o,u+3,f-3)?o=0:(we=o[u+0]|o[u+1]<<8|o[u+2]<<16,Se=16383&(o[u+7]<<8|o[u+6]),o=16383&(o[u+9]<<8|o[u+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=me.Ja||!Se||!o?o=0:(I&&(I[0]=Se),M&&(M[0]=o),o=1))}if(!o||(I=I[0],Te=Te[0],Ne&&(U[0]!=I||ce[0]!=Te)))return 3;O!=null&&(O[0]=me,O.offset=u-O.w,t(4294967286>u-O.w),t(O.offset==O.ha-f));break}return de==0||de==7&&Ne&&O==null?(P!=null&&(P[0]|=me.na!=null&&0<me.na.length),v!=null&&(v[0]=I),S!=null&&(S[0]=Te),0):de}function Nl(o,u,f){var v=u.width,S=u.height,P=0,I=0,M=v,O=S;if(u.Da=o!=null&&0<o.Da,u.Da&&(M=o.cd,O=o.bd,P=o.v,I=o.j,11>f||(P&=-2,I&=-2),0>P||0>I||0>=M||0>=O||P+M>v||I+O>S))return 0;if(u.v=P,u.j=I,u.va=P+M,u.o=I+O,u.U=M,u.T=O,u.da=o!=null&&0<o.da,u.da){if(!rt(M,O,f=[o.ib],P=[o.hb]))return 0;u.ib=f[0],u.hb=P[0]}return u.ob=o!=null&&o.ob,u.Kb=o==null||!o.Sd,u.da&&(u.ob=u.ib<3*v/4&&u.hb<3*S/4,u.Kb=0),1}function wl(o){if(o==null)return 2;if(11>o.S){var u=o.f.RGBA;u.fb+=(o.height-1)*u.A,u.A=-u.A}else u=o.f.kb,o=o.height,u.O+=(o-1)*u.fa,u.fa=-u.fa,u.N+=(o-1>>1)*u.Ab,u.Ab=-u.Ab,u.W+=(o-1>>1)*u.Db,u.Db=-u.Db,u.F!=null&&(u.J+=(o-1)*u.lb,u.lb=-u.lb);return 0}function ro(o,u,f,v){if(v==null||0>=o||0>=u)return 2;if(f!=null){if(f.Da){var S=f.cd,P=f.bd,I=-2&f.v,M=-2&f.j;if(0>I||0>M||0>=S||0>=P||I+S>o||M+P>u)return 2;o=S,u=P}if(f.da){if(!rt(o,u,S=[f.ib],P=[f.hb]))return 2;o=S[0],u=P[0]}}v.width=o,v.height=u;e:{var O=v.width,U=v.height;if(o=v.S,0>=O||0>=U||!(o>=Jc&&13>o))o=2;else{if(0>=v.Rd&&v.sd==null){I=P=S=u=0;var ce=(M=O*Nm[o])*U;if(11>o||(P=(U+1)/2*(u=(O+1)/2),o==12&&(I=(S=O)*U)),(U=s(ce+2*P+I))==null){o=1;break e}v.sd=U,11>o?((O=v.f.RGBA).eb=U,O.fb=0,O.A=M,O.size=ce):((O=v.f.kb).y=U,O.O=0,O.fa=M,O.Fd=ce,O.f=U,O.N=0+ce,O.Ab=u,O.Cd=P,O.ea=U,O.W=0+ce+P,O.Db=u,O.Ed=P,o==12&&(O.F=U,O.J=0+ce+2*P),O.Tc=I,O.lb=S)}if(u=1,S=v.S,P=v.width,I=v.height,S>=Jc&&13>S)if(11>S)o=v.f.RGBA,u&=(M=Math.abs(o.A))*(I-1)+P<=o.size,u&=M>=P*Nm[S],u&=o.eb!=null;else{o=v.f.kb,M=(P+1)/2,ce=(I+1)/2,O=Math.abs(o.fa),U=Math.abs(o.Ab);var Ne=Math.abs(o.Db),we=Math.abs(o.lb),me=we*(I-1)+P;u&=O*(I-1)+P<=o.Fd,u&=U*(ce-1)+M<=o.Cd,u=(u&=Ne*(ce-1)+M<=o.Ed)&O>=P&U>=M&Ne>=M,u&=o.y!=null,u&=o.f!=null,u&=o.ea!=null,S==12&&(u&=we>=P,u&=me<=o.Tc,u&=o.F!=null)}else u=0;o=u?0:2}}return o!=0||f!=null&&f.fd&&(o=wl(v)),o}var Wn=64,io=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ao=24,so=32,bl=8,Sr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ee("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(o){return o},R.Predictor2=function(o,u,f){return u[f+0]},R.Predictor3=function(o,u,f){return u[f+1]},R.Predictor4=function(o,u,f){return u[f-1]},R.Predictor5=function(o,u,f){return Ce(Ce(o,u[f+1]),u[f+0])},R.Predictor6=function(o,u,f){return Ce(o,u[f-1])},R.Predictor7=function(o,u,f){return Ce(o,u[f+0])},R.Predictor8=function(o,u,f){return Ce(u[f-1],u[f+0])},R.Predictor9=function(o,u,f){return Ce(u[f+0],u[f+1])},R.Predictor10=function(o,u,f){return Ce(Ce(o,u[f-1]),Ce(u[f+0],u[f+1]))},R.Predictor11=function(o,u,f){var v=u[f+0];return 0>=it(v>>24&255,o>>24&255,(u=u[f-1])>>24&255)+it(v>>16&255,o>>16&255,u>>16&255)+it(v>>8&255,o>>8&255,u>>8&255)+it(255&v,255&o,255&u)?v:o},R.Predictor12=function(o,u,f){var v=u[f+0];return(Re((o>>24&255)+(v>>24&255)-((u=u[f-1])>>24&255))<<24|Re((o>>16&255)+(v>>16&255)-(u>>16&255))<<16|Re((o>>8&255)+(v>>8&255)-(u>>8&255))<<8|Re((255&o)+(255&v)-(255&u)))>>>0},R.Predictor13=function(o,u,f){var v=u[f-1];return(tt((o=Ce(o,u[f+0]))>>24&255,v>>24&255)<<24|tt(o>>16&255,v>>16&255)<<16|tt(o>>8&255,v>>8&255)<<8|tt(o>>0&255,v>>0&255))>>>0};var th=R.PredictorAdd0;R.PredictorAdd1=ct,Ee("Predictor2","PredictorAdd2"),Ee("Predictor3","PredictorAdd3"),Ee("Predictor4","PredictorAdd4"),Ee("Predictor5","PredictorAdd5"),Ee("Predictor6","PredictorAdd6"),Ee("Predictor7","PredictorAdd7"),Ee("Predictor8","PredictorAdd8"),Ee("Predictor9","PredictorAdd9"),Ee("Predictor10","PredictorAdd10"),Ee("Predictor11","PredictorAdd11"),Ee("Predictor12","PredictorAdd12"),Ee("Predictor13","PredictorAdd13");var jl=R.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(o){return o>>8&255},function(o){return o}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(o){return o},function(o){return o>>8&255});var $c,ti=R.ColorIndexInverseTransform,oo=R.MapARGB,Uc=R.VP8LColorIndexInverseTransformAlpha,Vc=R.MapAlpha,_a=R.VP8LPredictorsAdd=[];_a.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Ns,Cr,fr,Pa,Qi,Zi,lo,ea,Nn,Sl,pr,ni,co,Hc,Cl,ws,bs,Ia,js,uo,Ss,Ta,kl,ri,ii,tn,nn,wn,Mn=s(511),ta=s(2041),Ll=s(225),ho=s(767),Gc=0,nh=ta,Wc=Ll,qr=ho,ai=Mn,Jc=0,Xc=1,lm=2,Yc=3,Kc=4,rh=5,cm=6,ih=7,ah=8,Qc=9,sh=10,lx=[2,3,7],cx=[3,3,11],um=[280,256,256,256,40],ux=[0,1,1,1,0],dx=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],hx=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],fx=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],px=8,oh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],lh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Al=null,mx=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],gx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],dm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],xx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],vx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],yx=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Nx=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Da=[],gi=[],na=[],wx=1,hm=2,Ma=[],si=[];ke("UpsampleRgbLinePair",Tt,3),ke("UpsampleBgrLinePair",hn,3),ke("UpsampleRgbaLinePair",mi,4),ke("UpsampleBgraLinePair",Rn,4),ke("UpsampleArgbLinePair",tr,4),ke("UpsampleRgba4444LinePair",Ln,2),ke("UpsampleRgb565LinePair",gn,2);var bx=R.UpsampleRgbLinePair,jx=R.UpsampleBgrLinePair,fm=R.UpsampleRgbaLinePair,pm=R.UpsampleBgraLinePair,mm=R.UpsampleArgbLinePair,gm=R.UpsampleRgba4444LinePair,Sx=R.UpsampleRgb565LinePair,Zc=16,eu=1<<Zc-1,_l=-227,ch=482,xm=6,Cx=(256<<xm)-1,vm=0,kx=s(256),Lx=s(256),Ax=s(256),_x=s(256),Px=s(ch-_l),Ix=s(ch-_l);Di("YuvToRgbRow",Tt,3),Di("YuvToBgrRow",hn,3),Di("YuvToRgbaRow",mi,4),Di("YuvToBgraRow",Rn,4),Di("YuvToArgbRow",tr,4),Di("YuvToRgba4444Row",Ln,2),Di("YuvToRgb565Row",gn,2);var ym=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tu=[0,2,8],Tx=[8,7,6,4,4,2,2,2,1,1,1,1],Dx=1;this.WebPDecodeRGBA=function(o,u,f,v,S){var P=Xc,I=new eo,M=new Fn;I.ba=M,M.S=P,M.width=[M.width],M.height=[M.height];var O=M.width,U=M.height,ce=new Bt;if(ce==null||o==null)var Ne=2;else t(ce!=null),Ne=no(o,u,f,ce.width,ce.height,ce.Pd,ce.Qd,ce.format,null);if(Ne!=0?O=0:(O!=null&&(O[0]=ce.width[0]),U!=null&&(U[0]=ce.height[0]),O=1),O){M.width=M.width[0],M.height=M.height[0],v!=null&&(v[0]=M.width),S!=null&&(S[0]=M.height);e:{if(v=new ei,(S=new pl).data=o,S.w=u,S.ha=f,S.kd=1,u=[0],t(S!=null),((o=no(S.data,S.w,S.ha,null,null,null,u,null,S))==0||o==7)&&u[0]&&(o=4),(u=o)==0){if(t(I!=null),v.data=S.data,v.w=S.w+S.offset,v.ha=S.ha-S.offset,v.put=et,v.ac=Ae,v.bc=yt,v.ma=I,S.xa){if((o=br())==null){I=1;break e}if(function(we,me){var Te=[0],Se=[0],de=[0];t:for(;;){if(we==null)return 0;if(me==null)return we.a=2,0;if(we.l=me,we.a=0,X(we.m,me.data,me.w,me.ha),!$e(we.m,Te,Se,de)){we.a=3;break t}if(we.xb=hm,me.width=Te[0],me.height=Se[0],!Tn(Te[0],Se[0],1,we,null))break t;return 1}return t(we.a!=0),0}(o,v)){if(v=(u=ro(v.width,v.height,I.Oa,I.ba))==0){t:{v=o;n:for(;;){if(v==null){v=0;break t}if(t(v.s.yc!=null),t(v.s.Ya!=null),t(0<v.s.Wb),t((f=v.l)!=null),t((S=f.ma)!=null),v.xb!=0){if(v.ca=S.ba,v.tb=S.tb,t(v.ca!=null),!Nl(S.Oa,f,Yc)){v.a=2;break n}if(!Gi(v,f.width)||f.da)break n;if((f.da||It(v.ca.S))&&ve(),11>v.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),v.ca.f.kb.F!=null&&ve()),v.Pb&&0<v.s.ua&&v.s.vb.X==null&&!Me(v.s.vb,v.s.Wa.Xa)){v.a=1;break n}v.xb=0}if(!wr(v,v.V,v.Ba,v.c,v.i,f.o,Fr))break n;S.Dc=v.Ma,v=1;break t}t(v.a!=0),v=0}v=!v}v&&(u=o.a)}else u=o.a}else{if((o=new ol)==null){I=1;break e}if(o.Fa=S.na,o.P=S.P,o.qc=S.Sa,Xi(o,v)){if((u=ro(v.width,v.height,I.Oa,I.ba))==0){if(o.Aa=0,f=I.Oa,t((S=o)!=null),f!=null){if(0<(O=0>(O=f.Md)?0:100<O?255:255*O/100)){for(U=ce=0;4>U;++U)12>(Ne=S.pb[U]).lc&&(Ne.ia=O*Tx[0>Ne.lc?0:Ne.lc]>>3),ce|=Ne.ia;ce&&(alert("todo:VP8InitRandom"),S.ia=1)}S.Ga=f.Id,100<S.Ga?S.Ga=100:0>S.Ga&&(S.Ga=0)}Xs(o,v)||(u=o.a)}}else u=o.a}u==0&&I.Oa!=null&&I.Oa.fd&&(u=wl(I.ba))}I=u}P=I!=0?null:11>P?M.f.RGBA.eb:M.f.kb.y}else P=null;return P};var Nm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(R,te){for(var oe="",D=0;D<4;D++)oe+=String.fromCharCode(R[te++]);return oe}function x(R,te){return(R[te+0]<<0|R[te+1]<<8|R[te+2]<<16)>>>0}function m(R,te){return(R[te+0]<<0|R[te+1]<<8|R[te+2]<<16|R[te+3]<<24)>>>0}new d;var y=[0],g=[0],_=[],b=new d,A=e,N=function(R,te){var oe={},D=0,z=!1,E=0,$=0;if(oe.frames=[],!function(q,G,Y,Z){for(var K=0;K<Z;K++)if(q[G+K]!=Y.charCodeAt(K))return!0;return!1}(R,te,"RIFF",4)){for(m(R,te+=4),te+=8;te<R.length;){var re=p(R,te),ue=m(R,te+=4);te+=4;var ye=ue+(1&ue);switch(re){case"VP8 ":case"VP8L":oe.frames[D]===void 0&&(oe.frames[D]={}),(ne=oe.frames[D]).src_off=z?$:te-8,ne.src_size=E+ue+8,D++,z&&(z=!1,E=0,$=0);break;case"VP8X":(ne=oe.header={}).feature_flags=R[te];var X=te+4;ne.canvas_width=1+x(R,X),X+=3,ne.canvas_height=1+x(R,X),X+=3;break;case"ALPH":z=!0,E=ye+8,$=te-8;break;case"ANIM":(ne=oe.header).bgcolor=m(R,te),X=te+4,ne.loop_count=(Le=R)[(k=X)+0]<<0|Le[k+1]<<8,X+=2;break;case"ANMF":var he,ne;(ne=oe.frames[D]={}).offset_x=2*x(R,te),te+=3,ne.offset_y=2*x(R,te),te+=3,ne.width=1+x(R,te),te+=3,ne.height=1+x(R,te),te+=3,ne.duration=x(R,te),te+=3,he=R[te++],ne.dispose=1&he,ne.blend=he>>1&1}re!="ANMF"&&(te+=ye)}var Le,k;return oe}}(A,0);N.response=A,N.rgbaoutput=!0,N.dataurl=!1;var w=N.header?N.header:null,L=N.frames?N.frames:null;if(w){w.loop_counter=w.loop_count,y=[w.canvas_height],g=[w.canvas_width];for(var J=0;J<L.length&&L[J].blend!=0;J++);}var ee=L[0],fe=b.WebPDecodeRGBA(A,ee.src_off,ee.src_size,g,y);ee.rgba=fe,ee.imgwidth=g[0],ee.imgheight=y[0];for(var H=0;H<g[0]*y[0]*4;H++)_[H]=fe[H];return this.width=g,this.height=y,this.data=_,this}(function(e){var t=function(){return typeof ep=="function"},n=function(y,g,_,b){var A=4,N=l;switch(b){case e.image_compression.FAST:A=1,N=s;break;case e.image_compression.MEDIUM:A=6,N=c;break;case e.image_compression.SLOW:A=9,N=d}y=i(y,g,_,N);var w=ep(y,{level:A});return e.__addimage__.arrayBufferToBinaryString(w)},i=function(y,g,_,b){for(var A,N,w,L=y.length/g,J=new Uint8Array(y.length+L),ee=x(),fe=0;fe<L;fe+=1){if(w=fe*g,A=y.subarray(w,w+g),b)J.set(b(A,_,N),w+fe);else{for(var H,R=ee.length,te=[];H<R;H+=1)te[H]=ee[H](A,_,N);var oe=m(te.concat());J.set(te[oe],w+fe)}N=A}return J},a=function(y){var g=Array.apply([],y);return g.unshift(0),g},s=function(y,g){var _,b=[],A=y.length;b[0]=1;for(var N=0;N<A;N+=1)_=y[N-g]||0,b[N+1]=y[N]-_+256&255;return b},l=function(y,g,_){var b,A=[],N=y.length;A[0]=2;for(var w=0;w<N;w+=1)b=_&&_[w]||0,A[w+1]=y[w]-b+256&255;return A},c=function(y,g,_){var b,A,N=[],w=y.length;N[0]=3;for(var L=0;L<w;L+=1)b=y[L-g]||0,A=_&&_[L]||0,N[L+1]=y[L]+256-(b+A>>>1)&255;return N},d=function(y,g,_){var b,A,N,w,L=[],J=y.length;L[0]=4;for(var ee=0;ee<J;ee+=1)b=y[ee-g]||0,A=_&&_[ee]||0,N=_&&_[ee-g]||0,w=p(b,A,N),L[ee+1]=y[ee]-w+256&255;return L},p=function(y,g,_){if(y===g&&g===_)return y;var b=Math.abs(g-_),A=Math.abs(y-_),N=Math.abs(y+g-_-_);return b<=A&&b<=N?y:A<=N?g:_},x=function(){return[a,s,l,c,d]},m=function(y){var g=y.map(function(_){return _.reduce(function(b,A){return b+Math.abs(A)},0)});return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(y,g,_,b){var A,N,w,L,J,ee,fe,H,R,te,oe,D,z,E,$,re=this.decode.FLATE_DECODE,ue="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(w=new I4(y)).imgData,N=w.bits,A=w.colorSpace,J=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){R=(H=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,oe=new Uint8Array(R*w.colors),te=new Uint8Array(R);var ye,X=w.pixelBitlength-w.bits;for(E=0,$=0;E<R;E++){for(z=H[E],ye=0;ye<X;)oe[$++]=z>>>ye&255,ye+=w.bits;te[E]=z>>>ye&255}}if(w.bits===16){R=(H=new Uint32Array(w.decodePixels().buffer)).length,oe=new Uint8Array(R*(32/w.pixelBitlength)*w.colors),te=new Uint8Array(R*(32/w.pixelBitlength)),D=w.colors>1,E=0,$=0;for(var he=0;E<R;)z=H[E++],oe[$++]=z>>>0&255,D&&(oe[$++]=z>>>16&255,z=H[E++],oe[$++]=z>>>0&255),te[he++]=z>>>16&255;N=8}b!==e.image_compression.NONE&&t()?(y=n(oe,w.width*w.colors,w.colors,b),fe=n(te,w.width,1,b)):(y=oe,fe=te,re=void 0)}if(w.colorType===3&&(A=this.color_spaces.INDEXED,ee=w.palette,w.transparency.indexed)){var ne=w.transparency.indexed,Le=0;for(E=0,R=ne.length;E<R;++E)Le+=ne[E];if((Le/=255)===R-1&&ne.indexOf(0)!==-1)L=[ne.indexOf(0)];else if(Le!==R){for(H=w.decodePixels(),te=new Uint8Array(H.length),E=0,R=H.length;E<R;E++)te[E]=ne[H[E]];fe=n(te,w.width,1)}}var k=function(q){var G;switch(q){case e.image_compression.FAST:G=11;break;case e.image_compression.MEDIUM:G=13;break;case e.image_compression.SLOW:G=14;break;default:G=12}return G}(b);return re===this.decode.FLATE_DECODE&&(ue="/Predictor "+k+" "),ue+="/Colors "+J+" /BitsPerComponent "+N+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(fe&&this.__addimage__.isArrayBuffer(fe)||this.__addimage__.isArrayBufferView(fe))&&(fe=this.__addimage__.arrayBufferToBinaryString(fe)),{alias:_,data:y,index:g,filter:re,decodeParameters:ue,transparency:L,palette:ee,sMask:fe,predictor:k,width:w.width,height:w.height,bitsPerComponent:N,colorSpace:A}}}})(ft.API),function(e){e.processGIF89A=function(t,n,i,a){var s=new T4(t),l=s.width,c=s.height,d=[];s.decodeAndBlitFrameRGBA(0,d);var p={data:d,width:l,height:c},x=new Zh(100).encode(p,100);return e.processJPEG.call(this,x,n,i,a)},e.processGIF87A=e.processGIF89A}(ft.API),Ni.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:i,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ni.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Qt.log("bit decode error:"+n)}},Ni.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var d=this.palette[s>>7-c&1];this.data[l+4*c]=d.blue,this.data[l+4*c+1]=d.green,this.data[l+4*c+2]=d.red,this.data[l+4*c+3]=255}n!==0&&(this.pos+=4-n)}},Ni.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),l=i*this.width*4+2*a*4,c=s>>4,d=15&s,p=this.palette[c];if(this.data[l]=p.blue,this.data[l+1]=p.green,this.data[l+2]=p.red,this.data[l+3]=255,2*a+1>=this.width)break;p=this.palette[d],this.data[l+4]=p.blue,this.data[l+4+1]=p.green,this.data[l+4+2]=p.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},Ni.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*i;if(a<this.palette.length){var l=this.palette[a];this.data[s]=l.red,this.data[s+1]=l.green,this.data[s+2]=l.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Ni.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&t)/t*255|0,c=(s>>5&t)/t*255|0,d=(s>>10&t)/t*255|0,p=s>>15?255:0,x=i*this.width*4+4*a;this.data[x]=d,this.data[x+1]=c,this.data[x+2]=l,this.data[x+3]=p}this.pos+=e}},Ni.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&t)/t*255|0,d=(l>>5&n)/n*255|0,p=(l>>11)/t*255|0,x=a*this.width*4+4*s;this.data[x]=p,this.data[x+1]=d,this.data[x+2]=c,this.data[x+3]=255}this.pos+=e}},Ni.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=i,this.data[l+3]=255}this.pos+=this.width%4}},Ni.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*n;this.data[c]=s,this.data[c+1]=a,this.data[c+2]=i,this.data[c+3]=l}},Ni.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,i,a){var s=new Ni(t,!1),l=s.width,c=s.height,d={data:s.getData(),width:l,height:c},p=new Zh(100).encode(d,100);return e.processJPEG.call(this,p,n,i,a)}}(ft.API),y1.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,i,a){var s=new y1(t),l=s.width,c=s.height,d={data:s.getData(),width:l,height:c},p=new Zh(100).encode(d,100);return e.processJPEG.call(this,p,n,i,a)}}(ft.API),ft.API.processRGBA=function(e,t,n){for(var i=e.data,a=i.length,s=new Uint8Array(a/4*3),l=new Uint8Array(a/4),c=0,d=0,p=0;p<a;p+=4){var x=i[p],m=i[p+1],y=i[p+2],g=i[p+3];s[c++]=x,s[c++]=m,s[c++]=y,l[d++]=g}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:_,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ft.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},yo=ft.API,zu=yo.getCharWidthsArray=function(e,t){var n,i,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:a.metadata.Unicode.widths,d=c.fof?c.fof:1,p=t.kerning?t.kerning:a.metadata.Unicode.kerning,x=p.fof?p.fof:1,m=t.doKerning!==!1,y=0,g=e.length,_=0,b=c[0]||d,A=[];for(n=0;n<g;n++)i=e.charCodeAt(n),typeof a.metadata.widthOfString=="function"?A.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+l*(1e3/s)||0)/1e3):(y=m&&Wt(p[i])==="object"&&!isNaN(parseInt(p[i][_],10))?p[i][_]/x:0,A.push((c[i]||b)/d+y)),_=i;return A},m1=yo.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return yo.processArabic&&(e=yo.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,n,a)/n:zu.apply(this,arguments).reduce(function(s,l){return s+l},0)},g1=function(e,t,n,i){for(var a=[],s=0,l=e.length,c=0;s!==l&&c+t[s]<n;)c+=t[s],s++;a.push(e.slice(0,s));var d=s;for(c=0;s!==l;)c+t[s]>i&&(a.push(e.slice(d,s)),c=0,d=s),c+=t[s],s++;return d!==s&&a.push(e.slice(d,s)),a},x1=function(e,t,n){n||(n={});var i,a,s,l,c,d,p,x=[],m=[x],y=n.textIndent||0,g=0,_=0,b=e.split(" "),A=zu.apply(this,[" ",n])[0];if(d=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var N=Array(d).join(" "),w=[];b.map(function(J){(J=J.split(/\s*\n/)).length>1?w=w.concat(J.map(function(ee,fe){return(fe&&ee.length?`
`:"")+ee})):w.push(J[0])}),b=w,d=m1.apply(this,[N,n])}for(s=0,l=b.length;s<l;s++){var L=0;if(i=b[s],d&&i[0]==`
`&&(i=i.substr(1),L=1),y+g+(_=(a=zu.apply(this,[i,n])).reduce(function(J,ee){return J+ee},0))>t||L){if(_>t){for(c=g1.apply(this,[i,a,t-(y+g),t]),x.push(c.shift()),x=[c.pop()];c.length;)m.push([c.shift()]);_=a.slice(i.length-(x[0]?x[0].length:0)).reduce(function(J,ee){return J+ee},0)}else x=[i];m.push(x),y=_+d,g=A}else x.push(i),y+=g+_,g=A}return p=d?function(J,ee){return(ee?N:"")+J.join(" ")}:function(J){return J.join(" ")},m.map(p)},yo.splitTextToSize=function(e,t,n){var i,a=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(x){if(x.widths&&x.kerning)return{widths:x.widths,kerning:x.kerning};var m=this.internal.getFont(x.fontName,x.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/a;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=n.lineIndent;var c,d,p=[];for(c=0,d=i.length;c<d;c++)p=p.concat(x1.apply(this,[i[c],l,s]));return p},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},i={},a=0;a<t.length;a++)n[t[a]]="0123456789abcdef"[a],i["0123456789abcdef"[a]]=t[a];var s=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var y,g,_,b,A=["{"];for(var N in m){if(y=m[N],isNaN(parseInt(N,10))?g="'"+N+"'":(N=parseInt(N,10),g=(g=s(N).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof y=="number")y<0?(_=s(y).slice(3),b="-"):(_=s(y).slice(2),b=""),_=b+_.slice(0,-1)+i[_.slice(-1)];else{if(Wt(y)!=="object")throw new Error("Don't know what to do with value type "+Wt(y)+".");_=l(y)}A.push(g+_)}return A.push("}"),A.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,g,_,b,A={},N=1,w=A,L=[],J="",ee="",fe=m.length-1,H=1;H<fe;H+=1)(b=m[H])=="'"?y?(_=y.join(""),y=void 0):y=[]:y?y.push(b):b=="{"?(L.push([w,_]),w={},_=void 0):b=="}"?((g=L.pop())[0][g[1]]=w,_=void 0,w=g[0]):b=="-"?N=-1:_===void 0?n.hasOwnProperty(b)?(J+=n[b],_=parseInt(J,16)*N,N=1,J=""):J+=b:n.hasOwnProperty(b)?(ee+=n[b],w[_]=parseInt(ee,16)*N,N=1,_=void 0,ee=""):ee+=b;return A},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},x={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var y=m.font,g=x.Unicode[y.postScriptName];g&&(y.metadata.Unicode={},y.metadata.Unicode.widths=g.widths,y.metadata.Unicode.kerning=g.kerning);var _=p.Unicode[y.postScriptName];_&&(y.metadata.Unicode.encoding=_,y.encoding=_.codePages[0])}])}(ft.API),function(e){var t=function(n){for(var i=n.length,a=new Uint8Array(i),s=0;s<i;s++)a[s]=n.charCodeAt(s);return a};e.API.events.push(["addFont",function(n){var i=void 0,a=n.font,s=n.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(i=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(oc(c)),l.metadata=e.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,i)}}])}(ft),function(e){function t(){return(pt.canvg?Promise.resolve(pt.canvg):Xf(()=>import("./index.es-9a650950.js"),[],import.meta.url)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ft.API.addSvgAsImage=function(n,i,a,s,l,c,d,p){if(isNaN(i)||isNaN(a))throw Qt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(l))throw Qt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var x=document.createElement("canvas");x.width=s,x.height=l;var m=x.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,x.width,x.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then(function(_){return _.fromString(m,n,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(y)}).then(function(){g.addImage(x.toDataURL("image/jpeg",1),i,a,s,l,d,p)})}}(),ft.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(t,n);return this},ft.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,a,s,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),d=[],p=0,x=0,m=0;function y(_,b){var A,N=!1;for(A=0;A<_.length;A+=1)_[A]===b&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=c.length;for(m=0;m<g;m+=1)n[c[m]].value=n[c[m]].defaultValue,n[c[m]].explicitSet=!1}if(Wt(e)==="object"){for(a in e)if(s=e[a],y(c,a)&&s!==void 0){if(n[a].type==="boolean"&&typeof s=="boolean")n[a].value=s;else if(n[a].type==="name"&&y(n[a].valueSet,s))n[a].value=s;else if(n[a].type==="integer"&&Number.isInteger(s))n[a].value=s;else if(n[a].type==="array"){for(p=0;p<s.length;p+=1)if(i=!0,s[p].length===1&&typeof s[p][0]=="number")d.push(String(s[p]-1));else if(s[p].length>1){for(x=0;x<s[p].length;x+=1)typeof s[p][x]!="number"&&(i=!1);i===!0&&d.push([s[p][0]-1,s[p][1]-1].join(" "))}n[a].value="["+d.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,b=[];for(_ in n)n[_].explicitSet===!0&&(n[_].type==="name"?b.push("/"+_+" /"+n[_].value):b.push("/"+_+" "+n[_].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),p=s.length+l.length+c.length+a.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(a+s+l+c+d),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(ft.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,l){for(var c,d=l.metadata.Unicode.widths,p=["","0","00","000","0000"],x=[""],m=0,y=s.length;m<y;++m){if(c=l.metadata.characterToGlyph(s.charCodeAt(m)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=s.charCodeAt(m),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return x.join("");c=c.toString(16),x.push(p[4-c.length],c)}return x.join("")},i=function(s){var l,c,d,p,x,m,y;for(x=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],m=0,y=(c=Object.keys(s).sort(function(g,_){return g-_})).length;m<y;m++)l=c[m],d.length>=100&&(x+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),s[l]!==void 0&&s[l]!==null&&typeof s[l].toString=="function"&&(p=("0000"+s[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+p+">"));return d.length&&(x+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),x+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(l){var c=l.font,d=l.out,p=l.newObject,x=l.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var m=c.metadata.Unicode.widths,y=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),g="",_=0;_<y.length;_++)g+=String.fromCharCode(y[_]);var b=p();x({data:g,addLength1:!0,objectId:b}),d("endobj");var A=p();x({data:i(c.metadata.toUnicode),addLength1:!0,objectId:A}),d("endobj");var N=p();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+bo(c.fontName)),d("/FontFile2 "+b+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var w=p();d("<<"),d("/Type /Font"),d("/BaseFont /"+bo(c.fontName)),d("/FontDescriptor "+N+" 0 R"),d("/W "+e.API.PDFObject.convert(m)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=p(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+A+" 0 R"),d("/BaseFont /"+bo(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+w+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(l){var c=l.font,d=l.out,p=l.newObject,x=l.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var m=c.metadata.rawData,y="",g=0;g<m.length;g++)y+=String.fromCharCode(m[g]);var _=p();x({data:y,addLength1:!0,objectId:_}),d("endobj");var b=p();x({data:i(c.metadata.toUnicode),addLength1:!0,objectId:b}),d("endobj");var A=p();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+_+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+bo(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=p();for(var N=0;N<c.metadata.hmtx.widths.length;N++)c.metadata.hmtx.widths[N]=parseInt(c.metadata.hmtx.widths[N]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+bo(c.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(s)}]);var a=function(s){var l,c=s.text||"",d=s.x,p=s.y,x=s.options||{},m=s.mutex||{},y=m.pdfEscape,g=m.activeFontKey,_=m.fonts,b=g,A="",N=0,w="",L=_[b].encoding;if(_[b].encoding!=="Identity-H")return{text:c,x:d,y:p,options:x,mutex:m};for(w=c,b=g,Array.isArray(c)&&(w=c[0]),N=0;N<w.length;N+=1)_[b].metadata.hasOwnProperty("cmap")&&(l=_[b].metadata.cmap.unicode.codeMap[w[N].charCodeAt(0)]),l||w[N].charCodeAt(0)<256&&_[b].metadata.hasOwnProperty("Unicode")?A+=w[N]:A+="";var J="";return parseInt(b.slice(1))<14||L==="WinAnsiEncoding"?J=y(A,b).split("").map(function(ee){return ee.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(J=n(A,_[b])),m.isHex=!0,{text:J,x:d,y:p,options:x,mutex:m}};t.events.push(["postProcessText",function(s){var l=s.text||"",c=[],d={text:l,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(l)){var p=0;for(p=0;p<l.length;p+=1)Array.isArray(l[p])&&l[p].length===3?c.push([a(Object.assign({},d,{text:l[p][0]})).text,l[p][1],l[p][2]]):c.push(a(Object.assign({},d,{text:l[p]})).text);s.text=c}else s.text=a(Object.assign({},d,{text:l})).text}])}(ft),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,i){return t.call(this),this.internal.vFS[n]=i,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ft.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var a,s,l,c,d,p,x,m=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,L=0;this.__bidiEngine__={};var J=function(D){var z=D.charCodeAt(),E=z>>8,$=b[E];return $!==void 0?m[256*$+(255&z)]:E===252||E===253?"AL":N.test(E)?"L":E===8?"R":"N"},ee=function(D){for(var z,E=0;E<D.length;E++){if((z=J(D.charAt(E)))==="L")return!1;if(z==="R")return!0}return!1},fe=function(D,z,E,$){var re,ue,ye,X,he=z[$];switch(he){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(he="AN");break;case"AL":w=!0,he="R";break;case"WS":he="N";break;case"CS":$<1||$+1>=z.length||(re=E[$-1])!=="EN"&&re!=="AN"||(ue=z[$+1])!=="EN"&&ue!=="AN"?he="N":w&&(ue="AN"),he=ue===re?ue:"N";break;case"ES":he=(re=$>0?E[$-1]:"B")==="EN"&&$+1<z.length&&z[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&E[$-1]==="EN"){he="EN";break}if(w){he="N";break}for(ye=$+1,X=z.length;ye<X&&z[ye]==="ET";)ye++;he=ye<X&&z[ye]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(X=z.length,ye=$+1;ye<X&&z[ye]==="NSM";)ye++;if(ye<X){var ne=D[$],Le=ne>=1425&&ne<=2303||ne===64286;if(re=z[ye],Le&&(re==="R"||re==="AL")){he="R";break}}}he=$<1||(re=z[$-1])==="B"?"N":E[$-1];break;case"B":w=!1,a=!0,he=L;break;case"S":s=!0,he="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":he="N"}return he},H=function(D,z,E){var $=D.split("");return E&&R($,E,{hiLevel:L}),$.reverse(),z&&z.reverse(),$.join("")},R=function(D,z,E){var $,re,ue,ye,X,he=-1,ne=D.length,Le=0,k=[],q=L?g:y,G=[];for(w=!1,a=!1,s=!1,re=0;re<ne;re++)G[re]=J(D[re]);for(ue=0;ue<ne;ue++){if(X=Le,k[ue]=fe(D,G,k,ue),$=240&(Le=q[X][_[k[ue]]]),Le&=15,z[ue]=ye=q[Le][5],$>0)if($===16){for(re=he;re<ue;re++)z[re]=1;he=-1}else he=-1;if(q[Le][6])he===-1&&(he=ue);else if(he>-1){for(re=he;re<ue;re++)z[re]=ye;he=-1}G[ue]==="B"&&(z[ue]=0),E.hiLevel|=ye}s&&function(Y,Z,K){for(var le=0;le<K;le++)if(Y[le]==="S"){Z[le]=L;for(var j=le-1;j>=0&&Y[j]==="WS";j--)Z[j]=L}}(G,z,ne)},te=function(D,z,E,$,re){if(!(re.hiLevel<D)){if(D===1&&L===1&&!a)return z.reverse(),void(E&&E.reverse());for(var ue,ye,X,he,ne=z.length,Le=0;Le<ne;){if($[Le]>=D){for(X=Le+1;X<ne&&$[X]>=D;)X++;for(he=Le,ye=X-1;he<ye;he++,ye--)ue=z[he],z[he]=z[ye],z[ye]=ue,E&&(ue=E[he],E[he]=E[ye],E[ye]=ue);Le=X}Le++}}},oe=function(D,z,E){var $=D.split(""),re={hiLevel:L};return E||(E=[]),R($,E,re),function(ue,ye,X){if(X.hiLevel!==0&&x)for(var he,ne=0;ne<ue.length;ne++)ye[ne]===1&&(he=A.indexOf(ue[ne]))>=0&&(ue[ne]=A[he+1])}($,E,re),te(2,$,z,E,re),te(1,$,z,E,re),$.join("")};return this.__bidiEngine__.doBidiReorder=function(D,z,E){if(function(re,ue){if(ue)for(var ye=0;ye<re.length;ye++)ue[ye]=ye;c===void 0&&(c=ee(re)),p===void 0&&(p=ee(re))}(D,z),l||!d||p)if(l&&d&&c^p)L=c?1:0,D=H(D,z,E);else if(!l&&d&&p)L=c?1:0,D=oe(D,z,E),D=H(D,z);else if(!l||c||d||p){if(l&&!d&&c^p)D=H(D,z),c?(L=0,D=oe(D,z,E)):(L=1,D=oe(D,z,E),D=H(D,z));else if(l&&c&&!d&&p)L=1,D=oe(D,z,E),D=H(D,z);else if(!l&&!d&&c^p){var $=x;c?(L=1,D=oe(D,z,E),L=0,x=!1,D=oe(D,z,E),x=$):(L=0,D=oe(D,z,E),D=H(D,z),L=1,x=!1,D=oe(D,z,E),x=$,D=H(D,z))}}else L=0,D=oe(D,z,E);else L=c?1:0,D=oe(D,z,E);return D},this.__bidiEngine__.setOptions=function(D){D&&(l=D.isInputVisual,d=D.isOutputVisual,c=D.isInputRtl,p=D.isOutputRtl,x=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var a=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var l=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(l=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?l.push([n.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):l.push([n.doBidiReorder(a[c])]);i.text=l}else i.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])}(ft),ft.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new cs(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new W4(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new D4(this.contents),this.head=new z4(this),this.name=new B4(this),this.cmap=new sx(this),this.toUnicode={},this.hhea=new E4(this),this.maxp=new q4(this),this.hmtx=new $4(this),this.post=new O4(this),this.os2=new F4(this),this.loca=new G4(this),this.glyf=new U4(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,i,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,d,p;for(p=[],l=0,c=(d=this.bbox).length;l<c;l++)t=d[l],p.push(Math.round(t*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(i=255&(a=this.post.italic_angle),32768&(n=a>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,i){var a,s,l,c;for(l=0,s=0,c=(t=""+t).length;0<=c?s<c:s>c;s=0<=c?++s:--s)a=t.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(a))+i*(1e3/n)||0;return l*(n/1e3)},e.prototype.lineHeight=function(t,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e}();var _i,cs=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,i;for(i=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var n,i,a;for(a=[],n=0,i=t.length;0<=i?n<i:n>i;n=0<=i?++n:--n)a.push(this.writeByte(t.charCodeAt(n)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,i,a,s,l,c,d;return t=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^a)+16777216*(255^s)+65536*(255^l)+256*(255^c)+(255^d)+1):72057594037927940*t+281474976710656*n+1099511627776*i+4294967296*a+16777216*s+65536*l+256*c+d},e.prototype.writeLongLong=function(t){var n,i;return n=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,i;for(n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push(this.readByte());return n},e.prototype.write=function(t){var n,i,a,s;for(s=[],i=0,a=t.length;i<a;i++)n=t[i],s.push(this.writeByte(n));return s},e}(),D4=function(){var e;function t(n){var i,a,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(n){var i,a,s,l,c,d,p,x,m,y,g,_,b;for(b in g=Object.keys(n).length,d=Math.log(2),m=16*Math.floor(Math.log(g)/d),l=Math.floor(m/d),x=16*g-m,(a=new cs).writeInt(this.scalarType),a.writeShort(g),a.writeShort(m),a.writeShort(l),a.writeShort(x),s=16*g,p=a.pos+s,c=null,_=[],n)for(y=n[b],a.writeString(b),a.writeInt(e(y)),a.writeInt(p),a.writeInt(y.length),_=_.concat(y),b==="head"&&(c=p),p+=y.length;p%4;)_.push(0),p++;return a.write(_),i=2981146554-e(a.data),a.pos=c+8,a.writeUInt32(i),a.data},e=function(n){var i,a,s,l;for(n=ox.call(n);n.length%4;)n.push(0);for(s=new cs(n),a=0,i=0,l=n.length;i<l;i=i+=4)a+=s.readUInt32();return 4294967295&a},t}(),M4={}.hasOwnProperty,Hi=function(e,t){for(var n in t)M4.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};_i=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var z4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,_i),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var i;return(i=new cs).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(n),i.writeShort(this.glyphDataFormat),i.data},t}(),N1=function(){function e(t,n){var i,a,s,l,c,d,p,x,m,y,g,_,b,A,N,w,L;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(g=t.readUInt16(),y=g/2,t.pos+=6,s=function(){var J,ee;for(ee=[],d=J=0;0<=y?J<y:J>y;d=0<=y?++J:--J)ee.push(t.readUInt16());return ee}(),t.pos+=2,b=function(){var J,ee;for(ee=[],d=J=0;0<=y?J<y:J>y;d=0<=y?++J:--J)ee.push(t.readUInt16());return ee}(),p=function(){var J,ee;for(ee=[],d=J=0;0<=y?J<y:J>y;d=0<=y?++J:--J)ee.push(t.readUInt16());return ee}(),x=function(){var J,ee;for(ee=[],d=J=0;0<=y?J<y:J>y;d=0<=y?++J:--J)ee.push(t.readUInt16());return ee}(),a=(this.length-t.pos+this.offset)/2,c=function(){var J,ee;for(ee=[],d=J=0;0<=a?J<a:J>a;d=0<=a?++J:--J)ee.push(t.readUInt16());return ee}(),d=N=0,L=s.length;N<L;d=++N)for(A=s[d],i=w=_=b[d];_<=A?w<=A:w>=A;i=_<=A?++w:--w)x[d]===0?l=i+p[d]:(l=c[x[d]/2+(i-_)-(y-d)]||0)!==0&&(l+=p[d]),this.codeMap[i]=65535&l}t.pos=m}return e.encode=function(t,n){var i,a,s,l,c,d,p,x,m,y,g,_,b,A,N,w,L,J,ee,fe,H,R,te,oe,D,z,E,$,re,ue,ye,X,he,ne,Le,k,q,G,Y,Z,K,le,j,V,F,ae;switch($=new cs,l=Object.keys(t).sort(function(be,Me){return be-Me}),n){case"macroman":for(b=0,A=function(){var be=[];for(_=0;_<256;++_)be.push(0);return be}(),w={0:0},s={},re=0,he=l.length;re<he;re++)w[j=t[a=l[re]]]==null&&(w[j]=++b),s[a]={old:t[a],new:w[t[a]]},A[a]=w[t[a]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(A),{charMap:s,subtable:$.data,maxGlyphID:b+1};case"unicode":for(z=[],m=[],L=0,w={},i={},N=p=null,ue=0,ne=l.length;ue<ne;ue++)w[ee=t[a=l[ue]]]==null&&(w[ee]=++L),i[a]={old:ee,new:w[ee]},c=w[ee]-a,N!=null&&c===p||(N&&m.push(N),z.push(a),p=c),N=a;for(N&&m.push(N),m.push(65535),z.push(65535),oe=2*(te=z.length),R=2*Math.pow(Math.log(te)/Math.LN2,2),y=Math.log(R/2)/Math.LN2,H=2*te-R,d=[],fe=[],g=[],_=ye=0,Le=z.length;ye<Le;_=++ye){if(D=z[_],x=m[_],D===65535){d.push(0),fe.push(0);break}if(D-(E=i[D].new)>=32768)for(d.push(0),fe.push(2*(g.length+te-_)),a=X=D;D<=x?X<=x:X>=x;a=D<=x?++X:--X)g.push(i[a].new);else d.push(E-D),fe.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*te+2*g.length),$.writeUInt16(0),$.writeUInt16(oe),$.writeUInt16(R),$.writeUInt16(y),$.writeUInt16(H),K=0,k=m.length;K<k;K++)a=m[K],$.writeUInt16(a);for($.writeUInt16(0),le=0,q=z.length;le<q;le++)a=z[le],$.writeUInt16(a);for(V=0,G=d.length;V<G;V++)c=d[V],$.writeUInt16(c);for(F=0,Y=fe.length;F<Y;F++)J=fe[F],$.writeUInt16(J);for(ae=0,Z=g.length;ae<Z;ae++)b=g[ae],$.writeUInt16(b);return{charMap:i,subtable:$.data,maxGlyphID:L+1}}},e}(),sx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,_i),t.prototype.tag="cmap",t.prototype.parse=function(n){var i,a,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)i=new N1(n,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(n,i){var a,s;return i==null&&(i="macroman"),a=N1.encode(n,i),(s=new cs).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},t}(),E4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,_i),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),F4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,_i),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var i,a;for(a=[],i=0;i<10;++i)a.push(n.readByte());return a}(),this.charRange=function(){var i,a;for(a=[],i=0;i<4;++i)a.push(n.readInt());return a}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var i,a;for(a=[],i=0;i<2;i=++i)a.push(n.readInt());return a}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),O4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,_i),t.prototype.tag="post",t.prototype.parse=function(n){var i,a,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var l;for(a=n.readUInt16(),this.glyphNameIndex=[],l=0;0<=a?l<a:l>a;l=0<=a?++l:--l)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)i=n.readByte(),s.push(this.names.push(n.readString(i)));return s;case 151552:return a=n.readUInt16(),this.offsets=n.read(a);case 196608:break;case 262144:return this.map=(function(){var c,d,p;for(p=[],l=c=0,d=this.file.maxp.numGlyphs;0<=d?c<d:c>d;l=0<=d?++c:--c)p.push(n.readUInt32());return p}).call(this)}},t}(),R4=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},B4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,_i),t.prototype.tag="name",t.prototype.parse=function(n){var i,a,s,l,c,d,p,x,m,y,g;for(n.pos=this.offset,n.readShort(),i=n.readShort(),d=n.readShort(),a=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)a.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+d+n.readShort()});for(p={},l=m=0,y=a.length;m<y;l=++m)s=a[l],n.pos=s.offset,x=n.readString(s.length),c=new R4(x,s),p[g=s.nameID]==null&&(p[g]=[]),p[s.nameID].push(c);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},t}(),q4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,_i),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),$4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,_i),t.prototype.tag="hmtx",t.prototype.parse=function(n){var i,a,s,l,c,d,p;for(n.pos=this.offset,this.metrics=[],i=0,d=this.file.hhea.numberOfMetrics;0<=d?i<d:i>d;i=0<=d?++i:--i)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var x,m;for(m=[],i=x=0;0<=s?x<s:x>s;i=0<=s?++x:--x)m.push(n.readInt16());return m}(),this.widths=(function(){var x,m,y,g;for(g=[],x=0,m=(y=this.metrics).length;x<m;x++)l=y[x],g.push(l.advance);return g}).call(this),a=this.widths[this.widths.length-1],p=[],i=c=0;0<=s?c<s:c>s;i=0<=s?++c:--c)p.push(this.widths.push(a));return p},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),ox=[].slice,U4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,_i),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var i,a,s,l,c,d,p,x,m,y;return n in this.cache?this.cache[n]:(l=this.file.loca,i=this.file.contents,a=l.indexOf(n),(s=l.lengthOf(n))===0?this.cache[n]=null:(i.pos=this.offset+a,c=(d=new cs(i.read(s))).readShort(),x=d.readShort(),y=d.readShort(),p=d.readShort(),m=d.readShort(),this.cache[n]=c===-1?new H4(d,x,y,p,m):new V4(d,c,x,y,p,m),this.cache[n]))},t.prototype.encode=function(n,i,a){var s,l,c,d,p;for(c=[],l=[],d=0,p=i.length;d<p;d++)s=n[i[d]],l.push(c.length),s&&(c=c.concat(s.encode(a)));return l.push(c.length),{table:c,offsets:l}},t}(),V4=function(){function e(t,n,i,a,s,l){this.raw=t,this.numberOfContours=n,this.xMin=i,this.yMin=a,this.xMax=s,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),H4=function(){function e(t,n,i,a,s){var l,c;for(this.raw=t,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return e.prototype.encode=function(){var t,n,i;for(n=new cs(ox.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),G4=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,_i),t.prototype.tag="loca",t.prototype.parse=function(n){var i,a;return n.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var s,l;for(l=[],a=0,s=this.length;a<s;a+=2)l.push(2*n.readUInt16());return l}).call(this):(function(){var s,l;for(l=[],a=0,s=this.length;a<s;a+=4)l.push(n.readUInt32());return l}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,i){for(var a=new Uint32Array(this.offsets.length),s=0,l=0,c=0;c<a.length;++c)if(a[c]=s,l<i.length&&i[l]==c){++l,a[c]=s;var d=this.offsets[c],p=this.offsets[c+1]-d;p>0&&(s+=p)}for(var x=new Array(4*a.length),m=0;m<a.length;++m)x[4*m+3]=255&a[m],x[4*m+2]=(65280&a[m])>>8,x[4*m+1]=(16711680&a[m])>>16,x[4*m]=(4278190080&a[m])>>24;return x},t}(),W4=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,i,a,s;for(n in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)i=s[n],t[n]=a[i];return t},e.prototype.glyphsFor=function(t){var n,i,a,s,l,c,d;for(a={},l=0,c=t.length;l<c;l++)a[s=t[l]]=this.font.glyf.glyphFor(s);for(s in n=[],a)(i=a[s])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(s in d=this.glyphsFor(n))i=d[s],a[s]=i;return a},e.prototype.encode=function(t,n){var i,a,s,l,c,d,p,x,m,y,g,_,b,A,N;for(a in i=sx.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),g={0:0},N=i.charMap)g[(d=N[a]).old]=d.new;for(_ in y=i.maxGlyphID,l)_ in g||(g[_]=y++);return x=function(w){var L,J;for(L in J={},w)J[w[L]]=L;return J}(g),m=Object.keys(x).sort(function(w,L){return w-L}),b=function(){var w,L,J;for(J=[],w=0,L=m.length;w<L;w++)c=m[w],J.push(x[c]);return J}(),s=this.font.glyf.encode(l,b,g),p=this.font.loca.encode(s.offsets,b),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e}();ft.API.PDFObject=function(){var e;function t(){}return e=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},t.convert=function(n){var i,a,s,l;if(Array.isArray(n))return"["+function(){var c,d,p;for(p=[],c=0,d=n.length;c<d;c++)i=n[c],p.push(t.convert(i));return p}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in s=["<<"],n)l=n[a],s.push("/"+a+" "+t.convert(l));return s.push(">>"),s.join(`
`)}return""+n},t}();const w1=[{id:"prod_001",name:"Mozzarella di Bufala",category:"latticini",defaultLocation:"Frigo A - Ripiano intermedio",allergens:["latte"]},{id:"prod_002",name:"Parmigiano Reggiano",category:"latticini",defaultLocation:"Frigo A - Ripiano intermedio",allergens:["latte"]},{id:"prod_003",name:"Burrata",category:"latticini",defaultLocation:"Frigo A - Ripiano intermedio",allergens:["latte"]},{id:"prod_018",name:"Gorgonzola DOP",category:"latticini",defaultLocation:"Frigo A - Ripiano intermedio",allergens:["latte"]},{id:"prod_021",name:"Ricotta Fresca",category:"latticini",defaultLocation:"Frigo A - Ripiano intermedio",allergens:["latte"]},{id:"prod_007",name:"Prosciutto Crudo",category:"carni",defaultLocation:"Frigo C - Ripiano inferiore",allergens:[]},{id:"prod_031",name:"Prosciutto Cotto",category:"carni",defaultLocation:"Frigo C - Ripiano inferiore",allergens:[]},{id:"prod_032",name:"Salame",category:"carni",defaultLocation:"Frigo C - Ripiano inferiore",allergens:[]},{id:"prod_008",name:"Bresaola",category:"carni",defaultLocation:"Frigo C - Ripiano inferiore",allergens:[]},{id:"prod_014",name:"Pancetta",category:"carni",defaultLocation:"Frigo C - Ripiano inferiore",allergens:[]},{id:"prod_015",name:"Speck",category:"carni",defaultLocation:"Frigo C - Ripiano inferiore",allergens:[]},{id:"prod_020",name:"Guanciale",category:"carni",defaultLocation:"Frigo C - Ripiano inferiore",allergens:[]},{id:"prod_022",name:"Carne di Manzo",category:"carni",defaultLocation:"Frigo C - Ripiano inferiore",allergens:[]},{id:"prod_005",name:"Basilico Fresco",category:"verdure",defaultLocation:"Frigo B - Cassetto verdure",allergens:[]},{id:"prod_017",name:"Rucola",category:"verdure",defaultLocation:"Frigo B - Cassetto verdure",allergens:[]},{id:"prod_004",name:"Pomodoro",category:"verdure",defaultLocation:"Frigo B - Cassetto verdure",allergens:[]},{id:"prod_023",name:"Zucchine",category:"verdure",defaultLocation:"Frigo B - Cassetto verdure",allergens:[]},{id:"prod_024",name:"Melanzane",category:"verdure",defaultLocation:"Frigo B - Cassetto verdure",allergens:[]},{id:"prod_025",name:"Limoni",category:"frutta",defaultLocation:"Frigo B - Cassetto frutta",allergens:[]},{id:"prod_026",name:"Arance",category:"frutta",defaultLocation:"Frigo B - Cassetto frutta",allergens:[]},{id:"prod_011",name:"Salmone",category:"pesce_fresco",defaultLocation:"Frigo Pesce - Ripiano inferiore",allergens:["pesce"]},{id:"prod_012",name:"Vongole Veraci",category:"pesce_fresco",defaultLocation:"Frigo Pesce - Ripiano inferiore",allergens:["molluschi"]},{id:"prod_027",name:"Branzino Fresco",category:"pesce_fresco",defaultLocation:"Frigo Pesce - Ripiano inferiore",allergens:["pesce"]},{id:"prod_010",name:"Gamberi Rossi Surgelati",category:"surgelati",defaultLocation:"Freezer A",allergens:["crostacei"]},{id:"prod_028",name:"Spinaci Surgelati",category:"surgelati",defaultLocation:"Freezer A",allergens:[]},{id:"prod_009",name:"Farina 00 Manitoba",category:"dispensa",defaultLocation:"Scaffale 3 - Dispensa",allergens:["glutine"]},{id:"prod_029",name:"Pasta Spaghetti",category:"dispensa",defaultLocation:"Scaffale 3 - Dispensa",allergens:["glutine"]},{id:"prod_030",name:"Riso Carnaroli",category:"dispensa",defaultLocation:"Scaffale 3 - Dispensa",allergens:[]},{id:"prod_006",name:"Olio Extra Vergine d'Oliva",category:"condimenti",defaultLocation:"Scaffale 2 - Condimenti",allergens:[]},{id:"prod_016",name:"Aceto Balsamico Modena",category:"condimenti",defaultLocation:"Scaffale 2 - Condimenti",allergens:["solfiti"]},{id:"prod_019",name:"Pistacchi",category:"condimenti",defaultLocation:"Scaffale 4 - Frutta secca",allergens:["frutta_guscio"]},{id:"prod_013",name:"Uova Bio Fresche",category:"latticini",defaultLocation:"Frigo A - Ripiano intermedio",allergens:["uova"]}],Vl=[{id:"glutine",name:"Glutine",color:"bg-red-100 text-red-800"},{id:"crostacei",name:"Crostacei",color:"bg-orange-100 text-orange-800"},{id:"uova",name:"Uova",color:"bg-yellow-100 text-yellow-800"},{id:"pesce",name:"Pesce",color:"bg-blue-100 text-blue-800"},{id:"arachidi",name:"Arachidi",color:"bg-amber-100 text-amber-800"},{id:"soia",name:"Soia",color:"bg-green-100 text-green-800"},{id:"latte",name:"Latte",color:"bg-indigo-100 text-indigo-800"},{id:"frutta_guscio",name:"Frutta a guscio",color:"bg-purple-100 text-purple-800"},{id:"sedano",name:"Sedano",color:"bg-lime-100 text-lime-800"},{id:"senape",name:"Senape",color:"bg-yellow-100 text-yellow-800"},{id:"sesamo",name:"Sesamo",color:"bg-orange-100 text-orange-800"},{id:"solfiti",name:"Solfiti",color:"bg-red-100 text-red-800"},{id:"lupini",name:"Lupini",color:"bg-green-100 text-green-800"},{id:"molluschi",name:"Molluschi",color:"bg-blue-100 text-blue-800"}],Ar=[{id:"latticini",name:"Latticini e Formaggi",color:"bg-blue-100 text-blue-800",temp:"4-5°C",storage:"Ripiani intermedi frigo",description:"Latte, formaggi freschi e stagionati"},{id:"carni",name:"Carni e Salumi",color:"bg-red-100 text-red-800",temp:"2-4°C",storage:"Ripiano inferiore frigo",description:"Carni crude, salumi, pollame"},{id:"verdure",name:"Verdure e Ortaggi",color:"bg-green-100 text-green-800",temp:"6-8°C",storage:"Cassetto frutta/verdura",description:"Verdure fresche, ortaggi, insalate"},{id:"frutta",name:"Frutta Fresca",color:"bg-orange-100 text-orange-800",temp:"6-8°C",storage:"Cassetto frutta/verdura",description:"Frutta fresca di stagione"},{id:"pesce_fresco",name:"Pesce Fresco",color:"bg-cyan-100 text-cyan-800",temp:"1-3°C",storage:"Ripiano inferiore frigo",description:"Pesce fresco, molluschi, crostacei"},{id:"pesce_surgelato",name:"Pesce Surgelato",color:"bg-indigo-100 text-indigo-800",temp:"-18°C",storage:"Freezer",description:"Pesce e prodotti della pesca surgelati"},{id:"surgelati",name:"Surgelati",color:"bg-indigo-100 text-indigo-800",temp:"-18°C",storage:"Freezer",description:"Tutti i prodotti surgelati"},{id:"dispensa",name:"Dispensa Secca",color:"bg-yellow-100 text-yellow-800",temp:"Ambiente",storage:"Scaffali dispensa",description:"Pasta, riso, farina, conserve"},{id:"condimenti",name:"Oli e Condimenti",color:"bg-amber-100 text-amber-800",temp:"Ambiente",storage:"Scaffali condimenti",description:"Oli, aceti, spezie, salse"}],J4=[{id:"latticini",name:"Latticini e Formaggi",description:"Latte, formaggi freschi e stagionati"},{id:"carni",name:"Carni e Salumi",description:"Carni crude, salumi, pollame"},{id:"verdure",name:"Verdure e Ortaggi",description:"Verdure fresche, ortaggi, insalate"},{id:"frutta",name:"Frutta Fresca",description:"Frutta fresca di stagione"},{id:"pesce_fresco",name:"Pesce Fresco",description:"Pesce fresco, molluschi, crostacei"},{id:"pesce_surgelato",name:"Pesce Surgelato",description:"Pesce e prodotti della pesca surgelati"},{id:"surgelato",name:"Surgelati",description:"Tutti i prodotti surgelati"},{id:"dispensa",name:"Dispensa Secca",description:"Pasta, riso, farina, conserve"},{id:"condimenti",name:"Oli e Condimenti",description:"Oli, aceti, spezie, salse"},{id:"hot_holding",name:"Mantenimento Caldo",description:"Piatti pronti caldi, mantenuti a temperatura"},{id:"altro",name:"Altro",description:"Altre categorie di prodotti"}];function X4({products:e=[],setProducts:t,currentUser:n,refrigerators:i=[]}){var Ue;const[a,s]=se.useState(!1),[l,c]=se.useState(null),[d,p]=se.useState(""),[x,m]=se.useState(""),[y,g]=se.useState(""),[_,b]=se.useState(""),[A,N]=se.useState(""),[w,L]=se.useState(""),[J,ee]=se.useState(!1),[fe,H]=se.useState(""),[R,te]=se.useState([]),[oe,D]=se.useState(!1),[z,E]=se.useState([]),[$,re]=se.useState(!1),[ue,ye]=se.useState(""),[X,he]=se.useState(""),[ne,Le]=se.useState(""),[k,q]=se.useState(""),[G,Y]=se.useState([]),[Z,K]=se.useState(!1),[le,j]=se.useState([]),[V,F]=se.useState(!1),[ae,be]=se.useState([]),[Me,xe]=se.useState(!1),[W,rt]=se.useState([]),[Xe,ze]=se.useState(!1),[Ee,qe]=se.useState({orderId:"",supplierName:"",orderDate:"",expectedDelivery:"",notes:""}),[Ce,Re]=se.useState({name:"",category:"",expiryDate:"",location:"",allergens:[],notes:"",lotNumber:"",batchDeliveryDate:"",associatedOrderId:"",supplierName:"",temperatureSuggestion:null,storageSuggestion:null});se.useEffect(()=>{localStorage.setItem("haccp-products",JSON.stringify(e))},[e]),se.useEffect(()=>{const T=localStorage.getItem("haccp-suppliers");T&&te(JSON.parse(T));const _e=localStorage.getItem("haccp-used-ingredients");_e&&be(JSON.parse(_e));const Ae=localStorage.getItem("haccp-custom-categories");Ae&&rt(JSON.parse(Ae))},[]),se.useEffect(()=>{localStorage.setItem("haccp-used-ingredients",JSON.stringify(ae))},[ae]),se.useEffect(()=>{localStorage.setItem("haccp-custom-categories",JSON.stringify(W))},[W]),se.useEffect(()=>{const T=_e=>{J&&!_e.target.closest(".supplier-dropdown")&&(ee(!1),H(""))};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[J]);const tt=T=>{const _e=new Date;let Ae=7;if(T==="latticini")Ae=7;else if(T==="carni")Ae=3;else if(T==="pesce_fresco")Ae=2;else if(T==="verdure")Ae=7;else if(T==="frutta")Ae=7;else if(T==="dispensa")Ae=365;else if(T==="condimenti")Ae=730;else if(T==="surgelati"||T==="pesce_surgelato")Ae=180;else if(W.find(yt=>yt.id===T)){const yt=W.find($t=>$t.id===T),$e=(yt.temperatureMin+yt.temperatureMax)/2;$e<=-13.5?Ae=180:$e>=15?Ae=365:Ae=7}const et=new Date(_e);return et.setDate(_e.getDate()+Ae),et.toISOString().split("T")[0]},it=T=>{const _e=new Date,et=new Date(T)-_e,yt=Math.ceil(et/(1e3*60*60*24));return yt<0?{status:"expired",label:"Scaduto",color:"bg-red-100 text-red-800"}:yt<=3?{status:"critical",label:`${yt} giorni`,color:"bg-red-100 text-red-800"}:yt<=7?{status:"warning",label:`${yt} giorni`,color:"bg-yellow-100 text-yellow-800"}:{status:"ok",label:`${yt} giorni`,color:"bg-green-100 text-green-800"}},ct=()=>{Re({name:"",category:"",expiryDate:"",location:"",allergens:[],notes:"",lotNumber:"",batchDeliveryDate:"",associatedOrderId:"",supplierName:"",temperatureSuggestion:null,storageSuggestion:null}),c(null)},kt=T=>{var yt,$e,$t;if(i.length===0)return"";let _e;if(Ar.find(Lt=>Lt.id===T))_e=Cc(T);else if(W.find(Lt=>Lt.id===T)){const Lt=W.find(Ut=>Ut.id===T);_e={min:Lt.temperatureMin,max:Lt.temperatureMax,unit:"°C",type:Lt.temperatureMin<=-13.5?"frozen":Lt.temperatureMin>=15?"ambient":"refrigerated"}}else return((yt=i[0])==null?void 0:yt.name)||"";if(!_e)return(($e=i[0])==null?void 0:$e.name)||"";let Ae=null,et=-1;return i.forEach(Lt=>{if(!Lt.setTemperatureMin||!Lt.setTemperatureMax)return;const Ut=parseFloat(Lt.setTemperatureMin),Vt=parseFloat(Lt.setTemperatureMax);if(isNaN(Ut)||isNaN(Vt))return;let Rt=0;if(Ut<=_e.max&&Vt>=_e.min||_e.min<=Vt&&_e.max>=Ut){Rt+=100;const Fr=Math.abs((Ut+Vt)/2-(_e.min+_e.max)/2);Rt+=Math.max(0,50-Fr*10),Lt.dedicatedTo===T&&(Rt+=50),Rt>et&&(et=Rt,Ae=Lt)}}),Ae||i.forEach(Lt=>{if(!Lt.setTemperatureMin||!Lt.setTemperatureMax)return;const Ut=parseFloat(Lt.setTemperatureMin),Vt=parseFloat(Lt.setTemperatureMax);if(isNaN(Ut)||isNaN(Vt))return;const Rt=(Ut+Vt)/2,On=(_e.min+_e.max)/2,Fr=Math.abs(Rt-On);if(Fr<10){const dr=50-Fr*5;dr>et&&(et=dr,Ae=Lt)}}),(Ae==null?void 0:Ae.name)||(($t=i[0])==null?void 0:$t.name)||""},Ft=T=>{Re({name:T.name,category:T.category,expiryDate:tt(T.category),location:T.defaultLocation||"",allergens:T.allergens||[],notes:"",lotNumber:"",batchDeliveryDate:"",associatedOrderId:"",supplierName:"",temperatureSuggestion:null,storageSuggestion:null}),s(!0)},ot=T=>{if(T.preventDefault(),!Ce.name.trim()||!Ce.expiryDate||!Ce.location.trim())return;const _e=Zn(Ce.category,Ce.location);if(!_e.isCompatible){alert(_e.message);return}if(l){const Ae=e.map(et=>et.id===l.id?{...et,...Ce,updatedAt:new Date().toISOString()}:et);t(Ae),c(null)}else{const Ae={id:`prod_${Date.now()}`,...Ce,addedBy:n==null?void 0:n.id,addedByName:n==null?void 0:n.name,addedAt:new Date().toISOString(),updatedAt:new Date().toISOString()};t([...e,Ae])}ct(),s(!1)},ht=T=>{c(T),Re({name:T.name,category:T.category,expiryDate:T.expiryDate,location:T.location,allergens:T.allergens||[],notes:T.notes||"",lotNumber:T.lotNumber||"",batchDeliveryDate:T.batchDeliveryDate||"",associatedOrderId:T.associatedOrderId||"",supplierName:T.supplierName||"",temperatureSuggestion:null,storageSuggestion:null}),s(!0)},Ve=T=>{t(e.filter(_e=>_e.id!==T))},an=T=>{Re(_e=>({..._e,allergens:_e.allergens.includes(T)?_e.allergens.filter(Ae=>Ae!==T):[..._e.allergens,T]}))},Ct=T=>{be(_e=>_e.filter(Ae=>Ae.id!==T.id)),Re({name:T.name,category:T.category,expiryDate:tt(T.category),location:T.location||"",allergens:T.allergens||[],notes:T.notes||"",lotNumber:T.lotNumber||"",batchDeliveryDate:T.batchDeliveryDate||"",associatedOrderId:T.associatedOrderId||"",supplierName:T.supplierName||"",temperatureSuggestion:null,storageSuggestion:null}),s(!0),xe(!1)},Zt=T=>{E(_e=>_e.includes(T)?_e.filter(Ae=>Ae!==T):[..._e,T])},Dt=()=>{t(e.filter(T=>!z.includes(T.id))),E([]),D(!1)},Xt=()=>{t([]),re(!1)},Zn=(T,_e)=>{const Ae=i.find($e=>$e.name===_e);if(!Ae||!Ae.dedicatedTo||Ae.dedicatedTo===T)return{isCompatible:!0,message:null};let et;if(Ar.find($e=>$e.id===T))et=Cc(T);else if(W.find($e=>$e.id===T)){const $e=W.find($t=>$t.id===T);et={min:$e.temperatureMin,max:$e.temperatureMax,unit:"°C",type:$e.temperatureMin<=-13.5?"frozen":$e.temperatureMin>=15?"ambient":"refrigerated"}}else return{isCompatible:!1,message:"Categoria prodotto non riconosciuta"};if(Ae.setTemperatureMin<=et.max&&Ae.setTemperatureMax>=et.min||et.min<=Ae.setTemperatureMax&&et.max>=Ae.setTemperatureMin){if(Math.abs(Ae.setTemperatureMin-et.min)>2||Math.abs(Ae.setTemperatureMax-et.max)>2)return{isCompatible:!0,message:`⚠️ ATTENZIONE: Temperatura non ottimale!

Il PDC "${Ae.name}" ha temperatura: ${Ae.setTemperatureMin}-${Ae.setTemperatureMax}°C
Il prodotto richiede temperatura: ${et.min}-${et.max}°C

La temperatura è compatibile ma potrebbe non essere ideale per la conservazione ottimale.

Vuoi continuare comunque o preferisci scegliere un altro PDC?`}}else return{isCompatible:!1,message:`🚨 ERRORE: Temperatura INCOMPATIBILE!

Il PDC "${Ae.name}" ha temperatura: ${Ae.setTemperatureMin}-${Ae.setTemperatureMax}°C
Il prodotto richiede temperatura: ${et.min}-${et.max}°C

❌ NON puoi inserire questo prodotto in questo PDC!

Scegli un altro PDC con temperatura compatibile.`};return{isCompatible:!0,message:null}},It=()=>{const T=new ft;T.setFontSize(20),T.text("Lista della Spesa",20,30),T.setFontSize(12),T.text(`Data: ${new Date().toLocaleDateString("it-IT")}`,20,45),T.text(`Generato da: ${(n==null?void 0:n.name)||"N/A"} (${(n==null?void 0:n.role)==="admin"?"Amministratore":"Dipendente"})`,20,57);const _e=e.filter(Ae=>G.includes(Ae.id));if(_e.length===0)T.text("Nessun prodotto selezionato",20,60);else{T.text(`Prodotti finiti (${_e.length}):`,20,72);let Ae=87;_e.forEach((et,yt)=>{const $e=Ar.find($t=>$t.id===et.category);T.text(`${yt+1}. ${et.name}`,25,Ae),T.setFontSize(10),T.text(`   Categoria: ${($e==null?void 0:$e.name)||"N/A"} | Posizione: ${et.location}`,25,Ae+8),T.setFontSize(12),Ae+=20,Ae>250&&(T.addPage(),Ae=30)})}T.save(`lista-spesa-${new Date().toISOString().split("T")[0]}.pdf`),K(!1),Y([])},Er=T=>{Y(_e=>_e.includes(T)?_e.filter(Ae=>Ae!==T):[..._e,T])},en=T=>{j(_e=>_e.includes(T)?_e.filter(Ae=>Ae!==T):[..._e,T])},Fn=T=>{T.preventDefault(),e.filter(Ae=>le.includes(Ae.id));const _e=e.map(Ae=>le.includes(Ae.id)?{...Ae,associatedOrderId:Ee.orderId,supplierName:Ee.supplierName,batchDeliveryDate:Ee.expectedDelivery,lotNumber:`L${new Date().toISOString().slice(2,10).replace(/-/g,"")}${Math.random().toString(36).substr(2,3).toUpperCase()}`}:Ae);t(_e),j([]),F(!1),qe({orderId:"",supplierName:"",orderDate:"",expectedDelivery:"",notes:""})},Bt=e.filter(T=>{var $e;const _e=d.toLowerCase(),Ae=!d||T.name.toLowerCase().includes(_e)||(($e=Ar.find($t=>$t.id===T.category))==null?void 0:$e.name.toLowerCase().includes(_e))||T.allergens&&T.allergens.some($t=>{var Lt;return(Lt=Vl.find(Ut=>Ut.id===$t))==null?void 0:Lt.name.toLowerCase().includes(_e)})||T.location&&T.location.toLowerCase().includes(_e),et=!x||T.category===x,yt=!y||it(T.expiryDate).status===y;return Ae&&et&&yt}),Ot={total:e.length,expired:e.filter(T=>it(T.expiryDate).status==="expired").length,warning:e.filter(T=>it(T.expiryDate).status==="warning").length,byCategory:e.reduce((T,_e)=>(T[_e.category]=(T[_e.category]||0)+1,T),{})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(Ge,{children:r.jsx(Je,{className:"p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx($n,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Ot.total}),r.jsx("p",{className:"text-sm text-gray-600",children:"Totale Prodotti"})]})]})})}),r.jsx(Ge,{children:r.jsx(Je,{className:"p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Mr,{className:"h-8 w-8 text-red-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:Ot.expired}),r.jsx("p",{className:"text-sm text-gray-600",children:"Scaduti"})]})]})})}),r.jsx(Ge,{children:r.jsx(Je,{className:"p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(tm,{className:"h-8 w-8 text-yellow-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Ot.warning}),r.jsx("p",{className:"text-sm text-gray-600",children:"In Scadenza"})]})]})})}),r.jsx(Ge,{children:r.jsx(Je,{className:"p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(nm,{className:"h-8 w-8 text-green-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:Ot.byCategory.latticini||0}),r.jsx("p",{className:"text-sm text-gray-600",children:"Latticini"})]})]})})})]}),r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-5 w-5"}),"Gestione Inventario"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ge,{onClick:()=>s(!a),children:a?r.jsxs(r.Fragment,{children:[r.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Annulla"]}):r.jsxs(r.Fragment,{children:[r.jsx(xr,{className:"h-4 w-4 mr-2"}),"Aggiungi Prodotto"]})}),r.jsxs(ge,{variant:"outline",onClick:()=>xe(!Me),className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-4 w-4"}),"Ingredienti Utilizzati (",ae.length,")"]})]})]})}),r.jsxs(Je,{children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(at,{placeholder:"Cerca per nome, categoria, allergene o posizione...",value:d,onChange:T=>p(T.target.value),className:"w-full pl-10"})]})}),r.jsxs("select",{value:x,onChange:T=>m(T.target.value),className:"px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Tutte le categorie"}),Ar.map(T=>r.jsx("option",{value:T.id,children:T.name},T.id))]}),r.jsxs("select",{value:y,onChange:T=>g(T.target.value),className:"px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Tutte le scadenze"}),r.jsx("option",{value:"expired",children:"Scaduti"}),r.jsx("option",{value:"critical",children:"Critici (≤3 giorni)"}),r.jsx("option",{value:"warning",children:"In scadenza (≤7 giorni)"}),r.jsx("option",{value:"ok",children:"OK (>7 giorni)"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 p-4 bg-gray-50 rounded",children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"🏷️ Filtra per Lotto"}),r.jsx(at,{placeholder:"Numero lotto...",value:_,onChange:T=>b(T.target.value),className:"w-full"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"🏪 Filtra per Fornitore"}),r.jsx(at,{placeholder:"Nome fornitore...",value:A,onChange:T=>N(T.target.value),className:"w-full"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"📋 Filtra per Fattura/DDT"}),r.jsx(at,{placeholder:"Fattura N° / DDT N°",value:w,onChange:T=>L(T.target.value),className:"w-full"})]})]})]})]}),a&&r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsx(gt,{children:l?"Modifica Prodotto":"Aggiungi Nuovo Prodotto"})}),r.jsxs(Je,{children:[r.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"text-blue-600 mt-1",children:r.jsx(Mr,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"🆕 Nuova Logica di Validazione"}),r.jsx("p",{className:"text-sm text-blue-700 mb-2",children:"Ora l'applicazione verifica automaticamente la compatibilità tra categorie di prodotti e punti di conservazione:"}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 list-disc list-inside",children:[r.jsx("li",{children:"I frigoriferi possono essere dedicati a categorie specifiche"}),r.jsx("li",{children:"I prodotti possono essere inseriti solo in frigoriferi compatibili"}),r.jsx("li",{children:"Viene mostrato un avviso in caso di conflitto"}),r.jsx("li",{children:"Puoi aggiungere nuove categorie personalizzate"})]})]})]})}),r.jsxs("form",{onSubmit:ot,className:"space-y-4",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"Nome Prodotto *"}),r.jsx(at,{value:Ce.name,onChange:T=>{const _e=T.target.value;if(Re({...Ce,name:_e}),_e.length>3){const Ae=O2(_e);if(Ae&&Ae.length>0){const et=Ae[0],yt=Vy(_e,i);Re($e=>({...$e,name:_e,temperatureSuggestion:et,storageSuggestion:yt}))}else Re(et=>({...et,name:_e,temperatureSuggestion:null,storageSuggestion:null}))}},placeholder:"Es. Mozzarella di Bufala",required:!0}),Ce.temperatureSuggestion&&r.jsx("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(bn,{className:"h-4 w-4 text-green-600 mt-0.5"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-green-800 mb-1",children:"🌡️ Suggerimento Temperatura EU/ASL"}),r.jsxs("p",{className:"text-green-700 mb-1",children:[r.jsx("strong",{children:"Temperatura consigliata:"})," ",Ce.temperatureSuggestion.temp_celsius]}),r.jsxs("p",{className:"text-green-700 mb-1",children:[r.jsx("strong",{children:"Categoria:"})," ",Ce.temperatureSuggestion.conservation_category==="refrigerated"?"Refrigerato":Ce.temperatureSuggestion.conservation_category==="frozen"?"Surgelato":Ce.temperatureSuggestion.conservation_category==="hot-holding"?"Mantenuto Caldo":"Temperatura Ambiente"]}),Ce.temperatureSuggestion.notes&&r.jsxs("p",{className:"text-green-700 mb-2",children:[r.jsx("strong",{children:"Note:"})," ",Ce.temperatureSuggestion.notes]}),Ce.storageSuggestion&&Ce.storageSuggestion.refrigerator&&r.jsxs("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded",children:[r.jsx("p",{className:"font-medium text-blue-800 mb-1",children:"📍 Punto di Conservazione Suggerito"}),r.jsxs("p",{className:"text-blue-700 text-xs",children:[r.jsx("strong",{children:"Frigorifero:"})," ",Ce.storageSuggestion.refrigerator.name]}),r.jsxs("p",{className:"text-blue-700 text-xs",children:[r.jsx("strong",{children:"Temperatura:"})," ",Ce.storageSuggestion.refrigerator.setTemperature,"°C"]}),r.jsxs("p",{className:"text-blue-700 text-xs",children:[r.jsx("strong",{children:"Punteggio compatibilità:"})," ",Math.round(Ce.storageSuggestion.score),"/100"]}),r.jsx("button",{type:"button",onClick:()=>Re(T=>({...T,location:Ce.storageSuggestion.refrigerator.name})),className:"mt-1 px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:"✅ Usa questo punto"})]}),r.jsxs("div",{className:"text-xs text-green-600",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Fonte:"})," ",Ce.temperatureSuggestion.legal_reference]}),r.jsx("a",{href:Ce.temperatureSuggestion.reference_link,target:"_blank",rel:"noopener noreferrer",className:"text-green-700 underline hover:text-green-800",children:"📖 Leggi la normativa completa"})]})]})]})})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Categoria *"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:Ce.category,onChange:T=>{Re({...Ce,category:T.target.value,location:""})},className:"flex-1 px-3 py-2 border rounded-md",required:!0,children:[r.jsx("option",{value:"",children:"Seleziona una categoria"}),r.jsx("optgroup",{label:"Categorie Predefinite",children:Ar.map(T=>r.jsx("option",{value:T.id,children:T.name},T.id))}),W.length>0&&r.jsx("optgroup",{label:"Categorie Personalizzate",children:W.map(T=>r.jsx("option",{value:T.id,children:T.name},T.id))})]}),r.jsx(ge,{type:"button",variant:"outline",onClick:()=>ze(!0),className:"px-3 py-2",title:"Gestisci categorie personalizzate",children:r.jsx(xr,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Data Scadenza *"}),r.jsx(at,{type:"date",value:Ce.expiryDate,onChange:T=>Re({...Ce,expiryDate:T.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Posizione *"}),r.jsxs("select",{value:Ce.location,onChange:T=>Re({...Ce,location:T.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0,disabled:i.length===0,children:[r.jsx("option",{value:"",children:i.length>0?"Seleziona un frigorifero":"Nessun frigorifero registrato - Aggiungi prima un frigorifero"}),i.map(T=>{const _e=!T.dedicatedTo||T.dedicatedTo===Ce.category,Ae=_e?"✅ Compatibile":"❌ Categoria non compatibile";return r.jsxs("option",{value:T.name,disabled:!_e,children:[T.name," - ",T.location||"Posizione non specificata"," ",Ae]},T.id)})]}),i.length===0&&r.jsx("p",{className:"text-sm text-orange-600 mt-1",children:'⚠️ Devi prima registrare almeno un punto di conservazione nella sezione "Punti di Conservazione"'}),Ce.category&&Ce.location&&(()=>{var _e,Ae;const T=i.find(et=>et.name===Ce.location);return T&&T.dedicatedTo&&T.dedicatedTo!==Ce.category?r.jsx("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[r.jsx(Mr,{className:"h-4 w-4"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"⚠️ Conflitto di Categoria"}),r.jsxs("p",{className:"text-sm",children:['Il frigorifero "',T.name,'" è dedicato alla categoria "',((_e=J4.find(et=>et.id===T.dedicatedTo))==null?void 0:_e.name)||T.dedicatedTo,'"']}),r.jsxs("p",{className:"text-sm",children:['Il prodotto "',Ce.name,'" appartiene alla categoria "',(Ae=Ar.find(et=>et.id===Ce.category))==null?void 0:Ae.name,'"']}),r.jsx("p",{className:"text-sm font-medium",children:"Scegli un frigorifero compatibile o modifica la categoria del prodotto."})]})]})}):null})()]})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Allergeni"}),r.jsx("div",{className:"grid grid-cols-3 md:grid-cols-7 gap-2 mt-2",children:Vl.map(T=>r.jsx("button",{type:"button",onClick:()=>an(T.id),className:`px-2 py-1 text-xs rounded transition-colors ${Ce.allergens.includes(T.id)?T.color:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:T.name},T.id))})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Note"}),r.jsx(at,{value:Ce.notes,onChange:T=>Re({...Ce,notes:T.target.value}),placeholder:"Note aggiuntive..."})]}),r.jsxs("div",{className:"border-t pt-4 mt-4",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"📋 Informazioni aggiuntive"}),r.jsxs("p",{className:"text-xs text-gray-600 bg-blue-50 p-3 rounded-lg border-l-4 border-blue-200",children:["💡 ",r.jsx("strong",{children:"Perché queste informazioni?"})," Grazie a questi dettagli sarà più facile tracciare i prodotti e ricevere assistenza dall'IA per la gestione dell'inventario."]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"Numero Lotto"}),r.jsx(at,{value:Ce.lotNumber,onChange:T=>Re({...Ce,lotNumber:T.target.value}),placeholder:"es. L240315A"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Data Consegna Lotto"}),r.jsx(at,{type:"date",value:Ce.batchDeliveryDate,onChange:T=>Re({...Ce,batchDeliveryDate:T.target.value})})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"ID Ordine Associato"}),r.jsx(at,{value:Ce.associatedOrderId,onChange:T=>Re({...Ce,associatedOrderId:T.target.value}),placeholder:"Collegamento a ordine/fattura"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Ke,{children:"Nome Fornitore"}),r.jsxs("div",{className:"relative",children:[r.jsx(at,{value:Ce.supplierName,onChange:T=>Re({...Ce,supplierName:T.target.value}),onFocus:()=>ee(!0),placeholder:"Cerca o digita nome fornitore...",className:"pr-10"}),r.jsx("button",{type:"button",onClick:()=>ee(!J),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1",children:r.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),J&&r.jsxs("div",{className:"supplier-dropdown absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[r.jsx("div",{className:"p-2 border-b",children:r.jsx(at,{placeholder:"Cerca fornitori...",value:fe,onChange:T=>H(T.target.value),className:"w-full"})}),r.jsxs("div",{className:"py-1",children:[R.filter(T=>T.name.toLowerCase().includes(fe.toLowerCase())||T.piva&&T.piva.toLowerCase().includes(fe.toLowerCase())).map(T=>r.jsxs("button",{type:"button",onClick:()=>{Re({...Ce,supplierName:T.name}),ee(!1),H("")},className:"w-full px-3 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",children:[r.jsx("div",{className:"font-medium",children:T.name}),T.piva&&r.jsxs("div",{className:"text-xs text-gray-500",children:["P.IVA: ",T.piva]})]},T.id)),R.filter(T=>T.name.toLowerCase().includes(fe.toLowerCase())||T.piva&&T.piva.toLowerCase().includes(fe.toLowerCase())).length===0&&r.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:"Nessun fornitore trovato"})]})]})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ge,{type:"submit",children:[l?"Aggiorna":"Aggiungi"," Prodotto"]}),r.jsx(ge,{type:"button",variant:"outline",onClick:ct,children:"Annulla"})]})]})]})]}),Me&&r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-5 w-5 text-gray-600"}),"Ingredienti già Utilizzati (",ae.length,")"]})}),r.jsx(Je,{children:ae.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx($n,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),r.jsx("p",{className:"text-lg font-medium",children:"Nessun ingrediente utilizzato"}),r.jsx("p",{className:"text-sm",children:"Gli ingredienti scaduti spostati qui appariranno in questa sezione"})]}):r.jsx("div",{className:"space-y-3",children:ae.map(T=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border rounded-lg opacity-75",children:[r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-700",children:T.name}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[r.jsxs("span",{className:"flex items-center gap-1",children:["📦 ",T.category]}),r.jsxs("span",{children:["📅 Scaduto: ",new Date(T.originalExpiryDate).toLocaleDateString("it-IT")]}),r.jsxs("span",{children:["📍 ",T.location]})]}),T.movedToUsedAt&&r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Spostato il ",new Date(T.movedToUsedAt).toLocaleDateString("it-IT")," da ",T.movedBy]})]})})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ge,{onClick:()=>Ct(T),size:"sm",className:"bg-green-600 hover:bg-green-700",children:"✅ Reinserisci"}),r.jsx(ge,{onClick:()=>{confirm("Sei sicuro di voler eliminare definitivamente questo ingrediente?")&&be(_e=>_e.filter(Ae=>Ae.id!==T.id))},variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:"🗑️"})]})]},T.id))})})]}),r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-5 w-5"}),"Ordini e Spesa"]})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"🛒 Lista della Spesa"}),r.jsx(ge,{onClick:()=>K(!0),disabled:G.length===0,size:"sm",variant:"outline",children:"📄 Genera PDF"})]}),r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Bt.length===0?r.jsxs("div",{className:"text-center py-4 text-gray-500",children:[r.jsx("p",{className:"text-sm",children:"Nessun prodotto disponibile per la lista della spesa"}),r.jsx("p",{className:"text-xs",children:"Aggiungi prodotti all'inventario per iniziare"})]}):Bt.map(T=>{const _e=G.includes(T.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-gray-50",children:[r.jsx("input",{type:"checkbox",checked:_e,onChange:()=>Er(T.id),className:"mr-3 w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-sm",children:T.name}),r.jsx("div",{className:"text-xs text-gray-500",children:T.location})]})]},T.id)})}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Prodotti selezionati: ",G.length]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"📋 Gestione Ordini"}),r.jsx(ge,{onClick:()=>F(!0),disabled:le.length===0,size:"sm",variant:"outline",children:"📝 Crea Ordine"})]}),r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Bt.length===0?r.jsxs("div",{className:"text-center py-4 text-gray-500",children:[r.jsx("p",{className:"text-sm",children:"Nessun prodotto disponibile per gli ordini"}),r.jsx("p",{className:"text-xs",children:"Aggiungi prodotti all'inventario per iniziare"})]}):Bt.map(T=>{const _e=le.includes(T.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded hover:bg-gray-50",children:[r.jsx("input",{type:"checkbox",checked:_e,onChange:()=>en(T.id),className:"mr-3 w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-sm",children:T.name}),r.jsx("div",{className:"text-xs text-gray-500",children:T.location})]})]},T.id)})}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Prodotti selezionati: ",le.length]})]})]})})]}),!a&&r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-5 w-5"}),"Categorie di Prodotti"]})}),r.jsxs(Je,{children:[r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:Ar.map(T=>{const _e=w1.filter(Ae=>Ae.category===T.id);return r.jsx("div",{className:"space-y-2",children:r.jsxs("button",{onClick:()=>m(x===T.id?"":T.id),className:`w-full p-4 text-left rounded-lg border-2 transition-colors ${x===T.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[r.jsx("div",{className:`inline-flex px-2 py-1 text-xs rounded-full ${T.color} mb-2`,children:T.name}),r.jsx("div",{className:"text-sm font-medium",children:T.temp}),r.jsx("div",{className:"text-xs text-gray-600",children:T.storage}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[_e.length," prodotti"]})]})},T.id)})}),x&&r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("h4",{className:"font-medium mb-3",children:["Prodotti ",(Ue=Ar.find(T=>T.id===x))==null?void 0:Ue.name,":"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:w1.filter(T=>T.category===x).map(T=>r.jsx("button",{onClick:()=>Ft(T),className:"p-3 text-left bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors group",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-sm text-green-900",children:T.name}),r.jsx("div",{className:"text-xs text-green-700 mt-1",children:i.length>0?kt(T.category):"Nessun frigorifero registrato"}),T.allergens.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:T.allergens.map(_e=>{const Ae=Vl.find(et=>et.id===_e);return r.jsx("span",{className:`px-1 py-0.5 text-xs rounded ${Ae==null?void 0:Ae.color}`,children:Ae==null?void 0:Ae.name},_e)})})]}),r.jsx(xr,{className:"h-4 w-4 text-green-600 group-hover:text-green-800"})]})},T.id))})]}),!x&&r.jsxs("div",{className:"text-center py-6 text-gray-500",children:[r.jsx($n,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),r.jsx("p",{className:"text-sm",children:"Seleziona una categoria sopra per vedere i prodotti disponibili"})]})]})]}),r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs(gt,{children:["Prodotti nell'inventario (",Bt.length,")"]}),r.jsx("div",{className:"flex gap-2",children:e.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(ge,{onClick:()=>D(!0),className:"flex items-center gap-2",variant:"outline",children:"🗑️ Rimuovi Prodotti"}),r.jsx(ge,{onClick:()=>re(!0),className:"flex items-center gap-2",variant:"destructive",children:"❌ Cancella Tutto l'Inventario"})]})})]})}),r.jsx(Je,{children:Bt.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx($n,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),r.jsx("p",{className:"text-gray-600",children:e.length===0?"Inventario vuoto. Inizia aggiungendo prodotti con i pulsanti categoria sopra!":"Nessun prodotto trovato con i filtri attuali"})]}):r.jsx("div",{className:"space-y-3",children:Bt.map(T=>{const _e=Ar.find(et=>et.id===T.category),Ae=it(T.expiryDate);return r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"font-medium",children:T.name}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_e==null?void 0:_e.color}`,children:_e==null?void 0:_e.name}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Ae.color}`,children:Ae.label})]}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("div",{children:["📍 ",T.location]}),r.jsxs("div",{children:["📅 Scade: ",new Date(T.expiryDate).toLocaleDateString("it-IT")]}),r.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 pt-2 border-t border-gray-100",children:[T.lotNumber&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-blue-600",children:"🏷️"}),r.jsx("span",{className:"font-medium",children:"Lotto:"}),r.jsx("span",{children:T.lotNumber})]}),T.batchDeliveryDate&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-green-600",children:"📦"}),r.jsx("span",{className:"font-medium",children:"Consegna:"}),r.jsx("span",{children:new Date(T.batchDeliveryDate).toLocaleDateString("it-IT")})]}),T.supplierName&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-purple-600",children:"🏪"}),r.jsx("span",{className:"font-medium",children:"Fornitore:"}),r.jsx("span",{children:T.supplierName})]}),T.associatedOrderId&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-orange-600",children:"📋"}),r.jsx("span",{className:"font-medium",children:"Fattura:"}),r.jsx("span",{children:T.associatedOrderId})]})]}),T.allergens&&T.allergens.length>0&&r.jsxs("div",{className:"flex gap-1 flex-wrap",children:[r.jsx("span",{children:"🚨"}),T.allergens.map(et=>{const yt=Vl.find($e=>$e.id===et);return r.jsx("span",{className:`px-2 py-1 text-xs rounded ${yt==null?void 0:yt.color}`,children:yt==null?void 0:yt.name},et)})]}),T.addedByName&&r.jsxs("div",{className:"text-xs text-gray-500",children:["Aggiunto da: ",T.addedByName," • ",new Date(T.createdAt).toLocaleDateString("it-IT")]})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx(ge,{size:"sm",variant:"outline",onClick:()=>ht(T),children:r.jsx(zo,{className:"h-4 w-4"})}),r.jsx(ge,{size:"sm",variant:"outline",onClick:()=>Ve(T.id),className:"text-red-600 hover:text-red-800",children:r.jsx(Yn,{className:"h-4 w-4"})})]})]})},T.id)})})})]}),oe&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"🗑️ Rimuovi Prodotti"}),r.jsx(ge,{onClick:()=>{D(!1),ye(""),he(""),Le(""),q("")},variant:"outline",size:"sm",children:"✕ Chiudi"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(at,{placeholder:"Cerca prodotti da rimuovere...",value:ue,onChange:T=>ye(T.target.value),className:"w-full pl-10"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("select",{value:X,onChange:T=>he(T.target.value),className:"px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Tutte le categorie"}),Ar.map(T=>r.jsx("option",{value:T.id,children:T.name},T.id))]}),r.jsxs("select",{value:ne,onChange:T=>Le(T.target.value),className:"px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Tutte le scadenze"}),r.jsx("option",{value:"expired",children:"Scaduti"}),r.jsx("option",{value:"critical",children:"Critici (≤3 giorni)"}),r.jsx("option",{value:"warning",children:"In scadenza (≤7 giorni)"}),r.jsx("option",{value:"ok",children:"OK (>7 giorni)"})]}),r.jsxs("select",{value:k,onChange:T=>q(T.target.value),className:"px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"Tutti gli allergeni"}),Vl.map(T=>r.jsx("option",{value:T.id,children:T.name},T.id))]})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Seleziona i prodotti da rimuovere dall'inventario:"}),r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Bt.filter(T=>{var $e,$t;const _e=!ue||T.name.toLowerCase().includes(ue.toLowerCase())||(($e=T.location)==null?void 0:$e.toLowerCase().includes(ue.toLowerCase()))||(($t=Ar.find(Lt=>Lt.id===T.category))==null?void 0:$t.name.toLowerCase().includes(ue.toLowerCase())),Ae=!X||T.category===X;let et=!0;ne&&(et=it(T.expiryDate).status===ne);const yt=!k||T.allergens&&T.allergens.includes(k);return _e&&Ae&&et&&yt}).map(T=>{const _e=z.includes(T.id);return r.jsxs("div",{className:"flex items-center p-2 border rounded",children:[r.jsx("input",{type:"checkbox",checked:_e,onChange:()=>Zt(T.id),className:"mr-3 w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:T.name}),r.jsx("div",{className:"text-sm text-gray-500",children:T.location})]})]},T.id)})})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(ge,{onClick:Dt,disabled:z.length===0,variant:"destructive",children:["🗑️ Rimuovi Selezionati (",z.length,")"]}),r.jsx(ge,{onClick:()=>{D(!1),ye(""),he(""),Le(""),q("")},variant:"outline",size:"sm",children:"✕ Chiudi"})]})]})}),$&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"⚠️ Conferma Cancellazione"}),r.jsxs("p",{className:"text-gray-700 mb-6",children:["Sei sicuro di voler ",r.jsx("strong",{children:"cancellare tutto l'inventario"}),"? Questa operazione cancellerà ",r.jsx("strong",{children:"tutti gli ingredienti registrati nell'app"}),"e ",r.jsx("strong",{children:"non può essere annullata"}),"."]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ge,{onClick:Xt,variant:"destructive",children:"❌ Sì, Cancella Tutto"}),r.jsx(ge,{onClick:()=>re(!1),variant:"outline",children:"Annulla"})]})]})}),Z&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"🛒 Lista della Spesa"}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-gray-600 mb-4",children:["Prodotti selezionati per la lista della spesa (",G.length,"):"]}),r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:e.filter(T=>G.includes(T.id)).map(T=>{const _e=Ar.find(Ae=>Ae.id===T.category);return r.jsx("div",{className:"p-3 border rounded-lg",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:T.name}),r.jsxs("div",{className:"text-sm text-gray-600",children:[_e==null?void 0:_e.name," • ",T.location]})]}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_e==null?void 0:_e.color}`,children:_e==null?void 0:_e.name})]})},T.id)})})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ge,{onClick:It,className:"flex-1",children:"📄 Genera PDF"}),r.jsx(ge,{onClick:()=>{K(!1),Y([])},variant:"outline",children:"Annulla"})]})]})}),V&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"📋 Crea Nuovo Ordine"}),r.jsxs("form",{onSubmit:Fn,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{children:"Numero Ordine *"}),r.jsx(at,{value:Ee.orderId,onChange:T=>qe({...Ee,orderId:T.target.value}),placeholder:"es. ORD-2024-001",required:!0})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Fornitore *"}),r.jsx(at,{value:Ee.supplierName,onChange:T=>qe({...Ee,supplierName:T.target.value}),placeholder:"es. Fornitore ABC",required:!0})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Data Ordine *"}),r.jsx(at,{type:"date",value:Ee.orderDate,onChange:T=>qe({...Ee,orderDate:T.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Data Consegna Prevista *"}),r.jsx(at,{type:"date",value:Ee.expectedDelivery,onChange:T=>qe({...Ee,expectedDelivery:T.target.value}),required:!0})]})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Note"}),r.jsx(at,{value:Ee.notes,onChange:T=>qe({...Ee,notes:T.target.value}),placeholder:"Note aggiuntive sull'ordine..."})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("h3",{className:"font-medium mb-3",children:["Prodotti selezionati (",le.length,"):"]}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.filter(T=>le.includes(T.id)).map(T=>{const _e=Ar.find(Ae=>Ae.id===T.category);return r.jsx("div",{className:"p-2 border rounded",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:T.name}),r.jsx("div",{className:"text-xs text-gray-600",children:T.location})]}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_e==null?void 0:_e.color}`,children:_e==null?void 0:_e.name})]})},T.id)})})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ge,{type:"submit",className:"flex-1",children:"📝 Crea Ordine"}),r.jsx(ge,{onClick:()=>{F(!1),j([]),qe({orderId:"",supplierName:"",orderDate:"",expectedDelivery:"",notes:""})},variant:"outline",children:"Annulla"})]})]})]})}),r.jsxs(Ge,{className:"mt-6",children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(rm,{className:"h-5 w-5 text-blue-600"}),"📋 Riferimenti Normativi EU/ASL"]})}),r.jsx(Je,{children:r.jsxs("div",{className:"text-sm text-gray-700 space-y-3",children:[r.jsx("p",{className:"font-medium text-gray-800",children:"Le temperature di conservazione suggerite sono basate sulle seguenti normative europee e italiane:"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"🇪🇺 Regolamento (CE) 853/2004"}),r.jsx("p",{className:"text-blue-700 text-xs mb-1",children:"Allegato III - Requisiti specifici per alimenti di origine animale"}),r.jsx("p",{className:"text-blue-700 text-xs mb-1",children:"• Carni fresche: ≤7°C (frattaglie ≤3°C)"}),r.jsx("p",{className:"text-blue-700 text-xs mb-1",children:"• Pollame: ≤4°C"}),r.jsx("p",{className:"text-blue-700 text-xs mb-1",children:"• Carni macinate: ≤2°C"}),r.jsx("p",{className:"text-blue-700 text-xs mb-1",children:"• Pesce fresco: vicino al ghiaccio in fusione"}),r.jsx("p",{className:"text-blue-700 text-xs mb-1",children:"• Latte crudo: ≤6°C"}),r.jsx("p",{className:"text-blue-700 text-xs mb-1",children:"• Ovoprodotti: ≤4°C"}),r.jsx("a",{href:"https://eur-lex.europa.eu/legal-content/IT/TXT/PDF/?uri=CELEX:32004R0853",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline text-xs hover:text-blue-800",children:"📖 Leggi il regolamento completo"})]}),r.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"🇮🇹 DPR 327/80 (Italia)"}),r.jsx("p",{className:"text-green-700 text-xs mb-1",children:"Prassi storiche richiamate da ASL"}),r.jsx("p",{className:"text-green-700 text-xs mb-1",children:"• Alimenti cotti da mantenere caldi: +60–65°C"}),r.jsx("p",{className:"text-green-700 text-xs mb-1",children:"• Alimenti facilmente deperibili: +4°C"}),r.jsx("p",{className:"text-green-700 text-xs mb-1",children:"• Uova in guscio: temperatura costante"}),r.jsx("p",{className:"text-green-700 text-xs mb-1",children:"• Evitare sbalzi termici"}),r.jsx("p",{className:"text-green-700 text-xs mb-1",children:"• Proteggere da sole e odori"}),r.jsx("p",{className:"text-green-700 text-xs mb-1",children:"• Rispettare etichette produttore"})]})]}),r.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-purple-800 mb-2",children:"❄️ Direttiva 89/108/CEE (Surgelati)"}),r.jsx("p",{className:"text-purple-700 text-xs mb-1",children:"• Catena del freddo continua a -18°C"}),r.jsx("p",{className:"text-purple-700 text-xs mb-1",children:"• Non ricongelare dopo decongelamento"}),r.jsx("p",{className:"text-purple-700 text-xs mb-1",children:"• Brevi fluttuazioni ammesse nel trasporto"}),r.jsx("a",{href:"https://eur-lex.europa.eu/legal-content/IT/ALL/?uri=celex:31989L0108",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 underline text-xs hover:text-purple-800",children:"📖 Leggi la direttiva completa"})]}),r.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"⚠️ Note Importanti"}),r.jsx("p",{className:"text-orange-700 text-xs mb-1",children:"• Le temperature suggerite sono indicative e basate su normative EU/ASL"}),r.jsx("p",{className:"text-orange-700 text-xs mb-1",children:"• Rispettare sempre le indicazioni specifiche del produttore"}),r.jsx("p",{className:"text-orange-700 text-xs mb-1",children:"• In caso di dubbi, consultare le autorità sanitarie locali (ASL)"}),r.jsx("p",{className:"text-orange-700 text-xs mb-1",children:"• Mantenere aggiornate le procedure HACCP aziendali"}),r.jsx("p",{className:"text-orange-700 text-xs mb-1",children:"• Documentare eventuali deviazioni dalle temperature standard"})]})]})})]}),r.jsx(Jy,{customCategories:W,setCustomCategories:rt,showCustomCategoryManager:Xe,setShowCustomCategoryManager:ze})]})}function Y4({productLabels:e=[],setProductLabels:t,products:n=[],currentUser:i}){var ps,ja,Xs,jr,Yi,Gn,Sa,ms;const[a,s]=se.useState("scanner"),[l,c]=se.useState(!1),[d,p]=se.useState("");se.useState(null);const[x,m]=se.useState(""),[y,g]=se.useState(!1),[_,b]=se.useState(!1),[A,N]=se.useState(null),[w,L]=se.useState(!1),[J,ee]=se.useState(null),[fe,H]=se.useState(!1),[R,te]=se.useState([]),[oe,D]=se.useState(!1),[z,E]=se.useState([]),[$,re]=se.useState(!1),[ue,ye]=se.useState(""),[X,he]=se.useState([]),[ne,Le]=se.useState(null),[k,q]=se.useState(!1),[G,Y]=se.useState([]),[Z,K]=se.useState(""),[le,j]=se.useState(""),[V,F]=se.useState(""),[ae,be]=se.useState(1),[Me,xe]=se.useState(20),[W,rt]=se.useState(new Set),[Xe,ze]=se.useState("medium"),[Ee,qe]=se.useState(!1),[Ce,Re]=se.useState([]),[tt,it]=se.useState([]),[ct,kt]=se.useState(""),[Ft,ot]=se.useState(!1),[ht,Ve]=se.useState(null),[an,Ct]=se.useState(""),[Zt,Dt]=se.useState(null);se.useState(null),se.useState(!1);const[Xt,Zn]=se.useState(!1),[It,Er]=se.useState(!1);se.useState("");const[en,Fn]=se.useState(!1),[Bt,Ot]=se.useState(""),[Ue,T]=se.useState({productName:"",barcode:"",expiryDate:"",lotNumber:"",category:"",location:"",notes:"",photo:null,allergens:[]});se.useEffect(()=>{Gs(),_e()},[e]);const _e=()=>{const B=localStorage.getItem("haccp-label-groups");B&&he(JSON.parse(B))},Ae=B=>{he(B),localStorage.setItem("haccp-label-groups",JSON.stringify(B))},et=()=>{D(!oe),E([])},yt=B=>{E(je=>je.includes(B)?je.filter(Oe=>Oe!==B):[...je,B])},$e=()=>{const B=Ji.map(je=>je.id);E(B)},$t=()=>{E([])},Lt=()=>{if(z.length===0){alert("Seleziona almeno una etichetta");return}re(!0)},Ut=()=>{if(!ue.trim()){alert("Inserisci un nome per il gruppo");return}const je=e.filter(ut=>z.includes(ut.id)).reduce((ut,xt)=>{const At=new Date(xt.createdAt);return At>ut?At:ut},new Date(0)),Oe={id:`group_${Date.now()}`,name:ue,labelIds:z,labelCount:z.length,createdAt:new Date().toISOString(),createdBy:i.name,lastUpdate:je.toISOString()},Nt=[...X,Oe];Ae(Nt),E([]),D(!1),re(!1),ye("")},Vt=()=>{const B=prompt("Nome del nuovo gruppo:");if(!B)return;const je={id:`group_${Date.now()}`,name:B,labelIds:[],labelCount:0,createdAt:new Date().toISOString(),createdBy:i.name,lastUpdate:new Date().toISOString()},Oe=[...X,je];Ae(Oe)},Rt=B=>X.find(je=>je.labelIds.includes(B)),On=()=>{if(!ne)return;const B=e.filter(je=>!ne.labelIds.includes(je.id));Re(B),it([]),kt(""),qe(!0)},Fr=()=>{if(!ne||tt.length===0)return;const B=[],je=[];if(tt.forEach(ut=>{var At;const xt=Rt(ut);xt&&je.push({labelId:ut,labelName:(At=e.find(dn=>dn.id===ut))==null?void 0:At.productName,fromGroup:xt.name}),B.push(ut)}),je.length>0){const ut=je.map(At=>`• "${At.labelName}" verrà spostata da "${At.fromGroup}"`).join(`
`);if(!confirm(`ATTENZIONE: Le seguenti etichette verranno spostate:

${ut}

Continuare?`))return}const Oe=X.map(ut=>{if(ut.id===ne.id){const xt=[...ut.labelIds,...B],At=[...new Set(xt)];return{...ut,labelIds:At,labelCount:At.length,lastUpdate:new Date().toISOString()}}else{const xt=ut.labelIds.filter(At=>!B.includes(At));return{...ut,labelIds:xt,labelCount:xt.length,lastUpdate:xt.length!==ut.labelIds.length?new Date().toISOString():ut.lastUpdate}}});Ae(Oe);const Nt=Oe.find(ut=>ut.id===ne.id);Le(Nt),qe(!1),it([])},dr=B=>{it(je=>je.includes(B)?je.filter(Oe=>Oe!==B):[...je,B])},Or=()=>{const B=Ce.filter(je=>je.productName.toLowerCase().includes(ct.toLowerCase())||je.barcode.includes(ct)||je.lotNumber.toLowerCase().includes(ct.toLowerCase())).map(je=>je.id);it(B)},Rr=()=>{ne&&(Ve(ne),Ct(ne.name),ot(!0))},wr=()=>{if(!an.trim()||!ht)return;const B=X.map(je=>je.id===ht.id?{...je,name:an.trim(),lastUpdate:new Date().toISOString()}:je);Ae(B),ne&&ne.id===ht.id&&Le({...ne,name:an.trim(),lastUpdate:new Date().toISOString()}),ot(!1),Ve(null),Ct("")},Qr=B=>{Ve(B),Ct(B.name),ot(!0)},br=B=>{const je=e.find(xt=>xt.id===B);if(!je||!confirm(`Eliminare l'etichetta "${je.productName}"?

Questa azione non può essere annullata.`))return;const Nt=e.filter(xt=>xt.id!==B);t(Nt),localStorage.setItem("haccp-product-labels",JSON.stringify(Nt));const ut=X.map(xt=>({...xt,labelIds:xt.labelIds.filter(At=>At!==B),labelCount:xt.labelIds.filter(At=>At!==B).length,lastUpdate:xt.labelIds.includes(B)?new Date().toISOString():xt.lastUpdate}));if(Ae(ut),ne&&ne.labelIds.includes(B)){const xt=ut.find(At=>At.id===ne.id);Le(xt)}},Tn=[{id:"latticini",name:"Latticini e Formaggi",color:"bg-blue-100 text-blue-800",emoji:"🧀"},{id:"carni",name:"Carni e Salumi",color:"bg-red-100 text-red-800",emoji:"🥩"},{id:"verdure",name:"Verdure e Ortaggi",color:"bg-green-100 text-green-800",emoji:"🥬"},{id:"frutta",name:"Frutta Fresca",color:"bg-orange-100 text-orange-800",emoji:"🍎"},{id:"pesce",name:"Pesce e Frutti di Mare",color:"bg-cyan-100 text-cyan-800",emoji:"🐟"},{id:"surgelati",name:"Surgelati",color:"bg-indigo-100 text-indigo-800",emoji:"❄️"},{id:"dispensa",name:"Dispensa Secca",color:"bg-yellow-100 text-yellow-800",emoji:"📦"},{id:"condimenti",name:"Oli e Condimenti",color:"bg-amber-100 text-amber-800",emoji:"🫒"}],Gi=B=>{Zt===B?Dt(null):(Dt(B),Le(null))},ya=()=>{q(!k),Y([])},Wi=B=>{Y(je=>je.includes(B)?je.filter(Oe=>Oe!==B):[...je,B])},Na=()=>{const B=Zr.map(je=>je.id);Y(B)},wa=()=>{Y([])},Gs=()=>{const B=new Date,je=e.filter(Oe=>new Date(Oe.expiryDate)<B&&Oe.photo);je.length>0&&(te(je),H(!0))},il=()=>{g(!0),setTimeout(()=>{const B=["8001234567890","8001234567891","8001234567892","8001234567893","8001234567894"],je=B[Math.floor(Math.random()*B.length)];m(je),T(Oe=>({...Oe,barcode:je})),g(!1),c(!0)},2e3)},al=()=>{if(!Ue.productName||!Ue.expiryDate){alert("Nome prodotto e data scadenza sono obbligatori");return}Er(!0)},ba=()=>{const B={id:`label_${Date.now()}`,...Ue,createdAt:new Date().toISOString(),createdBy:i.name,status:"active"},je=[...e,B];t(je),localStorage.setItem("haccp-product-labels",JSON.stringify(je));const Oe={id:`prod_${Date.now()}`,name:Ue.productName,category:Ue.category.startsWith("group_")?"latticini":Ue.category,expiryDate:Ue.expiryDate,location:Ue.location||"Posizione da definire",allergens:Ue.allergens||[],notes:`${Ue.notes?Ue.notes+" - ":""}Generato automaticamente da etichetta. Lotto: ${Ue.lotNumber||"N/A"}`,addedBy:i==null?void 0:i.id,addedByName:i==null?void 0:i.name,createdAt:new Date().toISOString(),status:"active",fromLabel:!0,labelId:B.id,barcode:Ue.barcode,lotNumber:Ue.lotNumber||"",batchDeliveryDate:"",associatedOrderId:"",supplierName:""},ut=[...JSON.parse(localStorage.getItem("haccp-products")||"[]"),Oe];if(localStorage.setItem("haccp-products",JSON.stringify(ut)),Ue.category&&Ue.category.startsWith("group_")){const xt=Ue.category.replace("group_",""),At=X.map(dn=>dn.id===xt?{...dn,labelIds:[...dn.labelIds,B.id],labelCount:dn.labelCount+1,lastUpdate:new Date().toISOString()}:dn);Ae(At)}T({productName:"",barcode:"",expiryDate:"",lotNumber:"",category:"",location:"",notes:"",photo:null,allergens:[]}),c(!1),m(""),Er(!1)},Ws=B=>{const je=B.target.files[0];if(je){const Oe=new FileReader;Oe.onload=Nt=>{const ut=new Image;ut.onload=()=>{const xt=document.createElement("canvas"),At=xt.getContext("2d"),dn=800,Pi=600;let{width:Mt,height:hr}=ut;Mt>hr?Mt>dn&&(hr=hr*dn/Mt,Mt=dn):hr>Pi&&(Mt=Mt*Pi/hr,hr=Pi),xt.width=Mt,xt.height=hr,At.drawImage(ut,0,0,Mt,hr);const Ca=xt.toDataURL("image/jpeg",.7);T(Ys=>({...Ys,photo:Ca}))},ut.src=Nt.target.result},Oe.readAsDataURL(je)}},sl=B=>{N(B),b(!0)},fs=()=>{const B=e.map(je=>R.some(Oe=>Oe.id===je.id)?{...je,photo:null,cleanedAt:new Date().toISOString()}:je);t(B),localStorage.setItem("haccp-product-labels",JSON.stringify(B)),H(!1),te([])},Ji=e.filter(B=>{if(ne)return ne.labelIds.includes(B.id);if(Zt){const je=B.category===Zt,Oe=B.productName.toLowerCase().includes(d.toLowerCase())||B.barcode.includes(d)||B.lotNumber.toLowerCase().includes(d.toLowerCase());return je&&Oe}return B.productName.toLowerCase().includes(d.toLowerCase())||B.barcode.includes(d)||B.lotNumber.toLowerCase().includes(d.toLowerCase())}),Zr=e.filter(B=>{if(!B.photo)return!1;const je=!Z||B.productName.toLowerCase().includes(Z.toLowerCase())||B.barcode.includes(Z)||B.lotNumber.toLowerCase().includes(Z.toLowerCase()),Oe=!le||new Date(B.createdAt).toDateString()===new Date(le).toDateString(),Nt=!V||(()=>{const ut=new Date(B.expiryDate),At=Math.ceil((ut-new Date)/(1e3*60*60*24));switch(V){case"expired":return At<0;case"expiring":return At>=0&&At<=7;case"fresh":return At>7;default:return!0}})();return je&&Oe&&Nt}),Dn=Math.ceil(Zr.length/Me),ei=Zr.slice((ae-1)*Me,ae*Me),ol=(B,je=Xe)=>{if(!B)return"";if(B.startsWith("data:image/")&&je==="low"&&B.length>5e4){const Oe=document.createElement("canvas"),Nt=Oe.getContext("2d"),ut=new Image;return new Promise(xt=>{ut.onload=()=>{Oe.width=Math.min(ut.width,200),Oe.height=Math.min(ut.height,200),Nt.drawImage(ut,0,0,Oe.width,Oe.height),xt(Oe.toDataURL("image/jpeg",.5))},ut.src=B})}return B};se.useEffect(()=>{const B=e.filter(je=>je.photo).map(je=>je.id);rt(new Set(B))},[e]),se.useEffect(()=>{be(1)},[Z,le,V]);const un=()=>{const B=ei.map(je=>je.id);Y(je=>[...new Set([...je,...B])])},Js=()=>{const B=e.filter(Nt=>Nt.photo).length,je=B>100,Oe=B>500;return{totalPhotos:B,isLargeDataset:je,isVeryLargeDataset:Oe,recommendedPhotosPerPage:Oe?12:je?20:50}},Xi={total:e.length,withPhotos:e.filter(B=>B.photo).length,expiringSoon:e.filter(B=>{const je=new Date(B.expiryDate),Nt=Math.ceil((je-new Date)/(1e3*60*60*24));return Nt<=7&&Nt>=0}).length,expired:e.filter(B=>new Date(B.expiryDate)<new Date).length};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(Yl,{className:"h-5 w-5"}),"Gestione Etichette Prodotti"]})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Xi.total}),r.jsx("div",{className:"text-sm text-blue-700",children:"Etichette Totali"})]}),r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:Xi.withPhotos}),r.jsx("div",{className:"text-sm text-green-700",children:"Con Foto"})]}),r.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:Xi.expiringSoon}),r.jsx("div",{className:"text-sm text-yellow-700",children:"In Scadenza"})]}),r.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:Xi.expired}),r.jsx("div",{className:"text-sm text-red-700",children:"Scaduti"})]})]})})]}),r.jsxs("div",{className:"flex gap-2 overflow-x-auto",children:[r.jsxs(ge,{variant:a==="scanner"?"default":"outline",onClick:()=>s("scanner"),className:"flex items-center gap-2 whitespace-nowrap",children:[r.jsx(X0,{className:"h-4 w-4"}),"Scanner"]}),r.jsxs(ge,{variant:a==="labels"?"default":"outline",onClick:()=>s("labels"),className:"flex items-center gap-2 whitespace-nowrap",children:[r.jsx(Iu,{className:"h-4 w-4"}),"Le Mie Etichette"]}),r.jsxs(ge,{variant:a==="photos"?"default":"outline",onClick:()=>s("photos"),className:"flex items-center gap-2 whitespace-nowrap",children:[r.jsx(No,{className:"h-4 w-4"}),"Foto Prodotti"]})]}),a==="scanner"&&r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(M2,{className:"h-5 w-5"}),"Scanner Codici a Barre"]})}),r.jsx(Je,{className:"space-y-4",children:r.jsx("div",{className:"text-center",children:y?r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"animate-pulse",children:r.jsx(Yl,{className:"h-20 w-20 text-blue-500"})}),r.jsx("p",{className:"text-blue-600",children:"Scansione in corso..."})]}):r.jsxs("div",{className:"space-y-4",children:[x?r.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:r.jsxs("p",{className:"text-green-700",children:["Codice scansionato: ",r.jsx("strong",{children:x})]})}):r.jsxs("div",{className:"p-8 border-2 border-dashed border-gray-300 rounded-lg",children:[r.jsx(Yl,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:'Clicca "Avvia Scanner" per leggere un codice a barre'})]}),r.jsxs(ge,{onClick:il,disabled:y,className:"w-full",children:[r.jsx(X0,{className:"h-4 w-4 mr-2"}),"Avvia Scanner"]}),x&&r.jsxs(ge,{onClick:()=>c(!0),variant:"outline",className:"w-full",children:[r.jsx(xr,{className:"h-4 w-4 mr-2"}),"Crea Etichetta per questo Prodotto"]})]})})})]}),a==="labels"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(Ge,{children:r.jsx(Je,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(at,{placeholder:ne?`Cerca in "${ne.name}"...`:Zt?`Cerca in "${(ps=Tn.find(B=>B.id===Zt))==null?void 0:ps.name}"...`:"Cerca per nome, codice, lotto...",value:d,onChange:B=>p(B.target.value),className:"pl-10"})]})}),r.jsxs(ge,{onClick:()=>c(!0),className:"flex items-center gap-2",children:[r.jsx(xr,{className:"h-4 w-4"}),"Nuova Etichetta"]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(ge,{onClick:et,variant:oe?"default":"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(W0,{className:"h-4 w-4"}),oe?"Annulla Selezione":"Seleziona Etichette"]}),oe&&r.jsxs(r.Fragment,{children:[r.jsxs(ge,{onClick:$e,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(_u,{className:"h-4 w-4"}),"Seleziona Tutto"]}),r.jsxs(ge,{onClick:$t,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(Pn,{className:"h-4 w-4"}),"Deseleziona Tutto"]}),r.jsxs(ge,{onClick:Lt,variant:"default",size:"sm",className:"flex items-center gap-2",disabled:z.length===0,children:[r.jsx(My,{className:"h-4 w-4"}),"Crea Gruppo (",z.length,")"]})]}),!ne&&!oe&&r.jsxs(ge,{onClick:Vt,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(J0,{className:"h-4 w-4"}),"Crea Gruppo di Etichette"]}),!ne&&oe&&z.length>0&&r.jsxs(ge,{onClick:()=>Fn(!0),variant:"default",size:"sm",className:"flex items-center gap-2",children:[r.jsx(Ei,{className:"h-4 w-4"}),"Sposta Etichette nel Gruppo..."]}),ne&&r.jsxs(r.Fragment,{children:[r.jsxs(ge,{onClick:On,variant:"default",size:"sm",className:"flex items-center gap-2",children:[r.jsx(xr,{className:"h-4 w-4"}),"Aggiungi Etichette al Gruppo"]}),r.jsxs(ge,{onClick:Rr,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(Gr,{className:"h-4 w-4"}),"Modifica Gruppo"]}),r.jsxs(ge,{onClick:()=>Le(null),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(Pn,{className:"h-4 w-4"}),'Esci da "',ne.name,'"']})]}),Zt&&r.jsxs(ge,{onClick:()=>Dt(null),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(Pn,{className:"h-4 w-4"}),'Esci da "',(ja=Tn.find(B=>B.id===Zt))==null?void 0:ja.name,'"']})]}),oe&&z.length>0&&r.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:r.jsxs("p",{className:"text-blue-700 text-sm",children:[z.length," etichett",z.length===1?"a selezionata":"e selezionate"]})})]})})}),!ne&&!Zt&&r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(Ei,{className:"h-5 w-5"}),"I Miei Gruppi di Etichette"]}),X.length>0&&r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("div",{className:"relative",children:[r.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(at,{placeholder:"Cerca gruppi ed etichette...",value:Bt,onChange:B=>Ot(B.target.value),className:"pl-10 w-64"})]})})]})}),r.jsxs(Je,{children:[Bt&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[r.jsx(Wa,{className:"h-4 w-4"}),'Risultati Ricerca: "',Bt,'"']}),(()=>{const B=X.filter(Oe=>Oe.name.toLowerCase().includes(Bt.toLowerCase())),je=e.filter(Oe=>Oe.productName.toLowerCase().includes(Bt.toLowerCase())||Oe.barcode.includes(Bt)||Oe.lotNumber.toLowerCase().includes(Bt.toLowerCase()));return B.length===0&&je.length===0?r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-sm text-gray-500",children:"Nessun risultato trovato"})}):r.jsxs("div",{className:"space-y-4",children:[B.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"text-xs font-medium text-gray-500 mb-2 flex items-center gap-1",children:[r.jsx(Ei,{className:"h-3 w-3"}),"GRUPPI (",B.length,")"]}),r.jsx("div",{className:"grid gap-2",children:B.map(Oe=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors bg-blue-50 border-blue-200",onClick:()=>{Le(Oe),Ot("")},children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:[r.jsx(Ei,{className:"h-3 w-3"}),"GRUPPO"]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Oe.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[Oe.labelIds.length," etichette"]})]})]}),r.jsx("div",{className:"text-xs text-gray-400",children:"Click per aprire"})]},Oe.id))})]}),je.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"text-xs font-medium text-gray-500 mb-2 flex items-center gap-1",children:[r.jsx($n,{className:"h-3 w-3"}),"ETICHETTE (",je.length,")"]}),r.jsxs("div",{className:"grid gap-2",children:[je.slice(0,5).map(Oe=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors bg-green-50 border-green-200",onClick:()=>{N(Oe),b(!0),Ot("")},children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:[r.jsx($n,{className:"h-3 w-3"}),"ETICHETTA"]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:Oe.productName}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Scadenza: ",Oe.expiryDate," • Lotto: ",Oe.lotNumber]})]})]}),r.jsx("div",{className:"text-xs text-gray-400",children:"Click per visualizzare"})]},Oe.id)),je.length>5&&r.jsx("div",{className:"text-center py-2",children:r.jsxs("p",{className:"text-xs text-gray-500",children:["... e altre ",je.length-5," etichette"]})})]})]})]})})(),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:r.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>Ot(""),className:"w-full",children:[r.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Chiudi Ricerca"]})})]}),!Bt&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[r.jsx(Iu,{className:"h-4 w-4"}),"Categorie Ingredienti (Scelte Rapide)"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Tn.map(B=>{const Oe=e.filter(Nt=>Nt.category===B.id).length;return r.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>Gi(B.id),className:`flex items-center gap-2 ${Oe>0?"hover:shadow-md":"opacity-50 cursor-not-allowed"}`,disabled:Oe===0,children:[r.jsx("span",{className:"text-lg",children:B.emoji}),r.jsx("span",{className:"hidden sm:inline",children:B.name}),r.jsx("span",{className:"sm:hidden",children:B.name.split(" ")[0]}),Oe>0&&r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${B.color} ml-1`,children:Oe})]},B.id)})}),r.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Clicca su una categoria per vedere le relative etichette"})]}),X.length>0&&r.jsx("div",{className:"border-t border-gray-200 my-4"}),X.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[r.jsx(Iu,{className:"h-4 w-4"}),"Gruppi Personalizzati (Scelte Rapide)"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:X.map(B=>{const je=B.labelIds.length;return r.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>Le(B),className:`flex items-center gap-2 ${je>0?"hover:shadow-md":"opacity-50 cursor-not-allowed"}`,disabled:je===0,children:[r.jsx(Ei,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:B.name}),r.jsx("span",{className:"sm:hidden",children:B.name.split(" ")[0]}),je>0&&r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800 ml-1",children:je})]},B.id)})}),r.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Clicca su un gruppo per vedere le relative etichette"})]}),!Bt&&r.jsx("div",{className:"border-t border-gray-200 my-4"}),!Bt&&r.jsx("div",{children:r.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[r.jsx(Gr,{className:"h-4 w-4"}),"Gestione Gruppi Personalizzati"]})}),!Bt&&r.jsx("div",{className:"grid gap-3",children:X.map(B=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 hover:shadow-md cursor-pointer transition-all",onClick:()=>Le(B),children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ei,{className:"h-5 w-5 text-blue-500"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:B.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[B.labelCount," etichett",B.labelCount===1?"a":"e"," • Ultimo aggiornamento: ",new Date(B.lastUpdate).toLocaleDateString("it-IT")]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ge,{variant:"outline",size:"sm",onClick:je=>{je.stopPropagation(),Qr(B)},title:"Modifica gruppo",children:r.jsx(Gr,{className:"h-4 w-4"})}),r.jsx(ge,{variant:"outline",size:"sm",onClick:je=>{if(je.stopPropagation(),confirm(`Eliminare il gruppo "${B.name}"? Le etichette non verranno eliminate.`)){const Oe=X.filter(Nt=>Nt.id!==B.id);Ae(Oe)}},title:"Elimina gruppo",children:r.jsx(Yn,{className:"h-4 w-4"})})]})]},B.id))}),!Bt&&X.length===0&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Nessun gruppo personalizzato creato ancora."}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Usa "Seleziona Etichette" per creare gruppi dalle etichette esistenti'})]})]})]}),r.jsxs(r.Fragment,{children:[ne&&r.jsx(Ge,{children:r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2 text-lg",children:[r.jsx(Ei,{className:"h-5 w-5 text-blue-600"}),"Gruppo: ",r.jsx("span",{className:"text-blue-600",children:ne.name}),r.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:["(",ne.labelIds.length," etichette)"]})]})})}),Zt&&r.jsx(Ge,{children:r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2 text-lg",children:[r.jsx(Iu,{className:"h-5 w-5 text-green-600"}),"Categoria: ",r.jsx("span",{className:"text-green-600",children:(Xs=Tn.find(B=>B.id===Zt))==null?void 0:Xs.name}),r.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:["(",Ji.length," etichette)"]})]})})}),r.jsx(Ge,{children:r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx($n,{className:"h-5 w-5"}),"Etichette Registrate",r.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:["(",Ji.length," totali)"]})]})})})]}),r.jsxs("div",{className:"grid gap-4",children:[Ji.map(B=>{var dn,Pi;const je=new Date(B.expiryDate),Oe=new Date,Nt=Math.ceil((je-Oe)/(1e3*60*60*24)),ut=je<Oe,xt=Nt<=7&&Nt>=0,At=z.includes(B.id);return r.jsx(Ge,{className:`${ut?"border-red-200 bg-red-50":xt?"border-yellow-200 bg-yellow-50":""} ${At?"ring-2 ring-blue-500":""} ${oe?"cursor-pointer hover:shadow-md transition-shadow":""}`,onClick:()=>oe&&yt(B.id),children:r.jsx(Je,{className:"pt-6",children:r.jsxs("div",{className:"flex justify-between items-start",children:[oe&&r.jsx("div",{className:"mr-3 mt-1",children:r.jsx("input",{type:"checkbox",checked:At,onChange:()=>yt(B.id),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 pointer-events-none"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"font-semibold text-lg",children:B.productName}),B.photo&&r.jsx(No,{className:"h-4 w-4 text-blue-500"}),ut&&r.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded",children:"SCADUTO"}),xt&&!ut&&r.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:"IN SCADENZA"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Codice:"})," ",B.barcode]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Lotto:"})," ",B.lotNumber]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Scadenza:"})," ",new Date(B.expiryDate).toLocaleDateString("it-IT")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Categoria:"})," ",((dn=Tn.find(Mt=>Mt.id===B.category))==null?void 0:dn.name)||((Pi=X.find(Mt=>Mt.id===B.category))==null?void 0:Pi.name)||B.category||"Non specificata"]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("strong",{children:"Gruppo:"})," ",(()=>{const Mt=Rt(B.id);return Mt?r.jsxs("span",{className:"inline-flex items-center gap-1 ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:[r.jsx(Ei,{className:"h-3 w-3"}),Mt.name]}):r.jsx("span",{className:"text-gray-400 ml-2",children:"Nessun gruppo"})})()]})]}),B.location&&r.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[r.jsx("strong",{children:"Posizione:"})," ",B.location]}),B.notes&&r.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[r.jsx("strong",{children:"Note:"})," ",B.notes]}),r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Creata da ",B.createdBy," il ",new Date(B.createdAt).toLocaleDateString("it-IT")]})]}),r.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[r.jsxs(ge,{size:"sm",variant:"outline",onClick:Mt=>{Mt.stopPropagation(),N(B),b(!0)},className:"flex items-center gap-1",children:[r.jsx(Jf,{className:"h-3 w-3"}),"Visualizza"]}),r.jsxs(ge,{size:"sm",onClick:Mt=>{Mt.stopPropagation(),sl(B)},className:"flex items-center gap-1",children:[r.jsx($s,{className:"h-3 w-3"}),"Download"]}),B.photo&&r.jsxs(ge,{size:"sm",variant:"outline",onClick:Mt=>{Mt.stopPropagation(),ee(B.photo),L(!0)},className:"flex items-center gap-1",children:[r.jsx(No,{className:"h-3 w-3"}),"Foto"]}),r.jsxs(ge,{size:"sm",variant:"destructive",onClick:Mt=>{Mt.stopPropagation(),br(B.id)},className:"flex items-center gap-1",children:[r.jsx(Yn,{className:"h-3 w-3"}),"Elimina"]})]})]})})},B.id)}),Ji.length===0&&r.jsx(Ge,{children:r.jsxs(Je,{className:"pt-6 text-center",children:[r.jsx($n,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:ne?`Nessuna etichetta nel gruppo "${ne.name}"`:Zt?`Nessuna etichetta nella categoria "${(jr=Tn.find(B=>B.id===Zt))==null?void 0:jr.name}"`:d?"Nessuna etichetta trovata":"Nessuna etichetta creata ancora"})]})})]})]}),a==="photos"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(Ge,{children:r.jsx(Je,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(at,{placeholder:"Cerca per nome, codice, lotto...",value:Z,onChange:B=>K(B.target.value),className:"pl-10"})]}),r.jsx(at,{type:"date",placeholder:"Filtra per data creazione",value:le,onChange:B=>j(B.target.value)}),r.jsxs("select",{value:V,onChange:B=>F(B.target.value),className:"p-2 border border-gray-300 rounded-md",children:[r.jsx("option",{value:"",children:"Tutte le scadenze"}),r.jsx("option",{value:"fresh",children:"Prodotti freschi (>7 giorni)"}),r.jsx("option",{value:"expiring",children:"In scadenza (≤7 giorni)"}),r.jsx("option",{value:"expired",children:"Scaduti"})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(ge,{onClick:ya,variant:k?"default":"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(W0,{className:"h-4 w-4"}),k?"Annulla Selezione":"Seleziona Foto"]}),k&&r.jsxs(r.Fragment,{children:[r.jsxs(ge,{onClick:Na,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(_u,{className:"h-4 w-4"}),"Seleziona Tutte (",Zr.length,")"]}),r.jsxs(ge,{onClick:un,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(_u,{className:"h-4 w-4"}),"Solo Pagina Corrente (",ei.length,")"]}),r.jsxs(ge,{onClick:wa,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(Pn,{className:"h-4 w-4"}),"Deseleziona Tutto"]}),r.jsxs(ge,{variant:"destructive",size:"sm",className:"flex items-center gap-2",disabled:G.length===0,onClick:()=>{if(confirm(`Eliminare ${G.length} foto selezionate?`)){const B=e.map(je=>G.includes(je.id)?{...je,photo:null}:je);t(B),localStorage.setItem("haccp-product-labels",JSON.stringify(B)),Y([]),q(!1)}},children:[r.jsx(Yn,{className:"h-4 w-4"}),"Elimina Selezionate (",G.length,")"]})]}),(Z||le||V)&&r.jsxs(ge,{onClick:()=>{K(""),j(""),F("")},variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(Pn,{className:"h-4 w-4"}),"Cancella Filtri"]})]}),k&&G.length>0&&r.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:r.jsxs("p",{className:"text-blue-700 text-sm",children:[G.length," foto selezionat",G.length===1?"a":"e"]})}),(Z||le||V)&&r.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg",children:r.jsxs("p",{className:"text-yellow-700 text-sm",children:["Filtri attivi: ",Zr.length," foto di ",e.filter(B=>B.photo).length]})}),(()=>{const B=Js();return B.isLargeDataset?r.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-blue-700 text-sm font-semibold",children:["Dataset grande: ",B.totalPhotos," foto"]}),r.jsxs("p",{className:"text-blue-600 text-xs",children:["Modalità ottimizzata attiva • Pagina ",ae," di ",Dn]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:Me,onChange:je=>{xe(Number(je.target.value)),be(1)},className:"text-xs p-1 border rounded",children:[r.jsx("option",{value:12,children:"12 foto/pagina"}),r.jsx("option",{value:20,children:"20 foto/pagina"}),r.jsx("option",{value:50,children:"50 foto/pagina"}),r.jsx("option",{value:100,children:"100 foto/pagina"})]}),r.jsxs("select",{value:Xe,onChange:je=>ze(je.target.value),className:"text-xs p-1 border rounded",children:[r.jsx("option",{value:"low",children:"Qualità Bassa"}),r.jsx("option",{value:"medium",children:"Qualità Media"}),r.jsx("option",{value:"high",children:"Qualità Alta"})]})]})]})}):null})()]})})}),Dn>1&&r.jsx(Ge,{children:r.jsxs(Je,{className:"pt-6",children:[r.jsxs("div",{className:"flex justify-center items-center gap-4",children:[r.jsx(ge,{onClick:()=>be(B=>Math.max(1,B-1)),disabled:ae===1,variant:"outline",size:"sm",children:"← Precedente"}),r.jsx("div",{className:"flex gap-1",children:[...Array(Math.min(5,Dn))].map((B,je)=>{let Oe;return Dn<=5?Oe=je+1:(Oe=Math.max(1,ae-2)+je,Oe>Dn&&(Oe=Dn-(4-je))),r.jsx(ge,{onClick:()=>be(Oe),variant:ae===Oe?"default":"outline",size:"sm",className:"w-8 h-8 p-0",children:Oe},Oe)})}),r.jsx(ge,{onClick:()=>be(B=>Math.min(Dn,B+1)),disabled:ae===Dn,variant:"outline",size:"sm",children:"Successiva →"})]}),r.jsx("div",{className:"text-center mt-2",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Pagina ",ae," di ",Dn," • Mostrando ",ei.length," di ",Zr.length," foto"]})})]})}),r.jsx("div",{className:`grid gap-4 ${Me<=12?"grid-cols-2 md:grid-cols-3 lg:grid-cols-4":Me<=20?"grid-cols-2 md:grid-cols-4 lg:grid-cols-5":"grid-cols-3 md:grid-cols-5 lg:grid-cols-6"}`,children:ei.map(B=>{const je=G.includes(B.id),Oe=new Date(B.expiryDate),Nt=new Date,ut=Math.ceil((Oe-Nt)/(1e3*60*60*24)),xt=Oe<Nt,At=ut<=7&&ut>=0;return r.jsxs(Ge,{className:`overflow-hidden ${je?"ring-2 ring-blue-500":""} ${k?"cursor-pointer hover:shadow-md transition-shadow":""}`,onClick:()=>k&&Wi(B.id),children:[r.jsxs("div",{className:"relative",children:[k&&r.jsx("div",{className:"absolute top-2 left-2 z-10",children:r.jsx("input",{type:"checkbox",checked:je,onChange:()=>Wi(B.id),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 pointer-events-none"})}),(xt||At)&&r.jsx("div",{className:"absolute top-2 right-2 z-10",children:r.jsx("span",{className:`px-2 py-1 text-xs rounded ${xt?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:xt?"SCADUTO":"SCADENZA"})}),r.jsxs("div",{className:"aspect-square bg-gray-100 cursor-pointer overflow-hidden",onClick:dn=>{k||(dn.stopPropagation(),ee(B.photo),L(!0))},children:[r.jsx("img",{src:ol(B.photo),alt:B.productName,className:"w-full h-full object-cover transition-opacity duration-200",loading:"lazy",onError:dn=>{dn.target.style.display="none",dn.target.nextSibling.style.display="flex"}}),r.jsx("div",{className:"w-full h-full hidden items-center justify-center bg-red-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Mr,{className:"h-6 w-6 text-red-400 mx-auto mb-1"}),r.jsx("p",{className:"text-xs text-red-600",children:"Errore caricamento"})]})})]})]}),r.jsxs(Je,{className:"pt-4",children:[r.jsx("h4",{className:"font-semibold text-sm truncate",children:B.productName}),r.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[r.jsxs("p",{children:["Scad: ",new Date(B.expiryDate).toLocaleDateString("it-IT")]}),r.jsxs("p",{children:["Creata: ",new Date(B.createdAt).toLocaleDateString("it-IT")]}),B.lotNumber&&r.jsxs("p",{children:["Lotto: ",B.lotNumber]})]})]})]},B.id)})}),Dn>1&&ei.length>0&&r.jsx(Ge,{children:r.jsx(Je,{className:"pt-6",children:r.jsxs("div",{className:"flex justify-center items-center gap-2",children:[r.jsx(ge,{onClick:()=>be(1),disabled:ae===1,variant:"outline",size:"sm",children:"Prima"}),r.jsx(ge,{onClick:()=>be(B=>Math.max(1,B-1)),disabled:ae===1,variant:"outline",size:"sm",children:"←"}),r.jsxs("span",{className:"px-4 py-2 text-sm bg-gray-100 rounded",children:[ae," / ",Dn]}),r.jsx(ge,{onClick:()=>be(B=>Math.min(Dn,B+1)),disabled:ae===Dn,variant:"outline",size:"sm",children:"→"}),r.jsx(ge,{onClick:()=>be(Dn),disabled:ae===Dn,variant:"outline",size:"sm",children:"Ultima"})]})})}),Zr.length===0&&e.filter(B=>B.photo).length>0&&r.jsx(Ge,{children:r.jsxs(Je,{className:"pt-6 text-center",children:[r.jsx(Ay,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Nessuna foto trovata con i filtri attuali"})]})}),e.filter(B=>B.photo).length===0&&r.jsx(Ge,{children:r.jsxs(Je,{className:"pt-6 text-center",children:[r.jsx(No,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Nessuna foto caricata ancora"})]})})]}),l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs(Ge,{className:"w-full max-w-md max-h-[90vh] overflow-y-auto",children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Nuova Etichetta Prodotto"}),r.jsx(ge,{variant:"outline",size:"sm",onClick:()=>{c(!1),T({productName:"",barcode:"",expiryDate:"",lotNumber:"",category:"",location:"",notes:"",photo:null,allergens:[]})},children:r.jsx(Pn,{className:"h-4 w-4"})})]})}),r.jsxs(Je,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"productName",children:"Nome Prodotto *"}),r.jsx(at,{id:"productName",value:Ue.productName,onChange:B=>T(je=>({...je,productName:B.target.value})),placeholder:"es. Mozzarella di Bufala"})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"barcode",children:"Codice a Barre"}),r.jsx(at,{id:"barcode",value:Ue.barcode,onChange:B=>T(je=>({...je,barcode:B.target.value})),placeholder:"Scansiona o inserisci manualmente"})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"expiryDate",children:"Data Scadenza *"}),r.jsx(at,{id:"expiryDate",type:"date",value:Ue.expiryDate,onChange:B=>T(je=>({...je,expiryDate:B.target.value}))})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"lotNumber",children:"Numero Lotto"}),r.jsx(at,{id:"lotNumber",value:Ue.lotNumber,onChange:B=>T(je=>({...je,lotNumber:B.target.value})),placeholder:"es. L240315A"})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"category",children:"Categoria"}),r.jsxs("select",{id:"category",value:Ue.category,onChange:B=>T(je=>({...je,category:B.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:[r.jsx("option",{value:"",children:"Seleziona categoria"}),r.jsxs("optgroup",{label:"📂 Categorie Standard",children:[r.jsx("option",{value:"latticini",children:"Latticini e Formaggi"}),r.jsx("option",{value:"carni",children:"Carni e Salumi"}),r.jsx("option",{value:"verdure",children:"Verdure e Ortaggi"}),r.jsx("option",{value:"frutta",children:"Frutta Fresca"}),r.jsx("option",{value:"pesce",children:"Pesce e Frutti di Mare"}),r.jsx("option",{value:"surgelati",children:"Surgelati"}),r.jsx("option",{value:"dispensa",children:"Dispensa Secca"}),r.jsx("option",{value:"condimenti",children:"Oli e Condimenti"})]}),X.length>0&&r.jsx("optgroup",{label:"🏷️ I Miei Gruppi di Etichette",children:X.map(B=>r.jsxs("option",{value:`group_${B.id}`,children:[B.name," (",B.labelCount," etichett",B.labelCount===1?"a":"e",")"]},B.id))})]})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"location",children:"Posizione"}),r.jsx(at,{id:"location",value:Ue.location,onChange:B=>T(je=>({...je,location:B.target.value})),placeholder:"es. Frigo A - Ripiano intermedio"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Allergeni"}),r.jsx("div",{className:"grid grid-cols-3 md:grid-cols-7 gap-2 mt-2",children:ALLERGENS.map(B=>r.jsx("button",{type:"button",onClick:()=>{const je=Ue.allergens.includes(B.id);T(Oe=>({...Oe,allergens:je?Oe.allergens.filter(Nt=>Nt!==B.id):[...Oe.allergens,B.id]}))},className:`px-2 py-1 text-xs rounded transition-colors ${Ue.allergens.includes(B.id)?B.color:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:B.name},B.id))})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"notes",children:"Note"}),r.jsx("textarea",{id:"notes",value:Ue.notes,onChange:B=>T(je=>({...je,notes:B.target.value})),placeholder:"Note aggiuntive...",className:"w-full p-2 border border-gray-300 rounded-md h-20 resize-none"})]}),r.jsxs("div",{children:[r.jsx(Ke,{children:"Foto Prodotto"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:Ws,className:"w-full p-2 border border-gray-300 rounded-md"}),Ue.photo&&r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:Ue.photo,alt:"Preview",className:"w-full h-32 object-cover rounded-md border"}),r.jsx(ge,{size:"sm",variant:"outline",onClick:()=>T(B=>({...B,photo:null})),className:"absolute top-2 right-2",children:r.jsx(Pn,{className:"h-3 w-3"})})]})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsxs(ge,{onClick:al,className:"flex-1",children:[r.jsx(Bi,{className:"h-4 w-4 mr-2"}),"Salva Etichetta"]}),r.jsx(ge,{variant:"outline",onClick:()=>{c(!1),T({productName:"",barcode:"",expiryDate:"",lotNumber:"",category:"",location:"",notes:"",photo:null,allergens:[]})},children:"Annulla"})]})]})]})}),_&&A&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs(Ge,{className:"w-full max-w-md",children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Anteprima Etichetta"}),r.jsx(ge,{variant:"outline",size:"sm",onClick:()=>b(!1),children:r.jsx(Pn,{className:"h-4 w-4"})})]})}),r.jsxs(Je,{children:[r.jsx("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg bg-white",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h2",{className:"text-lg font-bold",children:A.productName}),r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Codice:"})," ",A.barcode]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Lotto:"})," ",A.lotNumber]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Scadenza:"})," ",new Date(A.expiryDate).toLocaleDateString("it-IT")]}),A.location&&r.jsxs("div",{children:[r.jsx("strong",{children:"Posizione:"})," ",A.location]})]}),r.jsx("div",{className:"flex justify-center my-4",children:r.jsx("div",{className:"w-16 h-16 bg-black border-2 border-gray-300 flex items-center justify-center",children:r.jsx(Yl,{className:"h-12 w-12 text-white"})})}),r.jsxs("div",{className:"text-xs text-gray-600",children:["Creata il ",new Date(A.createdAt).toLocaleDateString("it-IT")]})]})}),r.jsx("div",{className:"mt-4 text-center",children:r.jsxs(ge,{onClick:()=>alert("Funzione stampa in sviluppo"),children:[r.jsx($s,{className:"h-4 w-4 mr-2"}),"Scarica Etichetta PDF"]})})]})]})}),w&&J&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"relative max-w-4xl max-h-[90vh]",children:[r.jsx(ge,{variant:"outline",size:"sm",onClick:()=>L(!1),className:"absolute top-4 right-4 z-10",children:r.jsx(Pn,{className:"h-4 w-4"})}),r.jsx("img",{src:J,alt:"Foto prodotto",className:"max-w-full max-h-full object-contain rounded-lg"})]})}),fe&&R.length>0&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs(Ge,{className:"w-full max-w-md",children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(Mr,{className:"h-5 w-5 text-orange-500"}),"Pulizia Automatica"]})}),r.jsxs(Je,{children:[r.jsxs("p",{className:"mb-4",children:["Trovati ",r.jsx("strong",{children:R.length})," prodotti scaduti con foto. Vuoi eliminare le foto per liberare spazio in memoria?"]}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto mb-4",children:R.map(B=>r.jsxs("div",{className:"flex justify-between items-center p-2 bg-red-50 rounded",children:[r.jsx("span",{className:"text-sm",children:B.productName}),r.jsxs("span",{className:"text-xs text-red-600",children:["Scad: ",new Date(B.expiryDate).toLocaleDateString("it-IT")]})]},B.id))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ge,{onClick:fs,className:"flex-1",variant:"destructive",children:[r.jsx(Yn,{className:"h-4 w-4 mr-2"}),"Elimina Foto"]}),r.jsx(ge,{variant:"outline",onClick:()=>H(!1),children:"Mantieni"})]})]})]})}),$&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs(Ge,{className:"w-full max-w-md",children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Crea Nuovo Gruppo"}),r.jsx(ge,{variant:"outline",size:"sm",onClick:()=>{re(!1),ye("")},children:r.jsx(Pn,{className:"h-4 w-4"})})]})}),r.jsxs(Je,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"groupName",children:"Nome del Gruppo"}),r.jsx(at,{id:"groupName",value:ue,onChange:B=>ye(B.target.value),placeholder:"es. Etichette Salumi",onKeyPress:B=>B.key==="Enter"&&Ut()})]}),r.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:r.jsxs("p",{className:"text-blue-700 text-sm",children:["Il gruppo conterrà ",z.length," etichett",z.length===1?"a":"e"," selezionat",z.length===1?"a":"e"]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ge,{onClick:Ut,className:"flex-1",disabled:!ue.trim(),children:[r.jsx(J0,{className:"h-4 w-4 mr-2"}),"Crea Gruppo"]}),r.jsx(ge,{variant:"outline",onClick:()=>{re(!1),ye("")},children:"Annulla"})]})]})]})}),Ee&&ne&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs(Ge,{className:"w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center justify-between",children:[r.jsxs("span",{children:['Aggiungi Etichette al Gruppo "',ne.name,'"']}),r.jsx(ge,{variant:"outline",size:"sm",onClick:()=>{qe(!1),it([]),kt("")},children:r.jsx(Pn,{className:"h-4 w-4"})})]})}),r.jsxs(Je,{className:"space-y-4 overflow-y-auto",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(at,{placeholder:"Cerca etichette da aggiungere...",value:ct,onChange:B=>kt(B.target.value),className:"pl-10"})]})}),r.jsxs(ge,{onClick:Or,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(_u,{className:"h-4 w-4"}),"Seleziona Tutte"]}),r.jsxs(ge,{onClick:()=>it([]),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx(Pn,{className:"h-4 w-4"}),"Deseleziona"]})]}),tt.length>0&&r.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:r.jsxs("p",{className:"text-blue-700 text-sm",children:[tt.length," etichett",tt.length===1?"a selezionata":"e selezionate"]})}),r.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-gray-700 text-sm",children:["Etichette disponibili: ",Ce.filter(B=>B.productName.toLowerCase().includes(ct.toLowerCase())||B.barcode.includes(ct)||B.lotNumber.toLowerCase().includes(ct.toLowerCase())).length," di ",Ce.length]})})]}),r.jsxs("div",{className:"max-h-96 overflow-y-auto space-y-2",children:[Ce.filter(B=>B.productName.toLowerCase().includes(ct.toLowerCase())||B.barcode.includes(ct)||B.lotNumber.toLowerCase().includes(ct.toLowerCase())).map(B=>{const je=tt.includes(B.id),Oe=Rt(B.id);return r.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors hover:shadow-md ${je?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-400"}`,onClick:()=>dr(B.id),children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:je,onChange:()=>dr(B.id),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 pointer-events-none"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h4",{className:"font-semibold",children:B.productName}),B.photo&&r.jsx(No,{className:"h-4 w-4 text-blue-500"}),Oe&&r.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded",children:['In "',Oe.name,'"']})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Codice:"})," ",B.barcode]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Lotto:"})," ",B.lotNumber]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Scadenza:"})," ",new Date(B.expiryDate).toLocaleDateString("it-IT")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Categoria:"})," ",B.category]})]})]})]})},B.id)}),Ce.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx($n,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Tutte le etichette sono già in questo gruppo"})]})]}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsxs(ge,{onClick:Fr,className:"flex-1",disabled:tt.length===0,children:[r.jsx(xr,{className:"h-4 w-4 mr-2"}),"Aggiungi ",tt.length," Etichett",tt.length===1?"a":"e"]}),r.jsx(ge,{variant:"outline",onClick:()=>{qe(!1),it([]),kt("")},children:"Annulla"})]})]})]})}),Ft&&ht&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs(Ge,{className:"w-full max-w-md",children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Modifica Gruppo"}),r.jsx(ge,{variant:"outline",size:"sm",onClick:()=>{ot(!1),Ve(null),Ct("")},children:r.jsx(Pn,{className:"h-4 w-4"})})]})}),r.jsxs(Je,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"editGroupName",children:"Nome del Gruppo"}),r.jsx(at,{id:"editGroupName",value:an,onChange:B=>Ct(B.target.value),placeholder:"es. Etichette Salumi",onKeyPress:B=>B.key==="Enter"&&wr()})]}),r.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[r.jsxs("p",{className:"text-blue-700 text-sm",children:["Il gruppo contiene ",ht.labelCount," etichett",ht.labelCount===1?"a":"e"]}),r.jsxs("p",{className:"text-blue-600 text-xs mt-1",children:["Creato da ",ht.createdBy," il ",new Date(ht.createdAt).toLocaleDateString("it-IT")]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ge,{onClick:wr,className:"flex-1",disabled:!an.trim()||an.trim()===ht.name,children:[r.jsx(Gr,{className:"h-4 w-4 mr-2"}),"Salva Modifiche"]}),r.jsx(ge,{variant:"outline",onClick:()=>{ot(!1),Ve(null),Ct("")},children:"Annulla"})]})]})]})}),It&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(Ge,{className:"w-full max-w-md mx-4",children:[r.jsx(mt,{children:r.jsx(gt,{className:"text-center text-orange-600",children:"⚠️ Conferma Salvataggio Etichetta"})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Stai per salvare l'etichetta con questi dati:"}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-left space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Prodotto:"})," ",Ue.productName]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Scadenza:"})," ",Ue.expiryDate]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Lotto:"})," ",Ue.lotNumber||"Non specificato"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Categoria:"})," ",((Yi=Tn.find(B=>B.id===Ue.category))==null?void 0:Yi.name)||((Gn=X.find(B=>B.id===Ue.category))==null?void 0:Gn.name)||"Non specificata"]}),Ue.photo&&r.jsxs("p",{children:[r.jsx("strong",{children:"Foto:"})," ✅ Allegata"]})]}),r.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[r.jsxs("p",{className:"text-sm text-red-700",children:[r.jsx("strong",{children:"⚠️ ATTENZIONE:"}),r.jsx("br",{}),"Una volta salvata, l'etichetta ",r.jsx("strong",{children:"NON potrà essere modificata"}),". In caso di errore sarà necessario:"]}),r.jsxs("ul",{className:"text-xs text-red-600 mt-2 text-left",children:[r.jsx("li",{children:"• Caricare una nuova foto"}),r.jsx("li",{children:"• Rifare completamente la registrazione"})]}),r.jsx("p",{className:"text-sm text-red-700 mt-2",children:r.jsx("strong",{children:"Ricontrolla attentamente tutte le informazioni!"})})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(ge,{variant:"outline",onClick:()=>Er(!1),className:"flex-1",children:"← Modifica Dati"}),r.jsx(ge,{onClick:ba,className:"flex-1 bg-green-600 hover:bg-green-700",children:"✓ Conferma e Salva"})]})]})})]})}),_&&A&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(Ge,{className:"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Jf,{className:"h-5 w-5"}),"Visualizzazione Etichetta"]}),r.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>{b(!1),N(null)},children:r.jsx(Pn,{className:"h-4 w-4"})})]})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[A.photo&&r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-sm font-medium mb-2",children:"Foto Prodotto"}),r.jsxs("div",{className:"relative inline-block",children:[r.jsx("img",{src:A.photo,alt:"Foto prodotto",className:"w-32 h-32 object-cover rounded-lg border cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>Zn(!0)}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity bg-black bg-opacity-50 rounded-lg",children:r.jsx("span",{className:"text-white text-xs",children:"Clicca per ingrandire"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{className:"text-sm font-medium",children:"Nome Prodotto"}),r.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:A.productName})]}),r.jsxs("div",{children:[r.jsx(Ke,{className:"text-sm font-medium",children:"Codice/Barcode"}),r.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:A.barcode||"Non specificato"})]}),r.jsxs("div",{children:[r.jsx(Ke,{className:"text-sm font-medium",children:"Data Scadenza"}),r.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:A.expiryDate})]}),r.jsxs("div",{children:[r.jsx(Ke,{className:"text-sm font-medium",children:"Numero Lotto"}),r.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:A.lotNumber||"Non specificato"})]}),r.jsxs("div",{children:[r.jsx(Ke,{className:"text-sm font-medium",children:"Categoria"}),r.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:((Sa=Tn.find(B=>B.id===A.category))==null?void 0:Sa.name)||((ms=X.find(B=>B.id===A.category))==null?void 0:ms.name)||"Non specificata"})]}),r.jsxs("div",{children:[r.jsx(Ke,{className:"text-sm font-medium",children:"Posizione"}),r.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:A.location||"Non specificata"})]})]}),A.notes&&r.jsxs("div",{children:[r.jsx(Ke,{className:"text-sm font-medium",children:"Note"}),r.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:A.notes})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs text-gray-500",children:[r.jsxs("div",{children:[r.jsx(Ke,{className:"text-xs font-medium",children:"Creata da"}),r.jsx("p",{children:A.createdBy})]}),r.jsxs("div",{children:[r.jsx(Ke,{className:"text-xs font-medium",children:"Data Creazione"}),r.jsx("p",{children:new Date(A.createdAt).toLocaleString()})]})]})}),r.jsx("div",{className:"border-t pt-4 flex justify-center",children:r.jsx(ge,{variant:"outline",onClick:()=>{b(!1),N(null)},className:"px-8",children:"Chiudi"})})]})})]})}),Xt&&(A==null?void 0:A.photo)&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",onClick:()=>Zn(!1),children:r.jsxs("div",{className:"relative max-w-4xl max-h-4xl p-4",children:[r.jsx(ge,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 text-white hover:bg-white hover:bg-opacity-20",onClick:()=>Zn(!1),children:r.jsx(Pn,{className:"h-6 w-6"})}),r.jsx("img",{src:A.photo,alt:"Foto prodotto ingrandita",className:"max-w-full max-h-full object-contain rounded-lg",onClick:B=>B.stopPropagation()})]})}),en&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(Ge,{className:"w-full max-w-md mx-4",children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(Ei,{className:"h-5 w-5"}),"Sposta Etichette nel Gruppo"]})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Seleziona il gruppo dove spostare le ",z.length," etichette selezionate:"]}),r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:X.length===0?r.jsxs("div",{className:"text-center py-4",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Nessun gruppo disponibile."}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Crea prima un gruppo per spostare le etichette."})]}):X.map(B=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{const je=X.map(Oe=>{if(Oe.id===B.id){const Nt=[...new Set([...Oe.labelIds,...z])];return{...Oe,labelIds:Nt,labelCount:Nt.length,lastUpdate:new Date().toISOString()}}else{const Nt=Oe.labelIds.filter(ut=>!z.includes(ut));return{...Oe,labelIds:Nt,labelCount:Nt.length,lastUpdate:Nt.length!==Oe.labelIds.length?new Date().toISOString():Oe.lastUpdate}}});Ae(je),E([]),D(!1),Fn(!1)},children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:B.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[B.labelIds.length," etichette"]})]}),r.jsx(Ei,{className:"h-4 w-4 text-gray-400"})]},B.id))}),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx(ge,{variant:"outline",onClick:()=>{Fn(!1)},className:"flex-1",children:"Annulla"}),r.jsxs(ge,{onClick:()=>{Fn(!1),re(!0)},variant:"default",className:"flex-1",children:[r.jsx(xr,{className:"h-4 w-4 mr-2"}),"Nuovo Gruppo"]})]})]})})]})})]})}function K4({currentUser:e,currentSection:t,products:n=[],temperatures:i=[],cleaning:a=[],staff:s=[],onAction:l}){const[c,d]=se.useState([]),[p,x]=se.useState(""),[m,y]=se.useState(!1);se.useState([]);const[g,_]=se.useState(!1),[b,A]=se.useState(!1),[N,w]=se.useState(null),[L,J]=se.useState(!0),[ee,fe]=se.useState(!1),[H,R]=se.useState(!1),te=se.useRef(null),oe=se.useRef(!0),D=se.useRef(!0);console.log("🚀 AIAssistant: Component rendering, isMinimized:",L,"isMounted:",ee,"isVisible:",H),se.useEffect(()=>{console.log("🎯 AIAssistant: useEffect triggered - setting up component"),J(!0),oe.current=!0,D.current=!0,R(!1),console.log("⏰ AIAssistant: Starting mount timer (500ms)"),setTimeout(()=>{console.log("✅ AIAssistant: Mount timer complete - making visible"),fe(!0),J(!0),oe.current=!0,R(!0)},500),console.log("🚫 AIAssistant: Starting grace period (2000ms)"),setTimeout(()=>{D.current=!1,console.log("🎉 AIAssistant: Grace period ended, chat can now be opened by user")},2e3)},[]),se.useEffect(()=>{console.log("📊 AIAssistant: State changed - isMinimized:",L,"isMounted:",ee,"isVisible:",H,"forceMinimized:",oe.current,"gracePeriod:",D.current)},[L,ee,H]);const z=Y=>{if(console.log("AIAssistant: handleSetMinimized called with:",Y,"gracePeriod:",D.current,"forceMinimized:",oe.current),Y===!1&&D.current){console.log("AIAssistant: BLOCKED - Still in grace period, no opening allowed");return}if(Y===!1&&oe.current){console.log("AIAssistant: Preventing auto-open, first user click required");return}oe.current=!1,J(Y)},E=()=>{var Y;(Y=te.current)==null||Y.scrollIntoView({behavior:"smooth"})};se.useEffect(()=>{E()},[c]),se.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const Y=window.SpeechRecognition||window.webkitSpeechRecognition,Z=new Y;Z.continuous=!1,Z.interimResults=!1,Z.lang="it-IT",Z.onstart=()=>{A(!0),$("assistant","🎤 Ti sto ascoltando... Parla ora!","system")},Z.onresult=K=>{const le=K.results[0][0].transcript;x(le),$("assistant",`🎤 Ho sentito: "${le}"`,"system")},Z.onerror=K=>{console.error("Speech recognition error:",K.error),A(!1),$("assistant","❌ Errore nel riconoscimento vocale. Riprova!","system")},Z.onend=()=>{A(!1)},w(Z)}},[]),se.useEffect(()=>{},[]);const $=(Y,Z,K="text",le=null)=>{const j={id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sender:Y,content:Z,type:K,data:le,timestamp:new Date().toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})};d(V=>[...V,j])},re=async()=>{if(!p.trim())return;const Y=p.trim();x(""),$("user",Y),y(!0),setTimeout(()=>{const Z=ue(Y,t);$("assistant",Z.content,Z.type,Z.data),y(!1)},1e3)},ue=(Y,Z)=>{const K=Y.toLowerCase();switch(Z){case"inventory":return ye(K);case"cleaning":return X(K);case"temperature":return he();case"staff":return ne();case"dashboard":return Le();default:return k(K)}},ye=Y=>{if(Y.includes("aggiungere")||Y.includes("nuovo prodotto"))return{content:`Per aggiungere un nuovo prodotto:

1. **Vai alla sezione "Inventario"**
2. **Clicca "Aggiungi Prodotto"**
3. **Compila i campi richiesti:**
   - Nome prodotto
   - Categoria
   - Posizione
   - Data scadenza
   - Allergeni (se presenti)

**Suggerimento**: Puoi anche usare le categorie predefinite per aggiunta rapida!`,type:"text"};if(Y.includes("scadenza")||Y.includes("scaduti")){const Z=n.filter(K=>{const le=Math.ceil((new Date(K.expiryDate)-new Date)/864e5);return le<=7&&le>0});return Z.length>0?{content:`⚠️ **Prodotti in scadenza** (${Z.length} prodotti):

${Z.map(K=>`• ${K.name} - Scade il ${K.expiryDate}`).join(`
`)}

**Suggerimento**: Vuoi che generi delle ricette per utilizzare questi ingredienti?`,type:"alert",data:{products:Z}}:{content:"✅ Nessun prodotto in scadenza nei prossimi 7 giorni!",type:"text"}}return{content:`Per l'inventario posso aiutarti con:
• Aggiungere prodotti
• Controllare scadenze
• Gestire categorie
• Suggerimenti ricette

Cosa ti serve?`,type:"text"}},X=Y=>{if(Y.includes("attività")||Y.includes("mansioni")){const Z=a.filter(K=>!K.completed);return{content:`📋 **Attività da svolgere** (${Z.length} totali):

${Z.slice(0,5).map(K=>`• ${K.task} - Assegnato a: ${K.assignee}`).join(`
`)}
${Z.length>5?`
... e altre ${Z.length-5} attività`:""}

**Suggerimento**: Usa le schede per filtrare per frequenza (Giornaliere/Settimanali/Mensili/Annuali)`,type:"text"}}return Y.includes("temperatura")||Y.includes("frigo")?{content:`🌡️ **Ultime temperature registrate**:

${i.slice(-3).map(K=>`• ${K.location}: ${K.temperature}°C (${K.status})`).join(`
`)}

**Suggerimento**: Registra temperature regolarmente per monitorare la sicurezza alimentare!`,type:"text"}:{content:`Per la sezione pulizia posso aiutarti con:
• Gestione attività
• Controlli temperatura
• Frequenze mansioni
• Report completamento

Cosa ti serve?`,type:"text"}},he=Y=>({content:`Per i controlli temperatura posso aiutarti con:
• Registrare nuove temperature
• Monitorare trend
• Alert automatici
• Report periodici

Cosa ti serve?`,type:"text"}),ne=Y=>({content:`Per la gestione del personale posso aiutarti con:
• Aggiungere dipendenti
• Gestire ruoli
• Assegnare mansioni
• Report attività

Cosa ti serve?`,type:"text"}),Le=Y=>({content:`Per la dashboard posso aiutarti con:
• Panoramica generale
• Statistiche rapide
• Alert importanti
• Navigazione sezioni

Cosa ti serve?`,type:"text"}),k=Y=>Y.includes("aiuto")||Y.includes("help")?{content:`🤖 **Come posso aiutarti:**

**📦 Inventario:**
• Aggiungere prodotti
• Controllare scadenze
• Suggerimenti ricette

**🧹 Pulizia:**
• Gestire attività
• Controlli temperatura
• Frequenze mansioni

**👥 Personale:**
• Gestire dipendenti
• Assegnare ruoli

**📊 Dashboard:**
• Panoramica generale
• Statistiche

**⚙️ Automatizzazioni:**
• Alert scadenze
• Ordini settimanali
• Suggerimenti ricette

Dimmi in quale sezione ti trovi o cosa ti serve!`,type:"text"}:{content:"Non sono sicuro di aver capito. Puoi essere più specifico? Oppure dimmi in quale sezione ti trovi per ricevere aiuto mirato!",type:"text"},q=Y=>{Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),re())},G=()=>{if(!N){$("assistant","❌ Riconoscimento vocale non supportato dal tuo browser. Usa Chrome o Edge!","system");return}b?N.stop():N.start()};return r.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:!ee||!H?null:L?r.jsx(ge,{onClick:()=>z(!1),className:"w-12 h-12 rounded-full bg-blue-600 hover:bg-blue-700 shadow-lg",children:r.jsx(Ya,{className:"h-6 w-6 text-white"})}):r.jsxs(Ge,{className:"w-80 h-96 flex flex-col",children:[r.jsx(mt,{className:"pb-3",children:r.jsxs(gt,{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ya,{className:"h-4 w-4 text-blue-600"}),"Assistente IA",b&&r.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[r.jsx(bd,{className:"h-3 w-3 animate-pulse"}),r.jsx("span",{className:"text-xs",children:"Ascoltando..."})]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>z(!0),className:"h-6 w-6 p-0",children:r.jsx(Dy,{className:"h-3 w-3"})}),r.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>_(!g),className:"h-6 w-6 p-0",children:r.jsx(Gr,{className:"h-3 w-3"})})]})]})}),r.jsxs(Je,{className:"flex-1 flex flex-col p-0",children:[r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[c.map(Y=>r.jsx("div",{className:`flex ${Y.sender==="user"?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${Y.sender==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:r.jsxs("div",{className:"flex items-start gap-2",children:[Y.sender==="assistant"&&r.jsx(Ya,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm whitespace-pre-wrap",children:Y.content}),r.jsx("div",{className:`text-xs mt-1 ${Y.sender==="user"?"text-blue-100":"text-gray-500"}`,children:Y.timestamp})]})]})})},Y.id)),m&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ya,{className:"h-4 w-4 text-blue-600"}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}),r.jsx("div",{ref:te})]}),r.jsx("div",{className:"p-4 border-t bg-white",children:r.jsxs("div",{className:"flex gap-2 items-center",children:[r.jsx(at,{value:p,onChange:Y=>x(Y.target.value),onKeyPress:q,placeholder:"Scrivi un messaggio...",className:"flex-1 min-h-[40px]"}),r.jsx(ge,{onClick:G,disabled:m,size:"sm",className:`px-3 h-10 ${b?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:b?r.jsx(z2,{className:"h-4 w-4"}):r.jsx(bd,{className:"h-4 w-4"})}),r.jsx(ge,{onClick:re,disabled:!p.trim()||m,size:"sm",className:"px-3 h-10",children:r.jsx(E2,{className:"h-4 w-4"})})]})})]})]})})}function Q4({currentUser:e,products:t=[],temperatures:n=[],cleaning:i=[],staff:a=[],onAction:s}){const[l,c]=se.useState([]),[d,p]=se.useState(""),[x,m]=se.useState(!1),[y,g]=se.useState(!1),[_,b]=se.useState(null),[A,N]=se.useState(!1),[w,L]=se.useState([{id:1,name:"Alert Scadenze",enabled:!0,description:"Avvisa sui prodotti in scadenza"},{id:2,name:"Suggerimenti Ricette",enabled:!0,description:"Genera ricette per ingredienti in scadenza"},{id:3,name:"Ordini Settimanali",enabled:!1,description:"Crea ordini automatici ogni lunedì"},{id:4,name:"Alert Temperature",enabled:!0,description:"Avvisa su temperature critiche"}]),[J,ee]=se.useState(()=>{const E=localStorage.getItem("haccp-show-chat-icon");return E!==null?JSON.parse(E):!0});se.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const E=window.SpeechRecognition||window.webkitSpeechRecognition,$=new E;$.continuous=!1,$.interimResults=!1,$.lang="it-IT",$.onstart=()=>{g(!0),fe("assistant","🎤 Ti sto ascoltando... Parla ora!","system")},$.onresult=re=>{const ue=re.results[0][0].transcript;p(ue),fe("assistant",`🎤 Ho sentito: "${ue}"`,"system")},$.onerror=re=>{console.error("Speech recognition error:",re.error),g(!1),fe("assistant","❌ Errore nel riconoscimento vocale. Riprova!","system")},$.onend=()=>{g(!1)},b($)}},[]),se.useEffect(()=>{l.length===0&&fe("assistant",`Ciao ${(e==null?void 0:e.name)||"utente"}! 👋 Sono il tuo assistente IA per il sistema HACCP.

**🤖 Cosa posso fare:**
• **Gestione inventario** - Aggiungere prodotti, controllare scadenze
• **Controlli temperatura** - Registrare e monitorare temperature
• **Attività di pulizia** - Gestire mansioni e frequenze
• **Automatizzazioni** - Alert intelligenti e suggerimenti
• **🎤 Riconoscimento vocale** - Parla invece di scrivere!

**⚙️ Automatizzazioni attive:**
${w.filter(E=>E.enabled).map(E=>`• ${E.name}`).join(`
`)}

Dimmi cosa ti serve!`)},[]);const fe=(E,$,re="text",ue=null)=>{const ye={id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sender:E,content:$,type:re,data:ue,timestamp:new Date().toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})};c(X=>[...X,ye])},H=async()=>{if(!d.trim())return;const E=d.trim();p(""),fe("user",E),m(!0),setTimeout(()=>{const $=R(E);fe("assistant",$.content,$.type,$.data),m(!1)},1e3)},R=E=>{const $=E.toLowerCase();if($.includes("aiuto")||$.includes("help"))return{content:`🤖 **Come posso aiutarti:**

**📦 Inventario:**
• "Aggiungi un nuovo prodotto"
• "Controlla le scadenze"
• "Mostra i prodotti in scadenza"

**🌡️ Temperature:**
• "Registra una temperatura"
• "Mostra le ultime temperature"
• "Controlla i frigoriferi"

**🧹 Pulizia:**
• "Mostra le attività da svolgere"
• "Aggiungi una nuova attività"
• "Controlla le mansioni"

**⚙️ Automatizzazioni:**
• "Attiva alert scadenze"
• "Genera ricette"
• "Configura automatizzazioni"

**🎤 Comandi vocali:**
• Parla chiaramente in italiano
• Usa frasi semplici e dirette
• Clicca il microfono per iniziare`,type:"text"};if($.includes("scadenza")||$.includes("scaduti")){const re=t.filter(ue=>{const ye=Math.ceil((new Date(ue.expiryDate)-new Date)/864e5);return ye<=7&&ye>0});return re.length>0?{content:`⚠️ **Prodotti in scadenza** (${re.length} prodotti):

${re.map(ue=>`• ${ue.name} - Scade il ${ue.expiryDate}`).join(`
`)}

**Suggerimento**: Vuoi che generi delle ricette per utilizzare questi ingredienti?`,type:"alert",data:{products:re}}:{content:"✅ Nessun prodotto in scadenza nei prossimi 7 giorni!",type:"text"}}if($.includes("attività")||$.includes("mansioni")){const re=i.filter(ue=>!ue.completed);return{content:`📋 **Attività da svolgere** (${re.length} totali):

${re.slice(0,5).map(ue=>`• ${ue.task} - Assegnato a: ${ue.assignee}`).join(`
`)}
${re.length>5?`
... e altre ${re.length-5} attività`:""}

**Suggerimento**: Usa le schede per filtrare per frequenza!`,type:"text"}}return $.includes("temperatura")||$.includes("frigo")?{content:`🌡️ **Ultime temperature registrate**:

${n.slice(-3).map(ue=>`• ${ue.location}: ${ue.temperature}°C (${ue.status})`).join(`
`)}

**Suggerimento**: Registra temperature regolarmente per monitorare la sicurezza alimentare!`,type:"text"}:{content:'Non sono sicuro di aver capito. Prova a dire "aiuto" per vedere tutti i comandi disponibili!',type:"text"}},te=()=>{if(!_){fe("assistant","❌ Riconoscimento vocale non supportato dal tuo browser. Usa Chrome o Edge!","system");return}y?_.stop():_.start()},oe=E=>{L($=>$.map(re=>re.id===E?{...re,enabled:!re.enabled}:re))},D=()=>{const E=!J;ee(E),localStorage.setItem("haccp-show-chat-icon",JSON.stringify(E))};se.useEffect(()=>{localStorage.setItem("haccp-show-chat-icon",JSON.stringify(J))},[J]);const z=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),H())};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"IA Assistant"}),r.jsx("p",{className:"text-gray-600",children:"Il tuo assistente intelligente per la gestione HACCP"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ge,{onClick:te,disabled:x,className:`${y?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:[y?r.jsx(z2,{className:"h-4 w-4 mr-2"}):r.jsx(bd,{className:"h-4 w-4 mr-2"}),y?"Ferma Ascolto":"Parla"]}),r.jsxs(ge,{variant:"outline",onClick:()=>N(!A),children:[r.jsx(Gr,{className:"h-4 w-4 mr-2"}),"Impostazioni"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(Ge,{className:"h-96",children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(Ya,{className:"h-5 w-5 text-blue-600"}),"Chat con l'IA",y&&r.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[r.jsx(bd,{className:"h-3 w-3 animate-pulse"}),r.jsx("span",{className:"text-xs",children:"Ascoltando..."})]})]})}),r.jsxs(Je,{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 mb-4",children:[l.map(E=>r.jsx("div",{className:`flex ${E.sender==="user"?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${E.sender==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:r.jsxs("div",{className:"flex items-start gap-2",children:[E.sender==="assistant"&&r.jsx(Ya,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm whitespace-pre-wrap",children:E.content}),r.jsx("div",{className:`text-xs mt-1 ${E.sender==="user"?"text-blue-100":"text-gray-500"}`,children:E.timestamp})]})]})})},E.id)),x&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ya,{className:"h-4 w-4 text-blue-600"}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(at,{value:d,onChange:E=>p(E.target.value),onKeyPress:z,placeholder:"Scrivi un messaggio o parla...",className:"flex-1"}),r.jsx(ge,{onClick:H,disabled:!d.trim()||x,children:r.jsx(E2,{className:"h-4 w-4"})})]})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(Ry,{className:"h-5 w-5 text-yellow-600"}),"Automatizzazioni"]})}),r.jsx(Je,{children:r.jsx("div",{className:"space-y-3",children:w.map(E=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-sm",children:E.name}),r.jsx("p",{className:"text-xs text-gray-600",children:E.description})]}),r.jsx(ge,{size:"sm",variant:E.enabled?"default":"outline",onClick:()=>oe(E.id),children:E.enabled?"Attiva":"Disattiva"})]},E.id))})})]}),r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(im,{className:"h-5 w-5 text-purple-600"}),"Azioni Rapide"]})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ge,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>p("Controlla le scadenze"),children:[r.jsx($n,{className:"h-4 w-4 mr-2"}),"Controlla Scadenze"]}),r.jsxs(ge,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>p("Mostra le attività da svolgere"),children:[r.jsx(Bi,{className:"h-4 w-4 mr-2"}),"Attività da Svolgere"]}),r.jsxs(ge,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>p("Mostra le ultime temperature"),children:[r.jsx(bn,{className:"h-4 w-4 mr-2"}),"Ultime Temperature"]}),r.jsxs(ge,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>p("Aiuto"),children:[r.jsx(Py,{className:"h-4 w-4 mr-2"}),"Aiuto"]})]})})]}),A&&r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(Gr,{className:"h-5 w-5 text-gray-600"}),"Impostazioni Chat IA"]})}),r.jsx(Je,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Mostra Icona Chat"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Visualizza l'icona della chat IA nell'app"})]}),r.jsx(ge,{size:"sm",variant:J?"default":"outline",onClick:D,children:J?"Attiva":"Disattiva"})]}),r.jsxs("div",{className:"text-xs text-blue-600 bg-blue-50 p-3 rounded-lg",children:["💡 ",r.jsx("strong",{children:"Suggerimento:"}),` Se disattivi l'icona della chat, potrai sempre accedere all'IA dalla sezione "Assistente IA" nel menu principale.`]})]})})]})]})]})]})}function Z4({products:e=[],onRecipeSuggestion:t}){const[n,i]=se.useState([]),[a,s]=se.useState(!1),[l,c]=se.useState([]);se.useEffect(()=>{(()=>{const m=new Date,y=e.filter(g=>{if(!g.expiryDate)return!1;const _=new Date(g.expiryDate),b=Math.ceil((_-m)/(1e3*60*60*24));return b<=7&&b>0});i(y)})()},[e]);const d=()=>{const x=[];n.forEach(m=>{const y=p(m);y&&x.push(y)}),c(x),s(!0)},p=x=>({"Mozzarella di Bufala":{name:"Insalata Caprese",ingredients:["Mozzarella di Bufala","Pomodoro","Basilico","Olio EVO"],instructions:"Taglia mozzarella e pomodoro a fette, alterna su piatto, guarnisci con basilico e olio.",difficulty:"Facile",time:"10 minuti"},"Parmigiano Reggiano":{name:"Risotto al Parmigiano",ingredients:["Riso Carnaroli","Parmigiano Reggiano","Burro","Brodo"],instructions:"Prepara risotto classico, manteca con parmigiano e burro.",difficulty:"Media",time:"25 minuti"},"Prosciutto Crudo":{name:"Antipasto Prosciutto e Melone",ingredients:["Prosciutto Crudo","Melone","Rucola"],instructions:"Avvolgi fette di prosciutto su cubetti di melone, guarnisci con rucola.",difficulty:"Facile",time:"5 minuti"},Salmone:{name:"Salmone al Forno con Erbe",ingredients:["Salmone","Limone","Erbe aromatiche","Olio EVO"],instructions:"Condisci salmone con erbe, limone e olio, cuoci in forno a 180°C per 15 min.",difficulty:"Facile",time:"20 minuti"},"Basilico Fresco":{name:"Pesto alla Genovese",ingredients:["Basilico Fresco","Parmigiano","Pine Nuts","Olio EVO","Aglio"],instructions:"Frulla tutti gli ingredienti fino a ottenere una crema omogenea.",difficulty:"Facile",time:"10 minuti"}})[x.name]||{name:`Ricetta con ${x.name}`,ingredients:[x.name,"Altri ingredienti disponibili"],instructions:"Crea una ricetta utilizzando questo ingrediente prima che scada.",difficulty:"Media",time:"15 minuti"};return n.length===0?null:r.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-md",children:r.jsxs(Ge,{className:"border-orange-200 bg-orange-50",children:[r.jsx(mt,{className:"pb-3",children:r.jsxs(gt,{className:"flex items-center gap-2 text-orange-800",children:[r.jsx(Mr,{className:"h-5 w-5"}),"Prodotti in Scadenza"]})}),r.jsxs(Je,{className:"space-y-3",children:[r.jsxs("div",{className:"text-sm text-orange-700",children:[r.jsxs("p",{className:"font-medium mb-2",children:[n.length," prodotto",n.length>1?"i":""," in scadenza:"]}),r.jsx("ul",{className:"space-y-1",children:n.map(x=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(nm,{className:"h-3 w-3"}),r.jsx("span",{children:x.name}),r.jsxs("span",{className:"text-xs",children:["(scade il ",new Date(x.expiryDate).toLocaleDateString("it-IT"),")"]})]},x.id))})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ge,{onClick:d,className:"bg-orange-600 hover:bg-orange-700 text-white",size:"sm",children:[r.jsx(by,{className:"h-4 w-4 mr-1"}),"Suggerisci Ricette"]}),r.jsxs(ge,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-300",children:[r.jsx(Yn,{className:"h-4 w-4 mr-1"}),"Rimuovi Alert"]})]}),a&&l.length>0&&r.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg border",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Ricette Suggerite:"}),r.jsx("div",{className:"space-y-2",children:l.map((x,m)=>r.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[r.jsx("h5",{className:"font-medium text-sm",children:x.name}),r.jsxs("p",{className:"text-xs text-gray-600",children:["Tempo: ",x.time," • Difficoltà: ",x.difficulty]}),r.jsx("p",{className:"text-xs text-gray-700 mt-1",children:x.instructions})]},m))})]})]})]})})}function eN({temperatures:e,cleaning:t,products:n,refrigerators:i,setTemperatures:a,setCleaning:s,setProducts:l,setRefrigerators:c}){const[d,p]=se.useState(!1),[x,m]=se.useState({temperatures:0,cleaning:0,products:0,refrigerators:0,totalSize:0});se.useEffect(()=>{(()=>{const N=e||[],w=t||[],L=n||[],J=i||[],ee=JSON.stringify(N).length,fe=JSON.stringify(w).length,H=JSON.stringify(L).length,R=JSON.stringify(J).length;m({temperatures:N.length,cleaning:w.length,products:L.length,refrigerators:J.length,totalSize:ee+fe+H+R})})()},[e,t,n,i]);const y=()=>{if(!d)return;const A=new Date;A.setDate(A.getDate()-30);const N=e||[],w=t||[],L=N.filter(D=>new Date(D.timestamp)<A),J=N.filter(D=>new Date(D.timestamp)>=A),ee=w.filter(D=>D.completed&&new Date(D.createdAt)<A),fe=w.filter(D=>!D.completed||new Date(D.createdAt)>=A);let H=[];const R={temperatures:L,cleaning:ee,expiredLabels:H,archivedAt:new Date().toISOString()},te=JSON.parse(localStorage.getItem("haccp-archives")||"[]");te.push(R),localStorage.setItem("haccp-archives",JSON.stringify(te)),a(J),s(fe),L.length+ee.length+H.length>0?alert(`🗂️ Archiviazione completata!

📊 Elementi archiviati:
• ${L.length} registrazioni temperature
• ${ee.length} attività completate
• ${H.length} etichette prodotti scaduti

💾 Controllo scadenze temporaneamente disabilitato`):alert(`✅ Archiviazione completata!

📊 Elementi archiviati:
• ${L.length} registrazioni temperature
• ${ee.length} attività completate
• Controllo etichette scadute: disabilitato`)};se.useEffect(()=>{if(!d)return;const A=setInterval(()=>{y()},24*60*60*1e3);return()=>clearInterval(A)},[d]);const g=A=>Math.min(A/5242880*100,100),_=A=>A<50?"text-green-600":A<80?"text-yellow-600":"text-red-600",b=A=>{if(A===0)return"0 Bytes";const N=1024,w=["Bytes","KB","MB","GB"],L=Math.floor(Math.log(A)/Math.log(N));return parseFloat((A/Math.pow(N,L)).toFixed(2))+" "+w[L]};return r.jsx("div",{className:"space-y-6",children:r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(Xl,{className:"h-5 w-5"}),"Gestione Storage"]})}),r.jsxs(Je,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Utilizzo Storage"}),r.jsxs("div",{className:"relative w-48 h-48 mx-auto",children:[r.jsxs("svg",{className:"w-48 h-48 transform -rotate-90",viewBox:"0 0 100 100",children:[r.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#3B82F6",strokeWidth:"8",strokeDasharray:`${x.temperatures/(x.temperatures+x.cleaning+x.products+x.refrigerators)*251.2} 251.2`,strokeDashoffset:"0"}),r.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#10B981",strokeWidth:"8",strokeDasharray:`${x.cleaning/(x.temperatures+x.cleaning+x.products+x.refrigerators)*251.2} 251.2`,strokeDashoffset:`-${x.temperatures/(x.temperatures+x.cleaning+x.products+x.refrigerators)*251.2}`}),r.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#F59E0B",strokeWidth:"8",strokeDasharray:`${x.products/(x.temperatures+x.cleaning+x.products+x.refrigerators)*251.2} 251.2`,strokeDashoffset:`-${(x.temperatures+x.cleaning)/(x.temperatures+x.cleaning+x.products+x.refrigerators)*251.2}`}),r.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#8B5CF6",strokeWidth:"8",strokeDasharray:`${x.refrigerators/(x.temperatures+x.cleaning+x.products+x.refrigerators)*251.2} 251.2`,strokeDashoffset:`-${(x.temperatures+x.cleaning+x.products)/(x.temperatures+x.cleaning+x.products+x.refrigerators)*251.2}`})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`text-2xl font-bold ${_(g(x.totalSize))}`,children:b(x.totalSize)}),r.jsx("div",{className:"text-sm text-gray-600",children:"Utilizzato"})]})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Dettaglio Dati"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium",children:"Temperature"})]}),r.jsxs("span",{className:"text-sm text-gray-600",children:[x.temperatures," record"]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium",children:"Attività"})]}),r.jsxs("span",{className:"text-sm text-gray-600",children:[x.cleaning," record"]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium",children:"Prodotti"})]}),r.jsxs("span",{className:"text-sm text-gray-600",children:[x.products," record"]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-sm font-medium",children:"Frigoriferi"})]}),r.jsxs("span",{className:"text-sm text-gray-600",children:[x.refrigerators," record"]})]})]})]})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[r.jsx(H0,{className:"h-4 w-4"}),"Archiviazione Automatica"]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Rimuove automaticamente i dati vecchi per mantenere l'app veloce"})]}),r.jsx(ge,{variant:d?"default":"outline",onClick:()=>p(!d),className:"flex items-center gap-2",children:d?r.jsxs(r.Fragment,{children:[r.jsx(Bi,{className:"h-4 w-4"}),"Abilitata"]}):r.jsxs(r.Fragment,{children:[r.jsx(Gr,{className:"h-4 w-4"}),"Disabilitata"]})})]}),d&&r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Cosa fa l'archiviazione automatica:"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:"• Rimuove le registrazioni temperature più vecchie di 30 giorni"}),r.jsx("li",{children:"• Archivia le attività completate più vecchie di 30 giorni"}),r.jsx("li",{children:"• Chiede conferma per rimuovere etichette di prodotti scaduti OGGI"}),r.jsx("li",{children:"• Mantiene tutti i prodotti e frigoriferi attivi"}),r.jsx("li",{children:"• Crea un backup completo dei dati rimossi"}),r.jsx("li",{children:"• Libera spazio solo con conferma utente per le foto"}),r.jsx("li",{children:"• Si esegue automaticamente ogni 24 ore"})]}),r.jsx("div",{className:"mt-3",children:r.jsxs(ge,{onClick:y,className:"flex items-center gap-2",size:"sm",children:[r.jsx(H0,{className:"h-4 w-4"}),"Archivia Ora"]})})]})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Azioni Manuali"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs(ge,{variant:"outline",className:"flex items-center gap-2",onClick:()=>{const A={temperatures:e,cleaning:t,products:n,refrigerators:i,exportedAt:new Date().toISOString()},N=new Blob([JSON.stringify(A,null,2)],{type:"application/json"}),w=URL.createObjectURL(N),L=document.createElement("a");L.href=w,L.download=`haccp-backup-${new Date().toISOString().split("T")[0]}.json`,L.click()},children:[r.jsx($s,{className:"h-4 w-4"}),"Esporta Tutti i Dati"]}),r.jsxs(ge,{variant:"outline",className:"flex items-center gap-2",onClick:()=>{confirm("Sei sicuro di voler eliminare tutti i dati? Questa azione non può essere annullata.")&&(a([]),s([]),l([]),c([]),alert("Tutti i dati sono stati eliminati."))},children:[r.jsx(Yn,{className:"h-4 w-4"}),"Elimina Tutti i Dati"]})]})]})]})]})})}function tN(){const[e,t]=se.useState(null),[n,i]=se.useState(!1),[a,s]=se.useState(!1);se.useEffect(()=>{const d=()=>window.matchMedia("(display-mode: standalone)").matches?(s(!0),!0):!1,p=localStorage.getItem("pwa-install-rejected");return!d()&&!p&&(window.addEventListener("beforeinstallprompt",x=>{x.preventDefault(),t(x),i(!0)}),window.addEventListener("appinstalled",()=>{s(!0),i(!1),t(null)})),()=>{window.removeEventListener("beforeinstallprompt",()=>{}),window.removeEventListener("appinstalled",()=>{})}},[]);const l=async()=>{if(!e)return;e.prompt();const{outcome:d}=await e.userChoice;d==="accepted"?(console.log("PWA installata con successo!"),s(!0)):(console.log("Installazione PWA rifiutata"),localStorage.setItem("pwa-install-rejected","true")),t(null),i(!1)},c=()=>{i(!1),localStorage.setItem("pwa-install-rejected","true")};return a||!n?null:r.jsx("div",{className:"fixed bottom-4 left-4 right-4 bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-50",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx($s,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Installa l'App"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Installa Mini-ePackPro sul tuo dispositivo per un accesso più veloce e funzionalità offline."}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ge,{onClick:l,size:"sm",className:"flex items-center gap-2",children:[r.jsx($s,{className:"h-4 w-4"}),"Installa"]}),r.jsxs(ge,{onClick:c,variant:"outline",size:"sm",children:[r.jsx(Pn,{className:"h-4 w-4"}),"Non ora"]})]})]})})})}class nN{constructor(t){this.companyId=t,this.storagePrefix=`cloud-sim-${t}`,console.log("☁️ CloudSimulator attivo per:",t)}async saveToCloud(t,n,i){return new Promise((a,s)=>{try{setTimeout(()=>{const l=`${this.storagePrefix}-${t}`,c={data:n,lastModified:new Date().toISOString(),modifiedBy:i,companyId:this.companyId,version:Date.now()};localStorage.setItem(l,JSON.stringify(c)),console.log(`📤 [SIMULATO] Salvato in cloud: ${t}`),a({success:!0,message:`✅ ${t} condiviso con tutti!`,timestamp:c.lastModified})},800+Math.random()*400)}catch{s({success:!1,message:`❌ Errore simulato nel salvare ${t}`})}})}async loadFromCloud(t){return new Promise((n,i)=>{try{setTimeout(()=>{const a=`${this.storagePrefix}-${t}`,s=localStorage.getItem(a);if(s){const l=JSON.parse(s);console.log(`📥 [SIMULATO] Scaricato dal cloud: ${t}`),n({success:!0,data:l.data,lastModified:l.lastModified,message:`✅ Ricevuti aggiornamenti di ${t}!`})}else n({success:!0,data:null,message:`ℹ️ Nessun dato di ${t} nel cloud`})},600+Math.random()*300)}catch{i({success:!1,message:`❌ Errore nel scaricare ${t}`})}})}isOnline(){return navigator.onLine}async getCompanyInfo(){return new Promise(t=>{setTimeout(()=>{t({id:this.companyId,name:"Demo Pizzeria Da Mario",plan:"free",users:5,maxUsers:25,storageUsed:"45 MB",storageMax:"1 GB"})},300)})}async getRecentChanges(){return new Promise(t=>{setTimeout(()=>{t({success:!0,changes:[{type:"inventory",user:"Luca (Magazzino)",action:"Aggiunto: Mozzarella di Bufala",time:"5 min fa"},{type:"temperatures",user:"Sara (Cucina)",action:"Temperatura Frigo A: 4.2°C",time:"12 min fa"},{type:"cleaning",user:"Marco (Pulizie)",action:"Completata: Sanificazione tavoli",time:"25 min fa"}],hasUpdates:Math.random()>.5})},400)})}getStorageStats(){return{localSpace:"45 MB",cloudSpace:"12 MB",photosCount:23,documentsCount:156,lastSync:localStorage.getItem("haccp-last-sync")||"Mai",syncCount:parseInt(localStorage.getItem("cloud-sim-sync-count")||"0")}}incrementSyncCount(){const t=parseInt(localStorage.getItem("cloud-sim-sync-count")||"0");localStorage.setItem("cloud-sim-sync-count",(t+1).toString())}async cleanupCloudStorage(){return new Promise(t=>{setTimeout(()=>{const n=Math.floor(Math.random()*20)+5;t({success:!0,message:`🧹 Liberati ${n} MB dal cloud!`,spaceSaved:`${n} MB`})},1e3)})}}const rN=(e="demo-company")=>new nN(e);function iN({currentUser:e,isAdmin:t=!1,onSettingsChange:n}){const[i,a]=se.useState({keepPhotosLocal:!1,keepDocsLocal:!0,keepDataLocal:!0,autoShareTemperatures:!0,autoShareInventory:!0,autoShareCleaning:!0,autoShareStaff:t,keepDaysLocal:7,maxPhotosLocal:t?100:20}),[s,l]=se.useState({usedSpace:"45 MB",availableSpace:"2.1 GB",photosCount:23,docsCount:156}),[c]=se.useState(()=>rN("demo-pizzeria"));se.useEffect(()=>{const m=localStorage.getItem("haccp-data-settings");m&&a({...i,...JSON.parse(m)});const y=c.getStorageStats();l({usedSpace:y.localSpace,availableSpace:"2.1 GB",photosCount:y.photosCount,docsCount:y.documentsCount})},[c]);const d=(m,y)=>{const g={...i,[m]:y};a(g),localStorage.setItem("haccp-data-settings",JSON.stringify(g)),n==null||n(g)},p=({title:m,description:y,value:g,onChange:_,icon:b,adminOnly:A=!1})=>A&&!t?null:r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-white",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(b,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:m}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y}),A&&r.jsxs("span",{className:"inline-flex items-center gap-1 mt-1 px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded",children:[r.jsx(Gr,{className:"h-3 w-3"}),"Solo Amministratore"]})]})]}),r.jsx(ge,{variant:"ghost",onClick:()=>_(!g),className:"p-1",children:g?r.jsx(Oy,{className:"h-6 w-6 text-green-600"}):r.jsx(Fy,{className:"h-6 w-6 text-gray-400"})})]}),x=({title:m,description:y,current:g,options:_,onChange:b,icon:A})=>r.jsxs("div",{className:"p-4 border rounded-lg bg-white",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx(A,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:m}),r.jsx("p",{className:"text-sm text-gray-600",children:y})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:_.map(N=>r.jsx(ge,{variant:g===N.value?"default":"outline",onClick:()=>b(N.value),className:"text-sm py-2",children:N.label},N.value))})]});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"📱 Gestione Dati"}),r.jsx("p",{className:"text-gray-600",children:"Decidi cosa tenere sul tuo telefono e cosa condividere"})]}),r.jsxs(Ge,{className:"bg-gradient-to-r from-green-50 to-blue-50",children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(Ey,{className:"h-5 w-5"}),"Spazio sul Tuo Telefono"]})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.usedSpace}),r.jsx("p",{className:"text-xs text-gray-600",children:"Usato dall'app"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.availableSpace}),r.jsx("p",{className:"text-xs text-gray-600",children:"Spazio libero"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:s.photosCount}),r.jsx("p",{className:"text-xs text-gray-600",children:"Foto salvate"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:s.docsCount}),r.jsx("p",{className:"text-xs text-gray-600",children:"Documenti"})]})]})})]}),r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(No,{className:"h-5 w-5"}),"Foto e Documenti"]})}),r.jsxs(Je,{className:"space-y-4",children:[r.jsx(p,{icon:M2,title:"Salva Foto sul Telefono",description:"Le foto delle etichette rimangono sul tuo telefono anche senza internet. Occupa più spazio ma è più veloce.",value:i.keepPhotosLocal,onChange:m=>d("keepPhotosLocal",m)}),r.jsx(p,{icon:Ly,title:"Salva Documenti sul Telefono",description:"Tieni una copia di ricette, procedure e documenti sul telefono per consultarli anche offline.",value:i.keepDocsLocal,onChange:m=>d("keepDocsLocal",m)}),r.jsx(x,{icon:Xl,title:"Quante Foto Tenere",description:"Numero massimo di foto da tenere salvate sul telefono",current:i.maxPhotosLocal,onChange:m=>d("maxPhotosLocal",m),options:[{value:10,label:"10 foto"},{value:50,label:"50 foto"},{value:100,label:"100 foto"}]})]})]}),r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(Q0,{className:"h-5 w-5"}),"Condivisione Automatica"]})}),r.jsxs(Je,{className:"space-y-4",children:[r.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-800",children:["💡 ",r.jsx("strong",{children:"Cosa significa:"})," Se attivi queste opzioni, le modifiche che fai verranno condivise automaticamente con i colleghi appena hai internet."]})}),r.jsx(p,{icon:bn,title:"Condividi Temperature Automaticamente",description:"Le temperature dei frigoriferi vengono condivise subito con tutti. Importante per la sicurezza alimentare.",value:i.autoShareTemperatures,onChange:m=>d("autoShareTemperatures",m)}),r.jsx(p,{icon:$n,title:"Condividi Inventario Automaticamente",description:"Quando aggiungi o modifichi prodotti, tutti vedono subito le modifiche.",value:i.autoShareInventory,onChange:m=>d("autoShareInventory",m)}),r.jsx(p,{icon:Bi,title:"Condividi Pulizie Automaticamente",description:"Le attività di pulizia completate vengono condivise subito con il team.",value:i.autoShareCleaning,onChange:m=>d("autoShareCleaning",m)}),r.jsx(p,{icon:ca,title:"Condividi Gestione Staff",description:"Modifiche a dipendenti, ruoli e permessi vengono condivise automaticamente.",value:i.autoShareStaff,onChange:m=>d("autoShareStaff",m),adminOnly:!0})]})]}),r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(Xl,{className:"h-5 w-5"}),"Quanto Tenere sul Telefono"]})}),r.jsxs(Je,{className:"space-y-4",children:[r.jsx(x,{icon:Xl,title:"Giorni di Dati da Tenere",description:"Quanti giorni di temperature, pulizie e inventario tenere salvati sul telefono",current:i.keepDaysLocal,onChange:m=>d("keepDaysLocal",m),options:[{value:3,label:"3 giorni"},{value:7,label:"1 settimana"},{value:30,label:"1 mese"}]}),r.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(rm,{className:"h-4 w-4 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Perché è importante?"}),r.jsxs("ul",{className:"text-xs text-gray-600 mt-1 space-y-1",children:[r.jsxs("li",{children:["• 📱 ",r.jsx("strong",{children:"Meno giorni"})," = telefono più veloce e più spazio libero"]}),r.jsxs("li",{children:["• 📊 ",r.jsx("strong",{children:"Più giorni"})," = puoi vedere dati anche senza internet"]}),r.jsxs("li",{children:["• ☁️ ",r.jsx("strong",{children:"Tutti i dati"})," rimangono sempre salvati online"]})]})]})]})})]})]}),r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsx(gt,{children:"🚀 Azioni Rapide"})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs(ge,{variant:"outline",className:"flex items-center gap-2",onClick:async()=>{try{const m=await c.cleanupCloudStorage();if(m.success){alert(`✅ ${m.message}
💾 Spazio liberato: ${m.spaceSaved}`);const y=c.getStorageStats();l(g=>({...g,usedSpace:y.localSpace}))}}catch{alert("❌ Errore durante la pulizia dello spazio")}},children:[r.jsx(Xl,{className:"h-4 w-4"}),"Libera Spazio"]}),r.jsxs(ge,{variant:"outline",className:"flex items-center gap-2",onClick:async()=>{var m;try{alert("🔄 Sto sincronizzando tutto..."),await new Promise(g=>setTimeout(g,1500));const y=await c.getRecentChanges();y.success&&alert(`✅ Sincronizzazione completata!
👥 Trovate ${((m=y.changes)==null?void 0:m.length)||0} modifiche dai colleghi`)}catch{alert("❌ Errore durante la sincronizzazione")}},children:[r.jsx(Q0,{className:"h-4 w-4"}),"Sincronizza Ora"]})]})})]})]})}function aN({isOpen:e,onClose:t,onLogin:n,users:i,onAddUser:a}){const[s,l]=se.useState(""),[c,d]=se.useState(""),[p,x]=se.useState(!1),[m,y]=se.useState(!1),[g,_]=se.useState(""),[b,A]=se.useState({name:"",pin:"",role:"employee",department:""}),[N,w]=se.useState([]),[L,J]=se.useState([]);se.useEffect(()=>{const te=localStorage.getItem("haccp-departments"),oe=localStorage.getItem("haccp-departments-version"),D=["Banconisti","Cuochi","Amministrazione"];if(oe!=="2.0"||!te)w(D),J(D);else try{const E=JSON.parse(te).filter(re=>re.isCustom).map(re=>re.name),$=[...E];D.forEach(re=>{E.includes(re)||$.push(re)}),w($),J(D)}catch(z){console.error("Errore nel caricamento reparti:",z),w(D),J(D)}},[]);const ee=()=>{if(!s||!c){_("Seleziona utente e inserisci PIN");return}const te=i.find(oe=>oe.id===s);if(!te){_("Utente non trovato");return}if(te.pin!==c){_("PIN non corretto");return}n(te),H()},fe=()=>{if(!b.name.trim()||!b.pin.trim()){_("Nome e PIN sono obbligatori");return}if(b.pin.length!==4){_("Il PIN deve essere di 4 cifre");return}if(i.some(te=>te.pin===b.pin)){_("PIN già in uso, scegline un altro");return}a(b),x(!1),A({name:"",pin:"",role:"employee",department:""}),_("")},H=()=>{l(""),d(""),_(""),x(!1),y(!1)},R=()=>{H(),t()};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[r.jsx("h2",{className:"text-xl font-semibold",children:p?"Aggiungi Nuovo Utente":"Inizia il Turno"}),r.jsx(ge,{variant:"ghost",size:"sm",onClick:R,children:r.jsx(Pn,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"p-6",children:[g&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:g}),p?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"new-name",children:"Nome Completo"}),r.jsx(at,{id:"new-name",value:b.name,onChange:te=>A({...b,name:te.target.value}),placeholder:"es. Mario Rossi"})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"new-pin",children:"PIN (4 cifre)"}),r.jsx(at,{id:"new-pin",type:"password",value:b.pin,onChange:te=>{const oe=te.target.value.replace(/\D/g,"").slice(0,4);A({...b,pin:oe})},maxLength:4,placeholder:"••••"})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"new-role",children:"Ruolo"}),r.jsxs("select",{id:"new-role",value:b.role,onChange:te=>A({...b,role:te.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"-- Seleziona ruolo --"}),r.jsx("option",{value:"dipendente",children:"Dipendente (Staff Fisso) (Consigliato)"}),r.jsx("option",{value:"responsabile",children:"Responsabile (Consigliato)"}),r.jsx("option",{value:"collaboratore",children:"Collaboratore Occasionale (Consigliato)"}),r.jsx("option",{value:"admin",children:"Amministratore (Consigliato)"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:`I ruoli contrassegnati come "Consigliato" sono provvisori e verranno sostituiti dalle categorie create dall'amministratore.`})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"new-department",children:"Reparto"}),r.jsxs("select",{id:"new-department",value:b.department,onChange:te=>A({...b,department:te.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"-- Seleziona reparto --"}),N.map(te=>{const oe=L.includes(te);return r.jsxs("option",{value:te,children:[te," ",oe?"(Consigliato)":""]},te)})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:`I reparti contrassegnati come "Consigliato" sono provvisori e verranno sostituiti dalle categorie create dall'amministratore.`})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsxs(ge,{onClick:fe,className:"flex-1",disabled:!b.name.trim()||b.pin.length!==4,children:[r.jsx(xr,{className:"mr-2 h-4 w-4"}),"Crea Utente"]}),r.jsx(ge,{variant:"outline",onClick:()=>{x(!1),_("")},children:"Indietro"})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"user-select",children:"Seleziona Utente"}),r.jsxs("select",{id:"user-select",value:s,onChange:te=>{l(te.target.value),_("")},className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"-- Scegli utente --"}),i.map(te=>r.jsxs("option",{value:te.id,children:[te.name," (",te.department,")",te.role==="admin"&&" - Admin"]},te.id))]})]}),r.jsxs("div",{children:[r.jsx(Ke,{htmlFor:"pin",children:"PIN (4 cifre)"}),r.jsxs("div",{className:"relative",children:[r.jsx(at,{id:"pin",type:m?"text":"password",value:c,onChange:te=>{const oe=te.target.value.replace(/\D/g,"").slice(0,4);d(oe),_("")},maxLength:4,placeholder:"••••",className:"pr-10"}),r.jsx(ge,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>y(!m),children:m?r.jsx(Cy,{className:"h-4 w-4"}):r.jsx(Jf,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsxs(ge,{onClick:ee,className:"flex-1",disabled:!s||c.length!==4,children:[r.jsx(F2,{className:"mr-2 h-4 w-4"}),"Entra"]}),r.jsx(ge,{variant:"outline",onClick:R,children:"Annulla"})]}),r.jsx("div",{className:"pt-4 border-t",children:r.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>x(!0),className:"w-full",children:[r.jsx(xr,{className:"mr-2 h-4 w-4"}),"Aggiungi Nuovo Utente"]})})]})]})]})}):null}function sN({activeTab:e,temperatures:t}){const[n,i]=se.useState(!1);se.useEffect(()=>{i(e==="temperature")},[e]);const a=()=>{if(typeof window.jspdf>"u"){alert("Errore: Librerie PDF non caricate. Ricarica la pagina e riprova.");return}if(t.length===0){alert("Nessuna temperatura registrata da esportare.");return}try{const s=["Posizione","Temperatura","Orario"],l=[];t.forEach(y=>{l.push([y.location,`${y.temperature}°C`,y.time])});const{jsPDF:c}=window.jspdf,d=new c;d.setFontSize(18),d.text("Report: Temperature HACCP",14,22),d.setFontSize(12);const p=new Date().toLocaleDateString("it-IT");d.text(`Data esportazione: ${p}`,14,32),d.text(`Totale rilevazioni: ${t.length}`,14,40),d.autoTable({startY:50,head:[s],body:l,theme:"striped",styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[25,118,210],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{0:{cellWidth:60},1:{cellWidth:40,halign:"center"},2:{cellWidth:50}}});const x=d.internal.getNumberOfPages();d.setFontSize(8);for(let y=1;y<=x;y++)d.setPage(y),d.text(`Mini-ePackPro HACCP - Pagina ${y} di ${x}`,14,d.internal.pageSize.height-10);const m=`report_Temperature_${new Date().toISOString().slice(0,10)}.pdf`;d.save(m)}catch(s){console.error("PDF export error:",s),alert("Errore durante l'esportazione del PDF. Riprova.")}};return n?r.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:r.jsxs(ge,{onClick:a,className:"bg-primary-500 hover:bg-primary-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 px-6 py-3 rounded-xl",size:"lg",children:[r.jsx(ky,{className:"h-5 w-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Esporta Temperature in PDF"}),r.jsx("span",{className:"sm:hidden",children:"PDF"})]})}):null}function oN(){var Z;const[e,t]=se.useState("dashboard"),[n,i]=se.useState([]),[a,s]=se.useState([]),[l,c]=se.useState([]),[d,p]=se.useState([]),[x,m]=se.useState([]),[y,g]=se.useState([]),[_,b]=se.useState([]),[A,N]=se.useState(null),[w,L]=se.useState([]),[J,ee]=se.useState(!1),[fe,H]=se.useState(!0),[R,te]=se.useState(()=>{const K=localStorage.getItem("haccp-last-check");return K?JSON.parse(K):{}}),[oe,D]=se.useState([]);se.useState(()=>localStorage.getItem("haccp-last-sync")||null),se.useState(()=>localStorage.getItem("haccp-company-id")||"demo-pizzeria"),se.useEffect(()=>{const K=localStorage.getItem("haccp-temperatures"),le=localStorage.getItem("haccp-cleaning"),j=localStorage.getItem("haccp-refrigerators"),V=localStorage.getItem("haccp-staff"),F=localStorage.getItem("haccp-products"),ae=localStorage.getItem("haccp-departments"),be=localStorage.getItem("haccp-product-labels"),Me=localStorage.getItem("haccp-users");if(localStorage.getItem("haccp-current-user"),K&&i(JSON.parse(K)),le&&s(JSON.parse(le)),j&&c(JSON.parse(j)),V&&p(JSON.parse(V)),F&&m(JSON.parse(F)),ae&&g(JSON.parse(ae)),be&&b(JSON.parse(be)),Me)L(JSON.parse(Me));else{const rt={id:"admin_001",name:"Admin",pin:"0000",role:"admin",department:"Amministrazione",createdAt:new Date().toISOString()};L([rt]),localStorage.setItem("haccp-users",JSON.stringify([rt]))}const xe=localStorage.getItem("haccp-show-chat-icon");xe!==null&&H(JSON.parse(xe));const W=rt=>{rt.key==="haccp-show-chat-icon"&&H(JSON.parse(rt.newValue))};return window.addEventListener("storage",W),()=>{window.removeEventListener("storage",W)}},[]),se.useEffect(()=>{},[x,n,a,d,_]),se.useEffect(()=>{localStorage.setItem("haccp-temperatures",JSON.stringify(n))},[n]),se.useEffect(()=>{localStorage.setItem("haccp-refrigerators",JSON.stringify(l))},[l]),se.useEffect(()=>{localStorage.setItem("haccp-cleaning",JSON.stringify(a))},[a]),se.useEffect(()=>{localStorage.setItem("haccp-staff",JSON.stringify(d))},[d]),se.useEffect(()=>{localStorage.setItem("haccp-products",JSON.stringify(x))},[x]),se.useEffect(()=>{localStorage.setItem("haccp-departments",JSON.stringify(y))},[y]),se.useEffect(()=>{localStorage.setItem("haccp-product-labels",JSON.stringify(_))},[_]);const z=K=>{N(K),ee(!1),localStorage.setItem("haccp-current-user",JSON.stringify(K));const le={id:Date.now(),timestamp:new Date().toISOString(),user:K.id,userName:K.name,type:"login",description:`Accesso di ${K.name}`},j=JSON.parse(localStorage.getItem("haccp-actions")||"[]");j.push(le),localStorage.setItem("haccp-actions",JSON.stringify(j))},E=()=>{const K={dashboard:0,cleaning:0,inventory:0,labels:0,staff:0,refrigerators:0},le=R.cleaning||"2000-01-01T00:00:00.000Z",j=a.filter(Re=>new Date(Re.createdAt||Re.timestamp)>new Date(le)).length;K.cleaning+=j;const V=R.inventory||"2000-01-01T00:00:00.000Z",F=new Date,ae=new Date(F.getTime()+3*24*60*60*1e3),be=new Date(F.getTime()+4*24*60*60*1e3),Me=x.filter(Re=>{const tt=new Date(Re.expiryDate);return tt>=ae&&tt<=be}).length,xe=x.filter(Re=>new Date(Re.createdAt||Re.addedDate)>new Date(V)).length;K.inventory+=Me+xe;const W=R.labels||"2000-01-01T00:00:00.000Z",rt=_.filter(Re=>new Date(Re.createdAt||"2000-01-01")>new Date(W)).length;K.labels+=rt;const Xe=R.staff||"2000-01-01T00:00:00.000Z",ze=d&&Array.isArray(d)?d.filter(Re=>Re&&new Date(Re.addedDate||Re.createdAt||"2000-01-01")>new Date(Xe)).length:0;K.staff+=ze;const Ee=R.refrigerators||"2000-01-01T00:00:00.000Z",qe=n.filter(Re=>{const it=new Date(Re.timestamp)>new Date(Ee),ct=Re.status==="warning"||Re.status==="danger";return it&&ct}).length;K.refrigerators+=qe;const Ce=x.filter(Re=>{const tt=new Date(Re.expiryDate),it=new Date;return tt.setHours(0,0,0,0),it.setHours(0,0,0,0),tt.getTime()===it.getTime()}).length;return K.dashboard=Ce+qe,K},$=K=>{const le={...R,[K]:new Date().toISOString()};te(le),localStorage.setItem("haccp-last-check",JSON.stringify(le))},re=E(),ue=({hasNotification:K,className:le=""})=>K?r.jsx("div",{className:`absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full ${le}`}):null,ye=(K,le,j=null)=>{const V={id:j||`${K}_${Date.now()}`,type:K,data:le,timestamp:new Date().toISOString(),userId:A==null?void 0:A.id,userName:A==null?void 0:A.name};D(F=>[...F.filter(be=>!(be.type===K&&be.id===V.id)),V])},X=(K,le,j)=>{console.log("🎯 TRACKING:",K,"with",(le==null?void 0:le.length)||0,"items"),ye(K,le,j)};se.useEffect(()=>{x.length>0&&A&&(console.log("📦 Products changed:",x.length,"items"),X("inventory",x,"auto-inventory"))},[x,A]),se.useEffect(()=>{n.length>0&&A&&(console.log("🌡️ Temperatures changed:",n.length,"items"),X("temperatures",n,"auto-temperatures"))},[n,A]),se.useEffect(()=>{a.length>0&&A&&(console.log("🧹 Cleaning changed:",a.length,"items"),X("cleaning",a,"auto-cleaning"))},[a,A]),se.useEffect(()=>{d.length>0&&A&&(console.log("👥 Staff changed:",d.length,"items"),X("staff",d,"auto-staff"))},[d,A]),se.useEffect(()=>{console.log("📋 PENDING CHANGES:",oe.length,oe)},[oe]);const he=()=>{if(A){const K={id:Date.now(),timestamp:new Date().toISOString(),user:A.id,userName:A.name,type:"logout",description:`Disconnessione di ${A.name}`},le=JSON.parse(localStorage.getItem("haccp-actions")||"[]");le.push(K),localStorage.setItem("haccp-actions",JSON.stringify(le))}N(null),t("dashboard"),localStorage.removeItem("haccp-current-user")},ne=K=>{const le={...K,id:`user_${Date.now()}`,createdAt:new Date().toISOString()},j=[...w,le];L(j),localStorage.setItem("haccp-users",JSON.stringify(j));const V={id:`staff_${Date.now()}`,name:K.name,role:K.role==="admin"?"Amministratore":K.role==="dipendente"?"Dipendente":K.role==="responsabile"?"Responsabile":K.role==="collaboratore"?"Collaboratore Occasionale":"Dipendente",department:K.department||"Non assegnato",certification:"",notes:`Utente registrato il ${new Date().toLocaleDateString("it-IT")}`,addedDate:new Date().toLocaleDateString("it-IT"),addedTime:new Date().toLocaleString("it-IT"),isRegisteredUser:!0,userId:le.id},F=[...d,V];p(F),localStorage.setItem("haccp-staff",JSON.stringify(F))},Le=()=>A&&A.role==="admin",q=(()=>{const K=n.filter(ae=>ae.status==="ok").length,le=n.filter(ae=>ae.status==="danger").length,j=a.filter(ae=>!ae.completed).length,V=new Date,F=x.filter(ae=>{const Me=new Date(ae.expiryDate)-V,xe=Math.ceil(Me/(1e3*60*60*24));return xe<=7&&xe>=0}).length;return{temperatureOk:K,temperatureProblems:le,cleaningPending:j,expiringToday:F}})(),G=()=>{const K={temperatures:n,cleaningTasks:a,staff:d,products:x,departments:y,productLabels:_,exportDate:new Date().toISOString()},le=new Blob([JSON.stringify(K,null,2)],{type:"application/json"}),j=URL.createObjectURL(le),V=document.createElement("a");V.href=j,V.download=`haccp-data-${new Date().toISOString().split("T")[0]}.json`,V.click(),URL.revokeObjectURL(j)},Y=K=>{const le=K.target.files[0];if(!le)return;const j=new FileReader;j.onload=V=>{try{const F=JSON.parse(V.target.result);F.temperatures&&(i(F.temperatures),localStorage.setItem("haccp-temperatures",JSON.stringify(F.temperatures))),F.cleaningTasks&&(s(F.cleaningTasks),localStorage.setItem("haccp-cleaning",JSON.stringify(F.cleaningTasks))),F.staff&&(p(F.staff),localStorage.setItem("haccp-staff",JSON.stringify(F.staff))),F.products&&(m(F.products),localStorage.setItem("haccp-products",JSON.stringify(F.products))),F.departments&&(g(F.departments),localStorage.setItem("haccp-departments",JSON.stringify(F.departments))),F.productLabels&&(b(F.productLabels),localStorage.setItem("haccp-product-labels",JSON.stringify(F.productLabels))),alert("Dati importati con successo!")}catch(F){alert("Errore durante l'importazione del file"),console.error("Import error:",F)}},j.readAsText(le)};return A?r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Business HACCP Manager"}),r.jsxs("p",{className:"text-gray-600",children:["Benvenuto, ",r.jsxs("span",{className:"font-['Dancing_Script'] font-semibold text-2xl text-purple-600",children:[A.name," - ",A.role==="admin"?"Admin":"Dipendente"]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ge,{onClick:G,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx($s,{className:"h-4 w-4"}),"Esporta"]}),r.jsxs("label",{className:"cursor-pointer",children:[r.jsx(ge,{variant:"outline",size:"sm",className:"flex items-center gap-2",asChild:!0,children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(K0,{className:"h-4 w-4"}),r.jsx("span",{children:"Importa"})]})}),r.jsx("input",{type:"file",accept:".json",onChange:Y,className:"hidden"})]})]})]}),r.jsxs(Wy,{value:e,onValueChange:K=>{t(K),$(K)},children:[r.jsxs(B2,{className:`grid w-full ${Le()?"grid-cols-3 md:grid-cols-9":"grid-cols-3 md:grid-cols-8"} gap-1 mb-8`,children:[r.jsxs(sa,{value:"dashboard",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm relative",children:[r.jsx(G0,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Dashboard"}),r.jsx(ue,{hasNotification:re.dashboard>0})]}),r.jsxs(sa,{value:"refrigerators",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm relative",children:[r.jsx(bn,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Frigoriferi"}),r.jsx(ue,{hasNotification:re.refrigerators>0})]}),r.jsxs(sa,{value:"cleaning",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm relative",children:[r.jsx(im,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Attività e Mansioni"}),r.jsx(ue,{hasNotification:re.cleaning>0})]}),r.jsxs(sa,{value:"inventory",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm relative",children:[r.jsx($n,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Inventario"}),r.jsx(ue,{hasNotification:re.inventory>0})]}),r.jsxs(sa,{value:"labels",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm relative",children:[r.jsx(Yl,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Etichette"}),r.jsx(ue,{hasNotification:re.labels>0})]}),r.jsxs(sa,{value:"ai-assistant",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[r.jsx(Ya,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"IA Assistant"})]}),r.jsxs(sa,{value:"data-settings",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[r.jsx(Gr,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Dati"})]}),Le()&&r.jsxs(sa,{value:"staff",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm relative",children:[r.jsx(ca,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Gestione"}),r.jsx(ue,{hasNotification:re.staff>0})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[Le()&&r.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>t("staff"),className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm h-9 px-3",children:[r.jsx(Gr,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Impostazioni"})]}),r.jsxs(ge,{variant:"outline",size:"sm",onClick:he,className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm h-9 px-3",children:[r.jsx(Ty,{className:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Esci"})]})]})]}),r.jsx(oa,{value:"dashboard",children:r.jsx("div",{className:"space-y-6",children:r.jsx(By,{temperatures:n,cleaning:a,products:x,staff:d,currentUser:A})})}),r.jsx(oa,{value:"refrigerators",children:r.jsx(Hy,{temperatures:n,setTemperatures:K=>{i(K),X("temperatures",K)},currentUser:A,refrigerators:l,setRefrigerators:K=>{c(K),X("refrigerators",K)}})}),r.jsx(oa,{value:"cleaning",children:r.jsx(Uy,{cleaning:a,setCleaning:K=>{s(K),X("cleaning",K)},currentUser:A,departments:y})}),r.jsx(oa,{value:"inventory",children:r.jsx(X4,{products:x,setProducts:K=>{m(K),X("inventory",K)},currentUser:A,refrigerators:l})}),r.jsx(oa,{value:"labels",children:r.jsx(Y4,{productLabels:_,setProductLabels:b,products:x,currentUser:A})}),r.jsx(oa,{value:"ai-assistant",children:r.jsx(Q4,{currentUser:A,products:x,temperatures:n,cleaning:a,staff:d,onAction:K=>{console.log("AI Action:",K)}})}),r.jsx(oa,{value:"data-settings",children:r.jsx(iN,{currentUser:A,isAdmin:Le(),onSettingsChange:K=>{console.log("📱 Impostazioni dati aggiornate:",K)}})}),Le()&&r.jsx(oa,{value:"staff",children:r.jsxs("div",{className:"space-y-6",children:[r.jsx(Gy,{staff:d,setStaff:K=>{p(K),X("staff",K)},users:w,setUsers:L,currentUser:A,isAdmin:Le()}),r.jsx(eN,{temperatures:n,setTemperatures:i,cleaning:a,setCleaning:s,products:x,setProducts:m,refrigerators:l,setRefrigerators:c})]})})]}),r.jsx(sN,{activeTab:e,temperatures:n}),A&&fe&&r.jsx(K4,{currentUser:A,currentSection:e,products:x,temperatures:n,cleaning:a,staff:d,onAction:K=>{console.log("AI Action:",K)}}),A&&r.jsx(Z4,{products:x,onRecipeSuggestion:K=>{console.log("Recipe suggestions:",K)}}),r.jsx(tN,{})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Business HACCP Manager"}),r.jsx("p",{className:"text-gray-600",children:"Sistema di Gestione HACCP per Ristoranti"})]}),r.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:r.jsxs(Ge,{children:[r.jsx(mt,{children:r.jsxs(gt,{className:"flex items-center gap-2",children:[r.jsx(G0,{className:"h-5 w-5"}),"Report Giornalieri - ",new Date().toLocaleDateString("it-IT")]})}),r.jsx(Je,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:q.temperatureOk}),r.jsx("div",{className:"text-sm text-green-700",children:"Temperature OK"})]}),r.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:q.temperatureProblems}),r.jsx("div",{className:"text-sm text-red-700",children:"Problemi Temp."})]}),r.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:q.cleaningPending}),r.jsx("div",{className:"text-sm text-yellow-700",children:"Pulizie Pending"})]}),r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:q.expiringToday}),r.jsx("div",{className:"text-sm text-blue-700",children:"Scadenze Prodotti"})]})]})})]})}),r.jsx("div",{className:"max-w-md mx-auto mb-4",children:r.jsx(Ge,{children:r.jsx(Je,{className:"pt-6",children:r.jsxs("div",{className:"flex gap-2 justify-center",children:[r.jsxs(ge,{onClick:G,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[r.jsx($s,{className:"h-4 w-4"}),"Esporta"]}),r.jsxs("label",{className:"cursor-pointer",children:[r.jsx(ge,{variant:"outline",size:"sm",className:"flex items-center gap-2",asChild:!0,children:r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(K0,{className:"h-4 w-4"}),"Importa"]})}),r.jsx("input",{type:"file",accept:".json",onChange:Y,className:"hidden"})]})]})})})}),r.jsxs("div",{className:"max-w-md mx-auto",children:[w.length>1&&r.jsx(Ge,{className:"mb-4",children:r.jsx(Je,{className:"pt-6",children:r.jsxs("div",{className:"text-center text-gray-600",children:[r.jsx("div",{className:"text-sm",children:"Ultimo accesso:"}),r.jsx("div",{className:"font-semibold",children:(Z=w[w.length-1])==null?void 0:Z.name})]})})}),r.jsx("div",{className:"text-center",children:r.jsxs(ge,{size:"lg",className:"text-lg px-8 py-4",onClick:()=>ee(!0),children:[r.jsx(Iy,{className:"mr-2 h-5 w-5"}),"🚀 INIZIA TURNO"]})})]})]}),r.jsx(aN,{isOpen:J,onClose:()=>ee(!1),onLogin:z,users:w,onAddUser:ne})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e),e.addEventListener("updatefound",()=>{const t=e.installing;t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&confirm("Nuova versione disponibile. Ricaricare la pagina?")&&window.location.reload()})})}).catch(e=>{console.log("SW registration failed: ",e)})});ef.createRoot(document.getElementById("root")).render(r.jsx(Fo.StrictMode,{children:r.jsx(oN,{})}));export{Wt as _,lN as c,Hx as g};
